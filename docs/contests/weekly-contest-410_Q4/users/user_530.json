{
    "username": "VIkkY53",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        int m = 1001;\n        vector<vector<int>> dp = vector<vector<int>>(m, vector<int>(m, 0));\n        long long mod = 1e9 + 7;\n        vector<vector<int>> prev(m, vector<int> (m, 0));\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j <= nums[i]; j++) {\n                int a = j;\n                int b = nums[i] - j;\n                dp[a][b] = 0;\n                dp[a][b] = (i == 0 ? 1 : prev[a][b]);\n                // cout << i << \" \" <<  a << \" \" << b << \" \" << dp[i][a][b] << \"\\n\";\n            }\n            // cout << \"........................\" << \"\\n\";\n            for (int j = 0; j <= (i + 1 < n ? nums[i + 1] : -1); j++) {\n                int k = nums[i + 1] - j;\n                int prevj = j - 1;\n                int prevk = k + 1;\n                prev[j][k] = 0;\n                long long prevsum = (prevj >= 0 && prevk < m ? prev[prevj][prevk] : 0);\n                long long curr = 0;\n                if (nums[i + 1] == nums[i]) {\n                    curr = dp[j][k];\n                }\n                if (nums[i + 1] > nums[i]) {\n                    int jj = nums[i] - k;\n                    curr = jj >= 0 ? dp[jj][k] : 0;\n                }\n                if (nums[i + 1] < nums[i]) {\n                    int kk = nums[i] - j;\n                    curr = k < m ? dp[j][kk] : 0;\n                }\n                prev[j][k] = (curr + prevsum) % mod;\n            }\n        }\n        long long ans = 0;\n        for (int i = 0; i <= nums[n - 1]; i++) {\n            ans += dp[i][nums[n - 1] - i];\n            ans %= mod;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723347641",
    "subm_id": "1351602745"
}