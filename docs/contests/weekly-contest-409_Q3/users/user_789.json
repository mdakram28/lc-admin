{
    "username": "she_was_my_love",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& q) {\n        vector<int>ans;\n        int tmp=n-1;\n        set<pair<int,int>>s;\n        for(auto v : q){\n            if(s.empty()){\n                s.insert({v[0],v[1]});\n                tmp-=(v[1]-v[0]-1);\n                ans.push_back(tmp);\n            }\n            else{\n                auto it=s.lower_bound({v[0],0});\n                    auto prv=it;\n                    if(it!=s.begin())\n                    prv--;\n                    if(prv->first<=v[0] && v[1]<=prv->second){\n                        ans.push_back(tmp);\n                        continue;\n                    }\n                auto nxt=it;\n                while(nxt!=s.end() && v[1]>=nxt->second){\n                        auto rem=nxt;\n                        tmp+=(nxt->second-nxt->first-1);\n                        //cout<<nxt->second-nxt->first-1;\n                        nxt++;\n                        s.erase(rem);\n                }\n                s.insert({v[0],v[1]});\n                //cout<<tmp<<endl;\n                tmp-=(v[1]-v[0]-1);\n                ans.push_back(tmp);\n\n                \n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722743086",
    "subm_id": "1343784024"
}