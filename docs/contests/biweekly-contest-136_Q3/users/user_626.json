{
    "username": "Fkaiser7",
    "submission": "class Solution {\npublic:\n    int fuc(int i,int j,int mod,vector<vector<int>>& grid,vector<vector<vector<int>>>&dp){\n        int p=dp.size();\n        int q=dp[0].size();\n        int p1=grid.size();\n        int q1=grid[0].size();\n        //cout<<i<<\" \"<<j<<\" \"<<p<<\" \"<<q<<\" \"<<p1<<\" \"<<q1<<endl;\n        if(i==p){\n            if(mod==0){\n                return 0;\n            }\n            return 1e9;\n        }\n        if(j==q){\n            return fuc(i+1,0,mod,grid,dp);\n        }\n        if(dp[i][j][mod]!=-1){\n            return dp[i][j][mod];\n        }\n        int ans=1e9;\n        if(i==p-1&&p1%2==1){\n            if(j==q-1&&grid[0].size()%2){\n                ans=min(ans,grid[i][j]+fuc(i,j+1,mod,grid,dp));\n                ans=min(ans,1-grid[i][j]+fuc(i,j+1,(mod+1)%4,grid,dp));\n            }\n            else{\n                int a=grid[i][j];int b=grid[i][q1-1-j];\n                int x=a+b;\n                int y=2-a-b;\n                ans=min(ans,x+fuc(i,j+1,mod,grid,dp));\n                ans=min(ans,y+fuc(i,j+1,(mod+2)%4,grid,dp));\n            }\n        }\n        else{\n            if(j==q-1&&grid[0].size()%2){\n                int a=grid[i][j];int b=grid[p1-1-i][j];\n                int x=a+b;\n                int y=2-a-b;\n                ans=min(ans,x+fuc(i,j+1,mod,grid,dp));\n                ans=min(ans,y+fuc(i,j+1,(mod+2)%4,grid,dp));\n            }\n            else{\n                int a=grid[i][j];int b=grid[i][q1-1-j];\n                int c=grid[p1-1-i][j];int d=grid[p1-1-i][q1-1-j];\n                int s=a+b+c+d;\n                ans=min(ans,4-s+fuc(i,j+1,(mod+4)%4,grid,dp));\n                ans=min(ans,s+fuc(i,j+1,mod,grid,dp));\n            }\n        }\n        return dp[i][j][mod]=ans;\n    }\n    int minFlips(vector<vector<int>>& grid) {\n        int n=grid.size();\n        int m=grid[0].size();\n        int p=n/2;\n        if(n%2){\n            p++;\n        }\n        int q=m/2;\n        if(m%2){\n            q++;\n        }\n        vector<vector<vector<int>>>dp(p,vector<vector<int>>(q,\n        vector<int>(4,-1)));\n        return fuc(0,0,0,grid,dp);\n    }\n};",
    "submit_ts": "1722697698",
    "subm_id": "1343155703"
}