{
    "username": "kmjp",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define FORR2(x,y,arr) for(auto& [x,y]:arr)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\ntemplate<class T> bool chmax(T &a, const T &b) { if(a<b){a=b;return 1;}return 0;}\ntemplate<class T> bool chmin(T &a, const T &b) { if(a>b){a=b;return 1;}return 0;}\n//-------------------------------------------------------\n\nint S[30][101010];\n\nclass Solution {\npublic:\n\tll range(int L,int R) {\n\t\tint ret=0,i;\n\t\tFOR(i,30) if(S[i][R+1]-S[i][L]==R+1-L) ret|=1<<i;\n\t\treturn ret;\n\t}\n    int minimumDifference(vector<int>& nums, int k) {\n\t\tint N=nums.size();\n        int i,j;\n        FOR(j,30) FOR(i,N) {\n\t\t\tS[j][i+1]=S[j][i];\n\t\t\tif(nums[i]&(1<<j)) S[j][i+1]++;\n\t\t}\n\t\tll ma=-1LL<<40;\n\t\tfor(int L=0,R=0;L<N;L++) {\n\t\t\tR=max(R,L);\n\t\t\twhile(R<N&&range(L,R)>k) R++;\n\t\t\tif(R<N) ma=max(ma,range(L,R));\n\t\t}\n\t\tll mi=1LL<<40;\n\t\tfor(int L=0,R=0;L<N;L++) {\n\t\t\tR=max(R,L);\n\t\t\twhile(R<N&&range(L,R+1)>=k) R++;\n\t\t\tif(range(L,R)>=k) mi=min(mi,range(L,R));\n\t\t}\n\t\t\n\t\treturn min(abs(ma-k),abs(mi-k));\n\t\t\n\t\t\n    }\n};\n",
    "submit_ts": 1717296373.0
}