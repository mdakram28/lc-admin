{
    "username": "AutumnMist",
    "submission": "public class Solution\n{\n    HashSet<int>[] g;\n    int[] max;\n    int[] ans;\n    public int[] TimeTaken(int[][] edges)\n    {\n        int n = edges.Length + 1;\n        max = new int[n];\n        g = new HashSet<int>[n];\n        for (int i = 0; i < n; i++) g[i] = new HashSet<int>();\n        foreach (int[] v in edges)\n        {\n            g[v[0]].Add(v[1]);\n            g[v[1]].Add(v[0]);\n        }\n        DFS0(0, -1);\n        ans = new int[n];\n        ans[0] = max[0];\n        DFS(0, -1, 0);\n        return ans;\n    }\n\n    private void DFS0(int u, int p)\n    {\n        max[u] = 0;\n        foreach(int v in g[u])\n        {\n            if (v == p) continue;\n            DFS0(v, u);\n            max[u] = Math.Max(max[u], v % 2 == 0 ? (2 + max[v]) : (1 + max[v]));\n        }\n    }\n\n    private void DFS(int u, int p, int d)\n    {\n        ans[u] = Math.Max(d, max[u]);\n        int mx = 0, mx2 = 0;\n        foreach(int v in g[u])\n        {\n            if(v == p)continue;\n            int cmx = max[v] + (v % 2 == 0 ? 2 : 1);\n            if (cmx >= mx)\n            {\n                mx2 = mx;\n                mx = cmx;\n            }\n            else if (cmx >= mx2) mx2 = cmx;\n        }\n        foreach (int v in g[u])\n        {\n            if (v == p) continue;\n            int cmx = max[v] + (v % 2 == 0 ? 2 : 1);\n            int d2 = (cmx == mx ? mx2 : mx);\n            d2 += (u % 2 == 0 ? 2 : 1);\n            DFS(v, u, Math.Max(d2, d + (u % 2 == 0 ? 2 : 1)));\n        }\n    }\n}",
    "submit_ts": "1722699585",
    "subm_id": "552276284"
}