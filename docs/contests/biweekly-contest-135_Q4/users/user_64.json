{
    "username": "fried-chicken",
    "submission": "#define rep(i,a,n) for(int i=a;i<=n;i++)\n#define per(i,a,n) for(int i=n;i>=a;i--)\n#define pb push_back\n#define SZ(v) ((int)v.size())\n#define fs first\n#define sc second\n#define all(x) (x.begin()),(x.end())\ntypedef long long ll;\ntypedef double db;\ntypedef pair<int,int> pii;\n\nll dp[110][110][110],sum[110][110];\nclass Solution {\npublic:\n    long long maximumScore(vector<vector<int>>& grid) {\n        memset(dp,0,sizeof(dp));\n        memset(sum,0,sizeof(sum));\n        int n=SZ(grid);\n        rep(j,1,n){\n        \trep(i,1,n){\n        \t\tsum[i][j]=sum[i-1][j]+(ll)grid[i-1][j-1];\n\t\t\t}\n\t\t}\n\t\t// xkj\n        // **i\n\t\trep(i,1,n){\n\t\t\trep(j,0,n){\n\t\t\t\trep(k,0,n){\n\t\t\t\t\tll sv1=sum[j][i+1]-sum[min(j,k)][i]+sum[j][i-1];\n\t\t\t\t\tll sv2=sum[j][i+1]-sum[min(j,k)][i];\n\t\t\t\t\tif(k>=j){\n\t\t\t\t\t\trep(x,0,n)\t{\n\t                        dp[i][j][k]=max(dp[i][j][k],dp[i-1][k][x]+sv2);\n\t                    }\n\t\t\t\t\t}\n\t\t\t\t\telse{\n                        ll sv3=sv1-sum[k][i-1];\n                        rep(x,0,k)  dp[i][j][k]=max(dp[i][j][k],dp[i-1][k][x]+sv3);\n                        rep(x,k+1,j)    dp[i][j][k]=max(dp[i][j][k],dp[i-1][k][x]+sv1-sum[x][i-1]);\n                        rep(x,j+1,n)    dp[i][j][k]=max(dp[i][j][k],dp[i-1][k][x]+sv2);\n\t\t\t\t\t\t// rep(x,0,n)\t{\n\t\t\t\t\t\t// if(x<=j)\tdp[i][j][k]=max(dp[i][j][k],dp[i-1][k][x]+sv1-sum[max(k,x)][i-1]);\n\t\t\t\t\t\t// else\tdp[i][j][k]=max(dp[i][j][k],dp[i-1][k][x]+sv2);\n\t\t\t\t\t\t// }\n\t                }\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll ans=0;\n\t\trep(j,0,n){\n\t\t\trep(k,0,n)\tans=max(ans,dp[n][j][k]);\n\t\t}\n\t\treturn ans;\n    }\n};",
    "submit_ts": "1721489725",
    "subm_id": "548320028"
}