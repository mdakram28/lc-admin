{
    "username": "Darsh Patel",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries)\n    {\n        int n=s.length();\n        vector<int> prez(n+1,0),preo(n+1,0);\n        for(int i=0;i<n;i++)\n        {\n            prez[i+1]=prez[i];\n            preo[i+1]=preo[i];\n            if(s[i]=='0')\n            {\n                prez[i+1]++;\n            }else\n            {\n                preo[i+1]++;\n            }\n        }\n        vector<long long> v(n);\n        vector<int> pos(n);\n        vector<int> mp(n);\n        for(int i=0;i<n;i++)\n        {\n            mp[i]=-1;\n        }\n        for(int i=0;i<n;i++)\n        {\n            int l=i,r=n;\n            while(r-l>1)\n            {\n                int m=(r+l)/2;\n                if(prez[m+1]-prez[i]>k && preo[m+1]-preo[i]>k)\n                {\n                    r=m;\n                }else\n                {\n                    l=m;\n                }\n            }\n            pos[i]=l;\n            mp[l]=i;\n            long long x=l-i;\n            v[i]=x;\n        }\n        for(int i=1;i<n;i++)\n        {\n            if(mp[i]==-1)\n            {\n                mp[i]=mp[i-1];\n            }\n        }\n        vector<long long> pre(n+1,0);\n        for(int i=0;i<n;i++)\n        {\n            pre[i+1]=pre[i];\n            pre[i+1]+=v[i];\n        }\n        vector<long long> ans;\n        for(auto &it:queries)\n        {\n            int l=it[0],r=it[1];\n            if(pos[l]>=r)\n            {\n                long long hi=(long long)r,lo=(long long)l;\n                long long x=((hi-lo+1)*(hi-lo+2))/2;\n                ans.push_back(x);\n                continue;\n            }\n            int l1=mp[r];\n            long long hi=(long long)r,lo=(long long)l1;\n            long long temp=(((hi-(lo+1))*(hi-lo))/2);\n            long long x=pre[l1+1]-pre[l]+(r-l+1)+temp;\n            ans.push_back(x);\n        }\n        for(int i=0;i<n;i++)\n        {\n            cout << pos[i] << \" \";\n        }\n        cout << endl;\n        for(int i=0;i<n;i++)\n        {\n            cout << v[i] << \" \";\n        }\n        cout << endl;\n        return ans;\n    }\n};",
    "submit_ts": "1723953513",
    "subm_id": "1359823321"
}