{
    "username": "i_pranav",
    "submission": "\n    const int SZ=2e6+5;\n    int pres[SZ];\nclass Solution {\npublic:\n    int minChanges(vector<int>& v, int k) {\n        unordered_map<int,vector<int>> res;\n        int n=v.size();\n        int sz=2e6+5;\n        memset(pres,0,sizeof pres);\n        \n        int max_val=0;\n        for(int i=0;i<n/2;i++){\n            res[abs(v[i]-v[n-i-1])].push_back(i);\n            int mn=min(v[i],v[n-i-1]);\n            int mx=max(v[i],v[n-i-1]);\n            pair<int,int> l,r;\n            if(mn<=k)   l={0,max(mn,k-mn)};\n            else l={mn-k,mn};\n            if(mx<=k)   r={0,max(mx,k-mx)};\n            else r={mx-k,mx};\n            // cout<<i<<\" \"<<l.second<<\" \"<<l.first<<\" \"<<r.second<<\" \"<<r.first<<\"\\n\";\n            if(r.first<=l.second){      // need only 1 \n                pres[max(l.second,r.second)+1]-=1;\n                pres[l.first]+=1;\n            }\n            else{\n                pres[r.second+1]-=1;\n                pres[r.first]+=1;\n                pres[l.second+1]-=1;\n                pres[l.first]+=1;\n            }\n            max_val=max({max_val,1+l.second,1+r.second});\n        }\n        // for(int i=0;i<10;i++)   cout<<pres[i]<<\" \";\n        for(int i=1;i<max_val;i++){\n            pres[i]+=pres[i-1];\n        }\n        int ans=n;        // change all elements \n        for(auto& [p,vec]:res){\n            int rem=n/2-vec.size();\n            int avl=pres[p];\n            for(auto& i:vec){\n                int mn=min(v[i],v[n-i-1]);\n                int mx=max(v[i],v[n-i-1]);\n                pair<int,int> l,r;\n                if(mn<=k)   l={0,max(mn,k-mn)};\n                else l={mn-k,mn};\n                if(mx<=k)   r={0,max(mx,k-mx)};\n                else r={mx-k,mx};\n                if(l.second>=p && l.first<=p) avl--;\n                else if(r.second>=p && r.first<=p)  avl--;\n            }\n            if(avl==rem){\n                ans=min(ans,avl);       // 1 op on each\n            }\n            else if(p<=k){\n                ans=min(ans,avl+(rem-avl)*2);\n            }\n\n        }\n        return ans;\n        \n    }\n};",
    "submit_ts": "1721489581",
    "subm_id": "1327457602"
}