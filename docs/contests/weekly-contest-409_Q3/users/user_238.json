{
    "username": "liu-jia-jie-e",
    "submission": "class Solution {\npublic:\n    static const int N=1e5+10;\n    int tr[N];\n    int tn;\n    int lowbit(int x){\n        return x&-x;\n    }\n    void add(int u,int x){\n        for(int i=u;i<=tn;i+=lowbit(i)){\n            tr[i]+=x;\n        }\n    }\n    int query(int u){\n        int res=0;\n        for(int i=u;i;i-=lowbit(i)){\n            res+=tr[i];\n        }\n        return res;\n    }\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& qs) {\n        tn=n+5;\n        // memset(tr,0,sizeof tr);\n        for(int i=1;i<=n;i++){\n            add(i,n-i),add(i+1,i-n);\n        }\n        int m=qs.size();\n        // memset(tr,0,sizeof tr);\n        vector<int> ans(m);\n        // for(int i=1;i<=n;i++){\n        //     cout<<query(i)<<\" \";\n        // }\n        set<pair<int,int>> st;\n        for(int i=0;i<m;i++){\n            int x=qs[i][0]+1,y=qs[i][1]+1;\n            int d=query(x)-query(y)-1;\n            // cout<<d<<'\\n';\n            auto p=st.lower_bound({-x,-1e9});\n            \n            if(d>=0){\n                if(p!=st.end()&&-p->second>=y){\n                   add(-p->first+1,-d),add(x+1,d);\n                }else{\n                    add(1,-d),add(x+1,d);\n                }\n            }\n            st.insert({-x,-y});\n            ans[i]=query(1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722740577",
    "subm_id": "552332375"
}