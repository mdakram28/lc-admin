{
    "username": "shivamxdd",
    "submission": "#define F first\nclass Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        \n        int n=s.size();\n        vector<int> v;\n        vector<int> one(n+2,0);\n        for(int i=0;i<n;i++){\n            if(s[i]=='1'){\n                one[i+1]++;\n                \n            }\n            one[i+1]+=one[i];\n        }\n        one[n+1]=one[n];\n        v.push_back(0);\n        \n        for(int i=0;i<n;i++){\n            if(s[i]=='0'){\n                \n                v.push_back(i+1);\n            }\n        }\n        v.push_back(n+1);\n        int ans=0;\n        for(int i=0;i<n;i++){\n            \n            int f=one[i];\n            auto it=lower_bound(v.begin(),v.end(),i+1);\n            int ind=it-v.begin();\n            ans+=v[ind]-i-1;\n            int cur_zero=1;\n            // cout<<ans<<\" \";\n            while(v[ind]!=n+1){\n                int req=cur_zero*cur_zero;\n                if(req>n){\n                    break;\n                }\n                int res=one[v[ind]]-f;\n                // cout<<req<<\" f \"<<res<<\" \";\n                if(res>=req){\n                    ans+=v[ind+1]-v[ind];\n                }else {\n                    ans+=max(0,v[ind+1]-v[ind]-(req-res));\n                }\n                ind++;\n                cur_zero++;\n                \n                \n            }\n            // cout<<i<<\" \"<<ans<<endl;\n            \n            \n        }\n        cout<<endl;\n        return ans;\n        \n        \n        \n    }\n};",
    "submit_ts": "1722139035",
    "subm_id": "1335806109"
}