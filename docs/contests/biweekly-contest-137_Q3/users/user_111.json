{
    "username": "\u90aa\u738b\u771f\u773c\u6700\u5f3a",
    "submission": "class both {\npublic:\n    int x;\n    int y;\n    both() {\n        x = 0; y = 0; \n    }\n    both(int a, int b) {\n        x = a; y = b;\n    }\n};\n//bool operator < (both a, both b) {\n//    return a.y < b.y;\n//}\n//int cache[2][100000]\nconst int MOD = 1000000007;\ntypedef long long ll;\n\nclass Solution {\npublic:\n    ll get_two(int botom, int fobi, int fobi_two, vector<vector<both>>& b) {\n        int result = INT_MIN;\n        for (int i = 0; i < botom; i++) {\n            for (int j = 0; j < 3; j++) {\n                if (b[i][j].y == fobi || b[i][j].y == fobi_two)continue;\n                result = max(result, b[i][j].x);\n            }\n        }\n        return (ll)result;\n    }\n    ll get(int botom, int fobi, vector<vector<both>> &b, vector<vector<ll>> &cache) {\n        if (cache[botom][fobi] != LLONG_MIN) return cache[botom][fobi];\n        ll result = LLONG_MIN;\n        for (int i = 1; i < botom; i++) {\n            for (int j = 0; j < 3; j++) {\n                if (b[i][j].y == fobi)continue;\n                result = max(result, b[i][j].x + get_two(i, fobi, b[i][j].y, b));\n            }\n        }\n        cache[botom][fobi] = result;\n        return result;\n    }\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int m = board.size();\n        int n = board[0].size();\n        vector<vector<ll>> cache(m, vector<ll>(n, LLONG_MIN));\n        vector<vector<both>> b(m, vector<both>(3));\n        vector<both> temp(n);\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                temp[j] = both(board[i][j], j);\n            }\n            sort(temp.begin(), temp.end(), [](auto a, auto b) {\n                return a.x > b.x;\n                });\n            for (int j = 0; j < 3; j++) {\n                b[i][j] = temp[j];\n            }\n        }\n        ll result = LLONG_MIN;\n        for (int i = 2; i < m; i++) {\n            for (int j = 0; j < 3; j++) {\n                result = max(result, b[i][j].x + get(i, b[i][j].y, b, cache));\n            }\n        }\n        return result;\n    }\n};",
    "submit_ts": "1723908099",
    "subm_id": "556329230"
}