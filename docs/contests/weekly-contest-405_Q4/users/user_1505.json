{
    "username": "_maityamit",
    "submission": "int const N = 5*1e4;\nint const mod = 1e9+7;\nclass Solution {\npublic:\n    int helper(int idx,string &target,vector<pair<int,int>> adj[],vector<int> &dp){\n        if(idx==target.size()){\n            return 0;\n        }\n        if(dp[idx]!=-1) return dp[idx];\n        int mini = 1e9;\n        for(auto it:adj[idx]){\n            mini = min(mini,it.first+helper(idx+it.second,target,adj,dp));\n        }\n        return dp[idx]=mini;\n    }\n    int minimumCost(string target, vector<string>& words, vector<int>& costs) {\n        \n        vector<pair<int,int>> adj[target.size()+1];\n        vector<int> dp(target.size()+1,-1);\n        map<string,int> mp;\n        for(int i=0;i<words.size();i++){\n            if(mp.count(words[i])) mp[words[i]]=min(mp[words[i]],costs[i]);\n            else mp[words[i]]=costs[i];\n        }\n        \n        for(auto it:mp){\n            vector<int> temp = rabin_karp(target,it.first);\n            for(auto small:temp) adj[small].push_back({it.second,it.first.size()});\n        }\n        int ans = helper(0,target,adj,dp);\n        \n        if(ans==1e9) return -1;\n        else return ans;\n        \n    }\n    \n    \n// Calculate Hash\nint get_hash(string s) {\n    long long n = s.length();\n    long long h = 0;\n    for (int i = 0; i < n; i++) h = (h * 31 + (s[i] - 'a' + 1)) % mod;\n    return h;\n}\n\n\n// Rabin karp\n// s-parent_string t-pattern\nvector<int> rabin_karp(string &s, string t) {\n    long long n = s.length(), m = t.length();\n    long long p = 1;\n    for (int i = 0; i < m - 1; i++) p = (p * 31) % mod;\n    vector<int> pos;\n    long long ht = get_hash(t);\n    long long hs = get_hash(s.substr(0, m));\n    if (hs == ht) pos.push_back(0);\n    for (int l = 1, r = m; r < n; l++, r++) {\n        long long del = ((s[l - 1] - 'a' + 1) * p) % mod;\n        long long add = s[r] - 'a' + 1;\n        hs = ((hs - del + mod) * 31 + add) % mod;\n        if (hs == ht) pos.push_back(l);\n    }\n    return pos;\n}\n};",
    "submit_ts": "1720322855",
    "subm_id": "1312360848"
}