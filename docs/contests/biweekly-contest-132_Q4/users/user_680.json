{
    "username": "infinitix",
    "submission": "class Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        int n=nums.size(), prev_index=-1, not_previous=-1;\n        int ans=1;\n        vector<vector<pair<int,int>>>dp(n,vector<pair<int,int>>(k+1,{0,0}));\n        for (int i=0;i<k+1;i++)\n            dp[0][i]={1,1};\n        for (int i=1;i<n;i++){\n            prev_index=-1;\n            not_previous=-1;\n            for (int p=i-1;p>-1;p--){\n                if (nums[p]==nums[i]){\n                    prev_index=p;\n                    dp[i][0].first=dp[p][0].first+1;\n                    break;\n                }\n            }\n            for (int p=i-1; p>-1;p--){\n                if (nums[p]!=nums[i]){\n                    not_previous=p;\n                    break;\n                }\n            }\n            dp[i][0].first=max(dp[i][0].first,1);\n            dp[i][0].second=max(dp[i-1][0].first,dp[i-1][0].second);\n            ans=max(ans,dp[i][0].first);\n            if (not_previous==-1){\n                for (int j=1;j<k+1;j++){\n                    dp[i][j].first=i+1;\n                    dp[i][j].second=max(dp[i-1][j].first,dp[i-1][j].second);\n                }\n                    \n                ans=max(ans,dp[i][0].first);\n            }\n            else{\n                for (int j=1;j<k+1;j++){\n                    dp[i][j].first=max(dp[not_previous][j-1].first+1,dp[i][j-1].first);\n                    dp[i][j].first=max(dp[i][j].first,dp[not_previous][j-1].second+1);\n                    if ((prev_index!=-1) && (dp[i][j].first<dp[prev_index][j].first+1)){\n                        dp[i][j].first=dp[prev_index][j].first+1;\n                    }\n                    dp[i][j].second=max(dp[i-1][j].first,dp[i-1][j].second);\n                    ans=max(ans,dp[i][j].first);\n                    ans=max(ans,dp[i][j].second);\n                }\n                \n            }\n            \n                \n        }\n        // for (int i=0;i<n;i++){\n        //     for (int j=0;j<k+1;j++){\n        //         cout<<dp[i][j].first<<\",\"<<dp[i][j].second<<\"   \";\n        //     }\n        //     cout<<endl;\n        // }\n        return ans;\n    }\n};",
    "submit_ts": 1717861642.0
}