{
    "username": "upceric",
    "submission": "class Solution {\npublic:\n    using ll=long long;\n    \n    struct seg {\n        ll n; vector<ll> a;\n        seg(ll n) {\n            this->n = n;\n            a.resize(n*4+5,0);\n        }\n        void up(int v,int l,int r,int p,int val) {\n            if(l==r) {\n                a[v]=val;\n                return;\n            }\n            if(l>p||r<p) return;\n            ll m=(l+r)>>1;\n            if(m>=p) up(v<<1,l,m,p,val);\n            else up(v<<1|1,m+1,r,p,val);\n            a[v]=a[v<<1] & a[v<<1|1];\n        }\n        ll q(int v,int l,int r,int left,int right) {\n            if(l>=left && r<=right) return a[v];\n            ll mask=((ll)1<<40)-1;\n            if(l>right||r<left) return mask;\n            ll m=(l+r)>>1;\n            ll res=mask;\n            if(m>=left) res=res&q(v<<1,l,m,left,right);\n            if(m<right) res=res&q(v<<1|1,m+1,r,left,right);\n            return res;\n        }\n    };\n    int minimumDifference(vector<int>& a, int k) {\n        ll n=a.size();\n        seg st(n);\n        for(int i=1;i<=n;i++) {\n            st.up(1,1,n,i,a[i-1]);\n        }\n        ll res=abs(a[0]-k);\n        cout<<res<<endl;\n        for(int i=1;i<=n;i++) {\n            int l=i,r=n;\n            // first larger than k\n            while(l<r) {\n               ll m=(l+r+1)>>1;\n               if(st.q(1,1,n,i,m)<k) {\n                   r=m-1;\n               } else {\n                   l=m;\n               }\n            }\n            //cout<<\"i:\"<<i<<\" \"<<r<<\" \"<<st.q(1,1,n,i,r)<<endl;\n            res=min(res,abs(st.q(1,1,n,i,r)-k));\n            l=i;r=n;\n            while(l<r) {\n                ll m=(l+r)>>1;\n                //first smaller than k;\n                if(st.q(1,1,n,i,m)>=k) {\n                    l=m+1;\n                } else {\n                    r=m;\n                }\n            }\n             //cout<<\"i:\"<<i<<\" \"<<r<<\" \"<<st.q(1,1,n,i,r)<<endl;\n\n            res=min(res,abs(k-st.q(1,1,n,i,r)));\n            \n        }\n        return res;\n    }\n};",
    "submit_ts": 1717299625.0
}