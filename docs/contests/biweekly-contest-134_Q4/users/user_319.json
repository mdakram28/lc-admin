{
    "username": "qiye-5",
    "submission": "int __FAST_IO__ = []() { std::ios::sync_with_stdio(0); std::cin.tie(0); std::cout.tie(0); return 0; }();\n\nint tree[100'001][32];\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        long long res = 0;\n        for (int j = 0; j < 31; ++j) tree[n][j] = n;\n        for (int i = n - 1; i >= 0; --i) {\n            for (int j = 0; j < 31; ++j) {\n                if (nums[i] >> j & 1) tree[i][j] = tree[i + 1][j];\n                else tree[i][j] = i;\n            }\n\n            int l = i, r = n;\n            for (int j = 0; j < 31; ++j) {\n                if (k >> j & 1) {\n                    r = min(tree[i][j], r);\n                } else if (tree[i][j] == n) {\n                    r = i;\n                } else {\n                    l = max(tree[i][j], l);\n                }\n                // cout << l << \":\" << r << \" \";\n            }\n            // cout << r << endl;\n            res += max(r - l, 0);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1720278272",
    "subm_id": "544561667"
}