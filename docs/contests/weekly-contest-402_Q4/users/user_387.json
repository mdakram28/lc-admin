{
    "username": "czjnbb",
    "submission": "class Solution:\n    def countOfPeaks(self, nums: List[int], queries: List[List[int]]) -> List[int]:\n        \n        from sortedcontainers import SortedList\n        \n        sl = SortedList()\n        res = []\n        leng = len(nums)\n        \n        for i in range(1, leng - 1):\n            if nums[i] > nums[i-1] and nums[i] > nums[i+1]:\n                sl.add(i)\n                \n        for a,b,c in queries:\n            \n            if a == 1:\n                l = sl.bisect_right(b)\n                r = sl.bisect_left(c)\n                res.append(max(0, r-l))\n            else:\n\n                nums[b] = c\n                if b == 0:\n                    if nums[1] <= nums[0]:\n                        if 1 in sl:\n                            sl.remove(1)\n                    elif nums[1] > nums[0] and nums[1] > nums[2]:\n                        if 1 not in sl:\n                            sl.add(1)\n                    \n                elif b == leng - 1:\n                    if nums[leng-2] <= nums[leng-1]:\n                        if leng-2 in sl:\n                            sl.remove(leng-2)\n                    elif nums[leng-2] > nums[leng-1] and nums[leng-2] > nums[leng-3]:\n                        if leng-2 not in sl:\n                            sl.add(leng-2)\n                    \n                else:\n                    \n                    if (nums[b] <= nums[b-1] or nums[b] <= nums[b+1]) and b in sl:\n                        sl.remove(b)\n                    if nums[b] > nums[b-1] and nums[b] > nums[b+1] and b not in sl:\n                        sl.add(b)\n                    \n                    if b - 1 > 0:\n                        if nums[b-1] <= nums[b]:\n                            if b-1 in sl:\n                                sl.remove(b-1)\n                        elif nums[b-1] > nums[b] and nums[b-1] > nums[b-2]:\n                            if b-1 not in sl:\n                                sl.add(b-1)\n                            \n                    if b + 1 < leng - 1:\n                        if nums[b+1] <= nums[b]:\n                            if b+1 in sl:\n                                sl.remove(b+1)\n                        elif nums[b+1] > nums[b] and nums[b+1] > nums[b+2]:\n                            if b+1 not in sl:\n                                sl.add(b+1)\n                                \n        return res\n                        \n                \n        ",
    "submit_ts": 1718507401.0
}