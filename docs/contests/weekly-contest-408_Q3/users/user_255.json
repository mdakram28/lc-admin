{
    "username": "zty122",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int length = s.length();\n        long long cnt = 0;\n        vector<int> zero_num(length + 1, 0);\n        vector<int> one_num(length + 1, 0);\n        vector<int> next_zero(length, 0);\n        one_num[0] = 0;\n        zero_num[0] = 0;\n        int last_zero = length;\n        for(int i = length - 1 ; i >= 0 ; i --){\n            next_zero[i] = last_zero;\n            if(s[i] == '0'){\n                last_zero = i;\n            }\n        }\n        for(int i = 1 ; i <= length ; i ++){\n            if(s[i-1] == '0'){\n                zero_num[i] = zero_num[i-1] + 1;\n                one_num[i] = one_num[i-1];\n                if(last_zero == -1){\n                    last_zero = i - 1;\n                }\n            }\n            else{\n                zero_num[i] = zero_num[i-1];\n                one_num[i] = one_num[i-1] + 1;\n            }\n        }\n        for(int i = 0 ; i < length ; i ++){\n            for(int j = i ; j < length ;){\n                if((one_num[j+1] - one_num[i]) >= (zero_num[j+1] - zero_num[i]) * (zero_num[j+1] - zero_num[i])){\n                    cnt += next_zero[j] - j;\n                    j = next_zero[j];\n                }\n                else{\n                    j += ((zero_num[j+1] - zero_num[i]) * (zero_num[j+1] - zero_num[i]) - (one_num[j+1] - one_num[i]));\n                }\n            }\n        }\n        return cnt;\n    }\n};",
    "submit_ts": "1722137654",
    "subm_id": "1335769933"
}