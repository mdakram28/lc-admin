{
    "username": "rtmkz",
    "submission": "#include <bits/stdc++.h>\n \n#define f first\n#define s second\n \n#define pb push_back\n#define pp pop_back\n#define mp make_pair\n \n#define sz(x) (int)x.size()\n#define sqr(x) ((x) * 1ll * (x))\n#define all(x) x.begin(), x.end()\n \n#define rep(i, l, r) for (int i = (l); i <= (r); i++)\n#define per(i, l, r) for (int i = (l); i >= (r); i--)\n \n#define Kazakhstan ios_base :: sync_with_stdio(0), cin.tie(0), cout.tie(0);\n \n#define nl '\\n'\n#define ioi exit(0);\n \ntypedef long long ll;\ntypedef long double ld;\ntypedef unsigned long long ull;\n \nconst int N = (int)1e5 + 7;\nconst int inf = (int)1e9 + 7;\nconst int mod = (int)1e9 + 7;\nconst ll linf = (ll)1e18 + 7;\n \nconst int dx[] = {-1, 0, 1, 0, 1, -1, -1, 1};\nconst int dy[] = {0, 1, 0, -1, 1, -1, 1, -1};\n \nusing namespace std;\n\n\nclass Solution {\npublic:\n    int n;\n    vector<int> g[N];\n\n    int dp[N], dp1[N];\n\n    void dfs(int v = 0, int par = -1) {\n        for (auto to : g[v]) {\n            if (to == par) continue;\n            dfs(to, v);\n            dp[v] = max(dp[v], dp[to] + 2 - to % 2);\n        }\n    }\n    void dfs1(int v = 0, int par = -1) {\n        set<pair<int,int>> st;\n        for (auto to : g[v]) {\n            if (to == par) continue;\n            st.insert({dp[to] + 2 - to%2, to});\n        }\n        for (auto to : g[v]) {\n            if (to == par) continue;\n            st.erase({dp[to]+2 - to%2, to});\n            dp1[to] = dp1[v];\n            if (sz(st)) dp1[to] = max(dp1[to], st.rbegin()->f);\n            dp1[to] += 2 - v % 2;\n            st.insert({dp[to]+2 - to%2, to});\n            dfs1(to, v);\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& e) {\n        n = sz(e) + 1;\n        rep(i, 0, n - 2) {\n            int v = e[i][0], u = e[i][1];\n            g[v].pb(u);\n            g[u].pb(v);\n        }\n        dfs();\n        dfs1();\n        vector<int> ans(n, 0);\n        rep(i, 0, n - 1) {\n            ans[i] = max(dp[i], dp1[i]);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722698523",
    "subm_id": "1343183360"
}