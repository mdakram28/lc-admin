{
    "username": "r4jiv",
    "submission": "class Solution {\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        unordered_map<int,int> diff_map;\n\n        int n = nums.size();\n        int num_pairs = n/2;\n\n        for(int i=0; i<n/2; i++){\n            diff_map[abs(nums[i] - nums[n-i-1])]++;\n        }\n\n        //debug\n        // for(auto u: diff_map){\n        //     cout<<u.first<<\"->\"<<u.second<<endl;\n        // }\n\n        int max_count = 0;\n        int x = 0;\n\n        vector<pair<int,int>> vp;\n        for(auto u: diff_map){\n            vp.push_back({u.second, u.first});\n        }\n        sort(begin(vp), end(vp), [](const std::pair<int, int>& a, const std::pair<int, int>& b) {\n        if (a.first != b.first)\n            return a.first > b.first; \n            return a.second < b.second;  \n        });\n\n        // for(auto u: diff_map){\n        //     if(u.second > max_count){\n        //         max_count = u.second;\n        //         x = u.first;\n        //     }\n        //     else if(u.second == max_count && u.first < x){\n        //         x = u.first;\n        //     }\n        // }\n        \n        //debug\n        // for(int i=0; i<vp.size(); i++){\n        //     cout<<vp[i].first<<\", \"<<vp[i].second<<endl;\n        // }\n        // cout<<endl<<endl;\n\n\n\n        int ans = calculate_ans(nums, k, vp[0].second);\n\n        int i=1;\n        while(i<10 && i< vp.size()){\n            ans = min(ans, calculate_ans(nums, k, vp[i].second));\n            i++;\n        }\n\n        return ans;\n    }\nprivate:\n    int calculate_ans(vector<int> &nums, int k, int x){\n        //cout<<\"x=\"<<x<<endl;\n        int n = nums.size();\n        int ans = 0;\n        for(int i=0; i<n/2; i++){\n            if(abs(nums[i] - nums[n-1-i]) == x) continue;\n            if(abs(k - nums[i])>=x || abs(k - nums[n-1-i])>=x || nums[i] >= x || nums[n-1-i] >= x) {\n                //cout<<\"1: \"<<nums[i]<<\", \"<<nums[n-1-i]<<endl;\n                ans++;\n            }\n            else{\n                //cout<<\"2: \"<<nums[i]<<\", \"<<nums[n-1-i]<<endl;\n                ans+=2;\n            }\n        }\n        return ans;\n    }\n};\n\n/*\nk = 20, [1,1,1,1,0,0,0,5,4,3,19,17,16,15,15,15,19,19,19,19]\n\nchoosing x = 15 , will result in output of 7, which is better, so this is kinda bad, algorithm needs to be changed.\n\n16->1\n13->1\n11->1\n15->3\n18->4\nx = 18, max_count=4\n1: 0, 15\n1: 0, 15\n1: 0, 15\n2: 5, 16\n2: 4, 17\n1: 3, 19\n*/",
    "submit_ts": "1721489125",
    "subm_id": "1327443632"
}