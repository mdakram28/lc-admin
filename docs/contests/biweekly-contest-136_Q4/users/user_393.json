{
    "username": "maybe_aryan_",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define mod 1000000007\n\n#define ll long long\n#define pii pair<int, int>\n#define pll pair<long long, long long>\n#define vi vector<int>\n#define vb vector<bool>\n#define vvi vector<vector<int>>\n#define vvb vector<vector<bool>>\n#define vvc vector<vector<char>>\n#define vvll vector<vector<long long int>>\n#define vc vector<char>\n#define vll vector<long long>\n#define mii map<int, int>\n#define umii unordered_map<int, int>\n#define si set<int>\n#define rep(i, s, e) for (ll i = s; i <= e; i++)\n#define ren(i, s, e) for (ll i = s; i >= e; i--)\n\nclass Solution {\npublic:\n    int f(int node, int parent, vvi &adj, vi &dp, int time){\n        dp[node] = time;\n        for(auto nbr : adj[node]){\n            if(nbr != parent){\n                dp[node] = max(dp[node], f(nbr, node, adj, dp, time + 1 + (1 - (nbr%2))));\n            }\n        }\n        return dp[node];\n    }\n    void f2(int node, int parent, vvi &adj, vi &dp, vi &res, int time, int parentkilltime){\n        int maxi = 0, maxi2 = 0;\n        for(auto nbr : adj[node]){\n            if(nbr != parent){\n                if(dp[nbr] >= maxi){\n                    maxi2 = maxi;\n                    maxi = dp[nbr];\n                }\n                else if(dp[nbr] > maxi2) maxi2 = dp[nbr];\n            }\n        }\n        res[node] = dp[node] - time;\n        // res[node] = max(res[node], maxi - time);\n        \n        if(parent != -1){\n            if(parent&1){\n                parentkilltime++;\n            }\n            else{\n                parentkilltime += 2;\n            }\n        }\n        \n        res[node] = max(res[node], parentkilltime);\n        \n        for(auto nbr : adj[node]){\n            if(nbr != parent){\n                if(dp[nbr] == maxi){\n                    f2(nbr, node, adj, dp, res, time + 1 + (1 - (nbr%2)), max(maxi2-time, parentkilltime));\n                }\n                else\n                    f2(nbr, node, adj, dp, res, time + 1 + (1 - (nbr%2)), max(maxi-time, parentkilltime));\n            }\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int e = edges.size();\n        vvi adj(e+1);\n        \n        for(auto e : edges){\n            int a = e[0], b = e[1];\n            adj[a].push_back(b);\n            adj[b].push_back(a);\n        }\n        \n        vector<int> dp(e+1);\n        f(0, 0, adj, dp, 0);\n        \n        vector<int> res(e+1);\n        \n        f2(0, -1, adj, dp, res, 0, 0);\n        return res;\n    }\n};",
    "submit_ts": "1722700600",
    "subm_id": "1343246860"
}