{
    "username": "wutwere",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        const int n = s.size();\n        vector<int> left(n, -1), right(n, n);\n        for (int i = 1; i < n; i++) {\n            if (s[i - 1] == '0') {\n                left[i] = i - 1;\n            } else {\n                left[i] = left[i - 1];\n            }\n        }\n        for (int i = n - 2; i >= 0; i--) {\n            if (s[i + 1] == '0') {\n                right[i] = i + 1;\n            } else {\n                right[i] = right[i + 1];\n            }\n        }\n        int ans = 0;\n        for (int i = 0; i < n; i++) {\n            if (s[i] == '1') {\n                ans += right[i] - i;\n            }\n        }\n        for (int i = 1; i * i <= n; i++) {\n            int zeros = 0;\n            int ones = 0;\n            int l = 0;\n            for (int j = 0; j < n; j++) {\n                if (s[j] == '0') {\n                    zeros++;\n                } else {\n                    ones++;\n                }\n                while (zeros > i) {\n                    if (s[l++] == '0') {\n                        zeros--;\n                    } else {\n                        ones--;\n                    }\n                }\n                while (ones > i * i) {\n                    if (s[l] == '1') {\n                        ones--;\n                        l++;\n                    } else {\n                        break;\n                    }\n                }\n                if (zeros == i && ones >= i * i) {\n                    ans += (l - left[l]);\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722137554",
    "subm_id": "1335767115"
}