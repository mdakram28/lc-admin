{
    "username": "__keep_it_simple__",
    "submission": "#define pii pair<int, int>\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int N = (int)edges.size() + 1;\n        vector<int> res(N);\n        vector<vector<int>> adj(N);\n        vector<pii> f(N, {0, -1}), s(N, {0, -1});\n        vector<int> ts(N);\n        for (int i = 0; i < N - 1; i++) {\n            int u = edges[i][0], v = edges[i][1];\n            adj[u].emplace_back(v), adj[v].emplace_back(u);\n        }\n        auto dfs = [&](auto self, int u, int par = -1) -> int {\n            int mx_child = ts[u];\n            for (auto v: adj[u]) {\n                if (v == par) continue;\n                ts[v] = ts[u] + (2 - v % 2);\n                int val = self(self, v, u);\n                mx_child = max(mx_child, val);\n                if (val - ts[u] >= f[u].first) s[u] = f[u], f[u] = {val - ts[u], v};\n                else if (val - ts[u] > s[u].first) s[u] = {val - ts[u], v};\n            }\n            res[u] = mx_child - ts[u];\n            return mx_child;\n        };\n        auto dfs2 = [&](auto self, int u, int par = -1) -> void {\n            if (par != -1) {\n                int parent_val = 0;\n                if (f[par].second != u) parent_val = (2 - par % 2) + f[par].first;\n                else if (s[par].second != u) parent_val = (2 - par % 2) + s[par].first;\n                res[u] = max(res[u], parent_val);\n                if (parent_val >= f[u].first) s[u] = f[u], f[u] = {parent_val, par};\n                else if (parent_val > s[u].first) s[u] = {parent_val, par};\n                \n            }  \n            for (auto v: adj[u]) {\n                if (v == par) continue;\n                self(self, v, u);\n            }\n        };\n        dfs(dfs, 0);\n        dfs2(dfs2, 0);\n        return res;\n    }\n};",
    "submit_ts": "1722699730",
    "subm_id": "1343220544"
}