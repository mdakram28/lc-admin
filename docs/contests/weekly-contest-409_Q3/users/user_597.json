{
    "username": "shangzhq-2",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        typedef pair<int, int> PII;\n        set<PII> tr;\n        const int inf = 0x3f3f3f3f;\n        tr.insert({-inf, -inf});\n        tr.insert({inf, inf});\n        vector<int> ans;\n        int tot = 0, cnt = 0;\n        for(auto &i : queries) {\n            int a = i[0], b = i[1];\n            auto it = tr.upper_bound({a, inf});\n            it --;\n            if(it->first == a) {\n                if(it->second < b) {\n                    auto ite = tr.upper_bound({b, -inf});\n                    while(it != ite) {\n                        auto k = it;\n                        k ++;\n                        cnt --;\n                        tot -= it->second - it->first;\n                        tr.erase(it);\n                        it = k;\n                    }\n                    tot += b - a;\n                    cnt ++;\n                    tr.insert({a, b});\n                }\n            } else if(it->second <= a) {\n                it ++;\n                if(it->first >= b) {\n                    tr.insert({a, b});\n                    tot += b - a;\n                    cnt ++;\n                } else {\n                    auto ite = tr.upper_bound({b, -inf});\n                    while(it != ite) {\n                        auto k = it;\n                        k ++;\n                        cnt --;\n                        tot -= it->second - it->first;\n                        tr.erase(it);\n                        it = k;\n                    }\n                    tot += b - a;\n                    cnt ++;\n                    tr.insert({a, b});\n                }\n            }\n            \n            ans.push_back(n - 1 - tot + cnt);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722742104",
    "subm_id": "552342515"
}