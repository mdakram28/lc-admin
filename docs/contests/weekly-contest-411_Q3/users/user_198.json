{
    "username": "LiuWeibo",
    "submission": "class Solution {\n    string ans;\n    vector<int> mv;\n    using a3i = array<int, 3>;\n    map<a3i, bool> cache;\n    using a10i = array<int, 10>;\n    vector<a10i> c2;\n    \n    bool search(int beg, int end, int mod, int k) {\n        // if (cache.count({beg, end, mod})) return cache[{beg, end, mod}];\n        if (beg > end) return mod == 0;\n        if (c2[beg][mod] != 0) return c2[beg][mod] == 1;\n\n        for (char i = '9'; i >= '0'; --i) {\n            int d = i - '0';\n            int nm = 0;\n            if (beg == end) {                \n                nm = (mod + d * mv[beg]) % k;\n            } else {\n                nm = (mod + d * (mv[beg] + mv[end])) % k;\n            }\n            \n            if (search(beg + 1, end - 1, nm, k)) {\n                ans[beg] = ans[end] = i;\n                // return cache[{beg, end, mod}] = true;\n                c2[beg][mod] = 1;\n                return true;\n            }\n        }\n        // return cache[{beg, end, mod}] = false;\n        c2[beg][mod] = 2;\n        return false;\n    }\n    \npublic:\n    string largestPalindrome(int n, int k) {\n        mv = vector<int>(n);\n        mv[0] = 1;\n        for (int i = 1; i < n; ++i)\n            mv[i] = mv[i - 1] * 10 % k;\n        c2 = vector<a10i>((n + 1) / 2);\n        ans = string(n, '9');\n        search(0, n - 1, 0, k);\n        return ans;\n    }\n};",
    "submit_ts": "1723949719",
    "subm_id": "1359727085"
}