{
    "username": "mble6125",
    "submission": "class Solution {\n    vector<vector<int>> next;\n    vector<int> res;\n    vector<array<int, 2>> forward;\n    vector<int> record;\n    vector<int> backward;\n    \npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size() + 1;\n        next.resize(n);\n        res.resize(n);\n        forward.resize(n);\n        backward.resize(n);\n        record.resize(n, -1);\n        \n        for (auto& e : edges) {\n            next[e[0]].push_back(e[1]);\n            next[e[1]].push_back(e[0]);\n        }\n        traverse1(0, -1);\n        traverse2(0, -1, 0);\n        traverse3(0, -1, 0);\n\n        return res;\n    }\n    \n    void traverse3(int cur, int pre, int count) {\n        int temp=2;\n        if (cur & 1) temp=1;\n        res[cur]=max(forward[cur][0], count);\n        for (int x : next[cur]) {\n            if (x==pre) continue;\n            int temp2=forward[cur][0];\n            if (record[cur]==x) temp2=forward[cur][1];\n            traverse3(x, cur, max(temp2+temp, count+temp));\n        }\n    }\n    \n    void traverse2(int cur, int pre, int count) {\n        backward[cur]=count;\n        int temp=2;\n        if (cur & 1) temp-=1;\n        for (int x : next[cur]) {\n            if (pre==x) continue;\n            traverse2(x, cur, count+temp);\n        }\n    }\n    \n    int traverse1(int cur, int pre) {\n        for (int x : next[cur]) {\n            if (x==pre) continue;\n            int temp=traverse1(x, cur) + 1;\n            if (!(x & 1)) temp += 1;\n\n            if (temp>=forward[cur][0]) {\n                forward[cur][1]=forward[cur][0];\n                forward[cur][0]=temp;\n                record[cur]=x;\n            } else if (temp > forward[cur][1]) {\n                forward[cur][1]=temp;\n            }\n        }\n        return forward[cur][0];\n    }\n};",
    "submit_ts": "1722700307",
    "subm_id": "1343237897"
}