{
    "username": "Superultra",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define FOR(i, x, y) for (int i = x; i < y; i++)\n#define ll long long\n#define pii pair<int, int>\n#define f first\n#define s second\n\nclass Solution {\npublic:\n    int minimumDistance(vector<vector<int>>& A) {\n        \n        int n = A.size();\n        vector<pii> V[4];\n\n        FOR(i, 0, n){\n            int x = A[i][0];\n            int y = A[i][1];\n            V[0].push_back({x + y, i});\n            V[1].push_back({-x + y, i});\n            V[2].push_back({-x - y, i});\n            V[3].push_back({x - y, i});\n        }\n        for (auto &v : V){\n            sort(v.begin(), v.end());\n        }\n\n        auto chk = [&](int lim){\n            vector<int> tryBan;\n\n            FOR(i, 0, n){\n                int x = A[i][0];\n                int y = A[i][1];\n\n                if (tryBan.size())\n                    break;\n\n                for (int d = 0; d < 4; d++){\n\n                    if (tryBan.size())\n                        break;\n\n                    for (int iter = 0; iter < 2; iter++){\n\n                        if (tryBan.size())\n                            break;\n\n                        int idx = n - 1;\n                        int dist = 0;\n                        \n                        if (d == 0){\n                            dist = max(dist, V[d][idx].first - x - y);\n                        }\n                        if (d == 1){\n                            dist = max(dist, V[d][idx].first + x - y);\n\n                        }\n                        if (d == 2){\n                            dist = max(dist, V[d][idx].first + x + y);\n\n                        }\n                        if (d == 3){\n                            dist = max(dist, V[d][idx].first - x + y);\n                        }\n                        \n                        if (dist > lim){ \n                            tryBan.push_back(i);\n                            tryBan.push_back(V[d][idx].second);\n                        }\n                    }\n                }\n            }\n            if (tryBan.empty())\n                return true;\n            \n            for (int ban : tryBan){\n                \n                bool good = true;\n                \n                FOR(i, 0, n){\n                    int x = A[i][0];\n                    int y = A[i][1];\n\n                    if (i == ban)\n                        continue;\n                    \n                    if (!good)\n                        break;\n\n                    for (int d = 0; d < 4; d++){\n                        for (int iter = 0; iter < 2; iter++){\n                            int idx = n - 1;\n                            \n                            if (V[d].back().second == ban)\n                                idx--;\n                            \n                            int dist = 0;\n                            \n                            if (d == 0){\n                                dist = max(dist, V[d][idx].first - x - y);\n                            }\n                            if (d == 1){\n                                dist = max(dist, V[d][idx].first + x - y);\n\n                            }\n                            if (d == 2){\n                                dist = max(dist, V[d][idx].first + x + y);\n\n                            }\n                            if (d == 3){\n                                dist = max(dist, V[d][idx].first - x + y);\n                            }\n                            \n                            if (dist > lim){\n                                good = false;\n                            }\n                        }\n                    }\n                }\n                if (good)\n                    return true;\n            }\n            return false;\n        };\n\n        int L = 0, H = 5e8;\n\n        while (L < H){\n            int M = (L + H) / 2;\n            chk(M) ? H = M : L = M + 1;\n        }\n        return L;\n    }\n};"
}