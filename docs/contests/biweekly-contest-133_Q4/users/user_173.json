{
    "username": "dirigibility",
    "submission": "mod = 10**9+7\nclass Solution:\n    def numberOfPermutations(self, n: int, r: List[List[int]]) -> int:\n        r = dict(r)\n        @cache\n        def f(k,inv):\n            if inv < 0:\n                return 0\n            if k in r and r[k] != inv:\n                return 0\n            if k == 0:\n                return int(inv == 0)\n            return g(k,inv)\n        @cache\n        def g(k,inv):\n            if inv < 0:\n                return 0\n            return (f(k-1,inv)+g(k,inv-1)-f(k-1,inv-k-1))%mod\n        return f(n-1,r[n-1])",
    "submit_ts": 1719069054.0
}