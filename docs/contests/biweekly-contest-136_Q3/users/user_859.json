{
    "username": "msa_tanzeel",
    "submission": "\nclass Solution\n{\npublic:\n    int minFlips(vector<vector<int>> &v)\n    {\n        int n = v.size();\n        int m = v.front().size();\n\n        int ans = 0;\n        if (n % 2 == 1 && m % 2 == 1)\n        {\n            ans += v[n / 2][m / 2];\n        }\n\n        for (int top = 0, bottom = n - 1; top < bottom; top++, bottom--)\n        {\n            for (int left = 0, right = m - 1; left < right; left++, right--)\n            {\n                int curr = 0;\n                curr += v[top][left];\n                curr += v[top][right];\n                curr += v[bottom][left];\n                curr += v[bottom][right];\n                if (curr == 0 || curr == 4)\n                    continue;\n                if (curr == 1 || curr == 3)\n                    ans++;\n                else if (curr == 2)\n                    ans += 2;\n            }\n        }\n\n        int matching = 0, non_matching = 0;\n        int ones = 0;\n\n        if (n & 1)\n        {\n            int left = 0, right = m - 1;\n            while (left < right)\n            {\n                if (v[n / 2][left] != v[n / 2][right])\n                    non_matching++, ones++;\n                else\n                {\n                    if (v[n / 2][left] == 1)\n                        ones += 2;\n                }\n                left++;\n                right--;\n            }\n        }\n\n        if (m & 1)\n        {\n            int top = 0, bottom = n - 1;\n            while (top < bottom)\n            {\n                if (v[top][m / 2] != v[bottom][m / 2])\n                    non_matching++, ones++;\n                else\n                {\n                    if (v[top][m / 2] == 1)\n                        ones += 2;\n                }\n                top++;\n                bottom--;\n            }\n        }\n\n        ans += non_matching;\n\n        int rem = ones % 4;\n        rem = min(rem, 4 - rem);\n\n        if (rem > non_matching)\n            ans += rem - non_matching;\n\n        return ans;\n    }\n};\n",
    "submit_ts": "1722698262",
    "subm_id": "1343174955"
}