{
    "username": "_Shinchan_",
    "submission": "\nstruct Node {\n    Node *links[26];\n    int end = -1,endd=1000000;\n    int cntPrefix = 0;\n\n    bool containsKey(char ch) {\n        return (links[ch - 'a'] != NULL);\n    }\n    Node *get(char ch) {\n        return links[ch - 'a'];\n    }\n    void put(char ch, Node *node) {\n        links[ch - 'a'] = node;\n    }\n    void increaseEnd(int x,int y) {\n        if(endd>y)\n        end = x,endd=y;\n    }\n    void increasePrefix() {\n        cntPrefix++;\n    }\n    void reducePrefix() {\n        cntPrefix--;\n    }\n};\n\nclass Trie {\npublic:\n    Node *root;\n\n    Trie() {\n        root = new Node();\n    }\n\n    void insert(string word, int i,int y) {\n        Node *node = root;\n        for (int i = 0; i < word.length(); i++) {\n            if (!node->containsKey(word[i])) {\n                node->put(word[i], new Node());\n            }\n            node = node->get(word[i]);\n            node->increasePrefix();\n        }\n        node->increaseEnd(i,y);\n    }\n};\n\nclass Solution {\npublic:\n    Trie t;\n\n    long long func(vector<long long> &dp, int i, vector<string> &w, vector<int> &c, string &tar) {\n        if (i == tar.size()) return 0;\n        if (dp[i] != -1) return dp[i];\n        Node *r = t.root;\n        long long ans = 100000000000;\n        for (int j = i; j < tar.size(); j++) {\n            if (r->containsKey(tar[j])) {\n                r = r->get(tar[j]);\n            } else {\n                break;\n            }\n            if (r->end != -1) {\n                ans = min(ans, c[r->end] + func(dp, j + 1, w, c, tar));\n            }\n        }\n        \n        return dp[i] = ans;\n    }\n\n    int minimumCost(string tar, vector<string> &w, vector<int> &c) {\n        vector<long long> dp(tar.size(), -1);\n        for (int i = 0; i < w.size(); i++) t.insert(w[i], i,c[i]);\n        long long result = func(dp, 0, w, c, tar);\n        if(result>10000000000)result=-1;\n        return result;\n    }\n};\n",
    "submit_ts": "1720323837",
    "subm_id": "1312385210"
}