{
    "username": "parasguglani",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n\nclass Solution\n{\npublic:\n    struct TrieInit\n    {\n        unordered_map<char, TrieInit *> child;\n        vector<pair<int, int>> EndsWith;\n    };\n\n    class TrieNode\n    {\n    public:\n        TrieInit *rt;\n        TrieNode() { rt = new TrieInit(); }\n\n        void insert(string &word, int idx, int cst)\n        {\n            TrieInit *root = rt;\n            for (char c : word)\n            {\n                bool has = root->child.count(c);\n                if (!has)\n                {\n                    root->child[c] = new TrieInit();\n                }\n                root = root->child[c];\n            }\n            root->EndsWith.push_back({idx, cst});\n        }\n    };\n\n    int minimumCost(string s, vector<string> &w, vector<int> &c)\n    {\n        int n = s.size();\n        vector<int> dp(n + 1, INT_MAX);\n        dp[0] = 0;\n\n        TrieNode trie;\n        for (int i = 0; i < w.size(); ++i)\n        {\n            trie.insert(w[i], i, c[i]);\n        }\n\n        for (int i = 0; i < n; ++i)\n        {\n            if (dp[i] == INT_MAX)\n            {\n                continue;\n            }\n\n            TrieInit *node = trie.rt;\n            for (int j = i; j < n; ++j)\n            {\n                bool has = node->child.count(s[j]);\n                if (!has)\n                {\n                    break;\n                }\n                node = node->child[s[j]];\n                for (auto &[widx, wcst] : node->EndsWith)\n                {\n\n                    int len = w[widx].size();\n                    int newInd = i + len;\n\n                    if (newInd <= n)\n                    {\n                        dp[newInd] = min(dp[newInd], dp[i] + wcst);\n                    }\n                }\n            }\n        }\n\n        if (dp[n] == INT_MAX)\n        {\n            return -1;\n        }\n        return dp[n];\n    }\n};\n",
    "submit_ts": "1720322124",
    "subm_id": "1312341363"
}