{
    "username": "kkkkush",
    "submission": "class Solution {\n    public int maximumLength(int[] AA, int K) {\n        HashMap<Integer,Integer> last=new HashMap<>();\n        ArrayList<Integer> f=new ArrayList<>(), A=new ArrayList<>();\n        int N=AA.length;\n        for(int i=0; i<N; )\n        {\n            int a=AA[i];\n            int c=0;\n            while(i<N && a==AA[i])\n            {\n                i++;\n                c++;\n            }\n            f.add(c);\n            A.add(a);\n        }\n        // for(int a:f)System.out.print(a+\" \");\n        // System.out.println();\n        // for(int a:A)System.out.print(a+\" \");\n        // System.out.println();\n        N=A.size();\n        int dp[][]=new int[N+5][K+5];\n        int max[]=new int[K+5];\n        for(int i=1; i<=N; i++)\n        {\n            int a=A.get(i-1),freq=f.get(i-1);\n            int last_index = last.getOrDefault(a,-1);\n            int same[]=new int[K+5], diff[]=new int[K+5];\n            if(last_index>=0)\n            {\n            for(int j=0; j<=K; j++)\n            {\n                same[j]=dp[last_index][j];    \n            }\n            }\n            \n            for(int j=0; j<=K; j++)diff[j]=max[j];\n            \n                \n            dp[i][0]=freq+same[0];\n            max[0]=Math.max(max[0], dp[i][0]);\n            for(int j=1; j<=K; j++)\n            {\n                dp[i][j]=freq + Math.max(same[j],diff[j-1]);\n                max[j]=Math.max(max[j], dp[i][j]);\n            }\n            last.put(a, i);\n        }\n//         for(int d[]:dp)\n//         {\n//             for(int x:d)System.out.print(x+\" \");\n//             System.out.println();\n//         }\n//         System.out.println(\"------------------\");\n        \n        int ans=0;\n        for(int a:max)ans=Math.max(a,ans);\n        return ans;\n    }\n}",
    "submit_ts": 1717860889.0
}