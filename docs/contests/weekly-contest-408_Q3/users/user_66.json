{
    "username": "mastoori1234",
    "submission": "typedef long long int ll;\n\nclass Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        \n        ll n = s.length();\n        ll ans = 0;\n        \n        vector< pair<ll,ll> > arr;\n        \n        for( char ch: s) {\n            if(ch=='0') {\n                arr.push_back({ 0, 1});\n            } else if((!arr.empty()) && (arr.back().first==1)) {\n                arr.back().second += 1;\n            } else {\n                arr.push_back({ 1, 1});\n            }\n        }\n        \n//         for( auto p: arr) {\n//             cout << p.first << \",\" << p.second << endl;\n//         }\n        \n        for( ll i=0; i<arr.size(); ) {\n            ll pc = 0;\n            ll nc = 0;\n            for( ll j=i; j<arr.size(); j++) {\n                if(arr[j].first==0) {\n                    nc += 1;\n                    ans += (pc-nc*nc>=0);\n                    if(nc*nc-pc>n) {\n                        break;\n                    }\n                } else {\n                    ll iv = pc-nc*nc;\n                    pc += arr[j].second;\n                    ll fv = pc-nc*nc;\n                    if(fv>=0) {\n                        if(iv>=0) {\n                            ans += arr[j].second;\n                        } else {\n                            ans += fv+1;\n                        }\n                    }\n                }\n            }\n            if(arr[i].first==1) {\n                arr[i].second -= 1;\n                if(arr[i].second==0) {\n                    i++;\n                }\n            } else {\n                i++;\n            }\n        }\n\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722138022",
    "subm_id": "1335780045"
}