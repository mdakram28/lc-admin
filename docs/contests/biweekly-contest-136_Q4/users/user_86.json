{
    "username": "gongshuisanye2",
    "submission": "class Solution {\n\n        int n;\n        List<Integer>[]g;\n\n        int[] dp1;\n        int[] dp2;\n\n        public void dfs(int u, int fa) {\n            int tmp = 0;\n            for (int v: g[u]) {\n                if (v == fa) continue;\n                dfs(v, u);\n                tmp = Math.max(tmp, dp1[v]);\n            }\n            dp1[u] = tmp + ((u % 2 == 1) ? 1 : 2);\n        }\n\n        void dfs2(int u, int fa, int far) {\n            int val = (u % 2 == 1) ? 1 : 2;\n\n            int f = -1, v1 = 0;\n            int s = -1, v2 = 0;\n            if (fa != -1) {\n                f = fa;\n                v1 = far;\n            }\n\n            int res = far;\n            for (int v: g[u]) {\n                if (v == fa) continue;\n                res = Math.max(res, dp1[v]);\n\n                int tmpI = v, tmpV = dp1[v];\n                if (f == -1 || v1 < tmpV) {\n                    int of = f, ov = v1;\n                    f = tmpI;\n                    v1 = tmpV;\n                    tmpI = of;\n                    tmpV = ov;\n                }\n                if (tmpI != -1 && (s == -1 || v2 < tmpV)) {\n                    s = tmpI;\n                    v2 = tmpV;\n                }\n            }\n            dp2[u] = res;\n\n            for (int v: g[u]) {\n                if (v == fa) continue;\n                if (v != f) {\n                    dfs2(v, u, v1 + val);\n                } else {\n                    dfs2(v, u, v2 + val);\n                }\n            }\n        }\n\n        public int[] timeTaken(int[][] edges) {\n            n = edges.length + 1;\n            g = new List[n];\n            Arrays.setAll(g, x-> new ArrayList<>());\n\n            for (int[] e: edges) {\n                g[e[0]].add(e[1]);\n                g[e[1]].add(e[0]);\n            }\n\n            dp1 = new int[n];\n            dfs(0, -1);\n            dp2 = new int[n];\n            dfs2(0, -1, 0);\n\n            return dp2;\n        }\n    }",
    "submit_ts": "1722698359",
    "subm_id": "552270506"
}