{
    "username": "abhinavprkash",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        \n        vector<int> pre(s.length(),0);\n        vector<int> fre(s.length()+1,0);\n        vector<int> back(s.length()+1,0);\n        for(int i=0;i<s.length();i++){\n            \n            if(s[i] == '1'){\n                pre[i]=1;\n            }\n        }\n        for(int i=1;i<s.length();i++){\n            pre[i] = pre[i] + pre[i-1];\n        }\n        int prev = 0;\n\n        for(int i=s.length();i>=0;i--){\n                if(s[i]=='1'){\n                    if(prev ==0){\n                        fre[i] = 0;\n                        prev = 1;\n                    }else{\n                        fre[i] = 1+fre[i+1];\n                        prev = 1;\n                    }\n                }else if(s[i]=='0'){\n                    if(prev == 1)\n                        fre[i] =1+ fre[i+1];\n                    prev=0;\n                }\n        }\n        prev =0;\n        for(int i=0;i<s.length();i++){\n                if(s[i]=='1'){\n                    if(prev ==0){\n                        back[i] = 0;\n                        prev = 1;\n                    }else{\n                        back[i] = 1+back[i-1];\n                        prev = 1;\n                    }\n                }else if(s[i]=='0'){\n                    if(prev == 1)\n                        back[i] =1+ back[i-1];\n                    prev=0;\n                }\n        }\n\n        vector<int> zeros;\n        for(int i=0;i<s.length();i++){\n            if(s[i]=='0')\n             zeros.push_back(i);\n        }\n        int ans=0;\n        for(int i=0;i<200;i++){\n\n            long long int num_one_required = i*i;\n\n            long long int sub_string_length = (i + num_one_required);\n\n            for(int j=0;j<s.length();j++){\n\n                long long int start = j;\n                long long int end = max(j + sub_string_length -1, start);\n                if(end >= s.length())break;\n                int total_ones = pre[end];\n                if(start -1 >=0){\n                    total_ones -= pre[start-1];\n                }\n                int zeros  = (end - start + 1 - total_ones);\n\n                if(total_ones >= num_one_required && zeros == i){\n                    \n\n                    if(s[end]=='0'){\n                        ans+= (back[start]+1)* (fre[end]+1);\n                    }else{\n                        ans+= 1+ fre[end];\n                    }\n                    // cout<<i<<\" \"<<start<<\" \"<<end<<\" \"<<fre[end]<<\" \"<<ans<<endl;\n\n\n                }\n\n\n            }\n\n\n            for(int j =0;j<zeros.size();j++){\n\n                long long int start = zeros[j];\n                long long int end = j+ i-1;\n\n                if(i==0 || end >= zeros.size())break;\n                end = zeros[end];\n                int total_ones = pre[end];\n                if(start -1 >=0){\n                    total_ones -= pre[start-1];\n                }\n                // cout<<i<<\" \"<<total_ones<<\" \"<<num_one_required<<\"\\n\";\n                if(total_ones > num_one_required){\n                    if(s[end]=='0'){\n                        ans+= (back[start]+1)* (fre[end]+1);\n                    }else{\n                        ans+= 1+ fre[end];\n                    }\n                }\n\n\n\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722138499",
    "subm_id": "1335792309"
}