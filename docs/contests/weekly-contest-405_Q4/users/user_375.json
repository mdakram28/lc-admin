{
    "username": "omhari",
    "submission": "const int p = 31; \nconst int m = 1e9 + 9;\nclass Solution {\npublic:\n    vector<long long> p_pow; \n    void init()\n    {\n        p_pow.assign(1e5, 0);\n        p_pow[0]=1;\n        for(int i=1; i<1e5; i++)\n            p_pow[i]=(p_pow[i-1] * p) % m;\n    }\n    \n    vector<long long> rabin_karp(string const& t) {\n        int T = t.size();\n        vector<long long> h(T + 1, 0); \n        for (int i = 0; i < T; i++)\n            h[i+1] = (h[i] + (t[i] - 'a' + 1) * p_pow[i]) % m; \n        return h;\n    }\n    \n    \n    long long calc(string const& t) {\n        int T = t.size();\n        long long hash1=0;\n        for (int i = 0; i < T; i++)\n            hash1 = (hash1 + (t[i] - 'a' + 1) * p_pow[i]) % m; \n        \n        \n        return hash1;\n    }\n    \n    \n    int minimumCost(string tar, vector<string>& words, vector<int>& costs) {\n        if(p_pow.size()==0)\n            init();\n        \n        vector<long long> hash1=rabin_karp(tar);\n        \n        \n        int n=tar.size();\n        vector<int> dp(n+1, 1e9);\n        dp[0]=0;\n        map<int, pair<int, int>> mm;\n        \n        for(int i=0; i<words.size(); i++)\n        {\n            int h=calc(words[i]);\n            \n            if(mm.count(h))\n                mm[h]={min(mm[h].first, costs[i]), words[i].size()};\n            else\n                mm[h]={costs[i], words[i].size()};\n        }\n    \n        vector<vector<int>> v;\n        \n        for(auto &it:mm)\n        {\n            v.push_back({it.first, it.second.first, it.second.second});   \n        }\n        \n        for(int j=1; j<=n; j++)\n        {\n            for(int i=0; i<v.size(); i++)\n            {\n                long long hs=v[i][0];\n                int cost=v[i][1];\n                int len=v[i][2];\n                if(len<=j && (hs*p_pow[j-len])%m==(hash1[j]-hash1[j-len]+m)%m)   \n                {\n                    dp[j]=min(dp[j], dp[j-len]+cost);\n                }\n            }\n        }\n    \n//         for(int i=0; i<v.size(); i++)\n//         {\n            \n//             cout<<hs<<\" \"<<cost<<\" \"<<len<<endl;\n//             for(int j=1; j<=n; j++)\n//             {\n                \n//             }\n//         }\n        if(dp[n]>=1e9)\n            return -1;\n        return dp[n];\n        \n    }\n};",
    "submit_ts": "1720322279",
    "subm_id": "1312345578"
}