{
    "username": "Ajit123",
    "submission": "class Solution {\npublic:\n    void dfs(int i, int j, int c, vector<vector<int>>& color) {\n        int n = color.size();\n        int m = color[0].size();\n        if (i < 0 || i >= n || j < 0 || j >= m || color[i][j]) {\n            return;\n        }\n\n        color[i][j] = c;\n        dfs(i, m-1-j, c, color);\n        dfs(n-1-i, j, c, color);\n    }\n\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid[0].size();\n        vector<vector<int>> color(n, vector<int>(m));\n        int cur = 1;\n        for(int i=0; i<n; i++) {\n            for(int j=0; j<m; j++) {\n                if (!color[i][j]) {\n                    dfs(i, j, cur++, color);\n                }\n            }\n        }\n\n        vector<vector<int>> vals(cur);\n        for(int i=0; i<n; i++) {\n            for(int j=0; j<m; j++) {\n                vals[color[i][j]].push_back(grid[i][j]);\n            }\n        }\n\n        int ans = 0;\n        bool twos_all_ones = true;\n        int twos_sum = 0;\n\n        // for(int i=0; i<n; i++) {\n        //     for(int j=0; j<m; j++) {\n        //         cout << color[i][j] << \" \";\n        //     }\n        //     cout << endl;\n        // }\n\n        for(auto& it: vals) {\n            if (it.empty()) {\n                continue;\n            }\n\n            if (it.size() == 4) {\n                int c0 = count_if(it.begin(), it.end(), [&](int x) -> bool {\n                    return x != 0;\n                });\n                int c1 = count_if(it.begin(), it.end(), [&](int x) -> bool {\n                    return x != 1;\n                });\n                ans += min(c0, c1);\n            }\n            else if (it.size() == 2) {\n                if (it[0] != it[1]) {\n                    twos_all_ones = false;\n                }\n                \n                if (it[0] == 1 && it[1] == 1) {\n                    twos_sum += 2;\n                }\n                else if (it[0] != it[1]) {\n                    ans++;\n                }\n            }\n            else {\n                assert(it.size() == 1);\n                if (it[0] == 1) {\n                    ans++;\n                }\n            }\n        }\n\n        if (twos_all_ones) {\n            if (twos_sum % 4 != 0) {\n                ans += 2;\n            }\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1722696981",
    "subm_id": "1343129697"
}