{
    "username": "Priyanshu_gupta_9620",
    "submission": "class Solution {\npublic:\n    vector<int> cal(vector<int>&v){\n        int x=v.size();\n        vector<int> ans(v.size());\n        for(int i=v.size()-1;i>=0;i--){\n            if(v[i]==0){\n                x=i;\n            }\n            ans[i]=x;\n        }\n        return ans;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        vector<vector<int>> v(31,vector<int>(n));\n        for(int i=0;i<=30;i++){\n            for(int j=0;j<n;j++){\n                if(((1<<i)&nums[j])!=0){\n                    v[i][j]=1;\n                }\n            }\n        }\n        vector<vector<int>> dp(31);\n        for(int i=0;i<=30;i++){\n            dp[i]=cal(v[i]);\n        }\n        // for(auto it:dp){\n        //     for(auto itr:it){\n        //         cout<<itr<<' ';\n        //     }\n        //     cout<<endl;\n        // }\n        long long ans=0;\n        for(int i=0;i<n;i++){\n            int maxi1=INT_MAX,maxi2=INT_MIN;\n            int f=0;\n            int f1=0;\n            int f2=0;\n            for(int j=0;j<=30;j++){\n                if(((1<<j)&k)!=0){\n                    if(v[j][i]==0){\n                        f=1;\n                        break;\n                    }\n                    f1++;\n                    int ind=dp[j][i]-1;\n                    maxi1=min(maxi1,ind);\n                }\n                else{\n                    f2++;\n                    int ind=dp[j][i];\n                    maxi2=max(maxi2,ind);\n                }\n            }\n            if(f1==31){\n                ans+=(maxi1-i+1);\n            }\n            else if(f2==31){\n                ans+=(n-maxi2);\n            }\n            else if(f==0 and maxi1>=maxi2 and maxi1!=INT_MAX and maxi2!=INT_MIN){\n                ans+=(maxi1-maxi2+1);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280830",
    "subm_id": "1311803565"
}