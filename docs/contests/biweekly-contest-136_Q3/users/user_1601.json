{
    "username": "Jinroy",
    "submission": "class Solution:\n    def minFlips(self, grid: List[List[int]]) -> int:\n\n        totalOnes = 0\n        for i in grid:\n            for j in i:\n                totalOnes += j\n        \n        opS = 0\n        for i in range(len(grid) // 2):\n            for j in range(len(grid[i]) // 2):\n                topLeft = grid[i][j]\n                topRight = grid[i][len(grid[i]) - 1 - j]\n                bottomLeft = grid[len(grid) - i - 1][j]\n                bottomRight = grid[len(grid) - i - 1][len(grid[i]) - 1 - j]\n                total = topLeft+topRight+bottomLeft+bottomRight\n                opS += min(4 - total, total - 0)\n        \n        opsExtra = 0\n        totalOnes = 0\n        if len(grid) % 2 == 1:\n            middle = len(grid) // 2\n            for j in range(len(grid[middle]) // 2):\n                if grid[middle][j] != grid[middle][len(grid[middle]) - 1 - j]:\n                    opsExtra += 1\n            \n            for j in grid[middle]:\n                totalOnes += j\n        \n        if len(grid[0]) % 2 == 1:\n            middle = len(grid[0]) // 2\n            for i in range(len(grid) // 2):\n                if grid[i][middle] != grid[len(grid) - 1 - i][middle]:\n                    opsExtra += 1\n            \n            for i in range(len(grid)):\n                totalOnes += grid[i][middle]\n\n        middleVal = -1\n        if len(grid) % 2 == 1 and len(grid[0]) % 2 == 1:\n            middleVal = grid[len(grid) // 2][len(grid[0]) // 2]\n            totalOnes -= middleVal\n        \n        # print(opS, opsExtra, middleVal, totalOnes)\n\n        if opsExtra == 0:\n            return opS + totalOnes % 4\n        if opsExtra % 2 == 0:\n            if totalOnes % 4 == 0:\n                return opS + opsExtra\n            elif totalOnes % 4 == 1:\n                if middleVal == 1 or middleVal == 0:\n                    return opS + opsExtra + 1\n            elif totalOnes % 4 == 2:\n                return opS + opsExtra\n            elif totalOnes % 4 == 3:\n                if middleVal == 0 or middleVal == 1:\n                    return opS + opsExtra + 1\n        else:\n            if totalOnes % 4 == 0:\n                if middleVal != -1:\n                    return opS + opsExtra + 1\n                else:\n                    return -1\n            elif totalOnes % 4 == 1 or totalOnes % 4 == 3:\n                return opS + opsExtra\n            else:\n                if middleVal != -1:\n                    return opS + opsExtra + 1\n                else:\n                    return -1\n",
    "submit_ts": "1722699184",
    "subm_id": "1343203963"
}