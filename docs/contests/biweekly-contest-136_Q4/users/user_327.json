{
    "username": "wutwere",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size() + 1;\n        vector<vector<int>> adj(n);\n        for (auto v : edges) {\n            int a = v[0], b = v[1];\n            adj[a].push_back(b);\n            adj[b].push_back(a);\n        }\n        vector<int> subtree(n), drop(n), ans(n);\n        auto dfs = [&](auto &&self, int cur, int p) -> void {\n            int mx = 0;\n            for (int nbr : adj[cur]) {\n                if (nbr != p) {\n                    self(self, nbr, cur);\n                    mx = max(mx, subtree[nbr] + 2 - nbr % 2);\n                }\n            }\n            subtree[cur] = mx;\n        };\n        dfs(dfs, 0, -1);\n        auto dfs2 = [&](auto &&self, int cur, int p) -> void {\n            ans[cur] = max(subtree[cur], drop[cur]);\n            vector<int> mxleft{0}, mxright{0};\n            for (int nbr : adj[cur]) {\n                if (nbr != p) {\n                    mxleft.push_back(subtree[nbr] + 2 - nbr % 2);\n                    mxright.push_back(subtree[nbr] + 2 - nbr % 2);\n                }\n            }\n            int m = mxleft.size();\n            for (int i = 0; i + 1 < m; i++) {\n                mxleft[i + 1] = max(mxleft[i + 1], mxleft[i]);\n                mxright[m - 2 - i] = max(mxright[m - 2 - i], mxright[m - 1 - i]);\n            }\n            mxright.push_back({0});\n            // cout << \"NODE: \" << cur << '\\n';\n            // cout << \"DROP: \" << drop[cur] << '\\n';\n            // cout << \"SUB: \" << subtree[cur] << '\\n';\n            int j = 0;\n            for (int nbr : adj[cur]) {\n                if (nbr != p) {\n                    int dropnbr = max(mxleft[j], mxright[j + 2]);\n                    drop[nbr] = max(drop[cur], dropnbr) + 2 - cur % 2;\n                    self(self, nbr, cur);\n                    j++;\n                }\n            }\n        };\n        dfs2(dfs2, 0, -1);\n        return ans;\n    }\n};",
    "submit_ts": "1722697739",
    "subm_id": "1343157199"
}