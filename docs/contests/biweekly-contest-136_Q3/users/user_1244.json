{
    "username": "randle999",
    "submission": "class Solution {\n    fun minFlips(grid: Array<IntArray>): Int {\n        var ans = 0\n\n        val (m, n) = grid.size to grid[0].size\n        for (i in 0 until m / 2) {\n            for (j in 0 until n / 2) {\n                val ones = grid[i][j] + grid[m - i - 1][j] + grid[i][n - j - 1] + grid[m - i - 1][n - j - 1]\n                ans += min(ones, 4 - ones)\n            }\n        }\n\n        if (m % 2 == 1 && n % 2 == 0) {\n            var diff = 0\n            for (j in 0 until n / 2) {\n                if (grid[m / 2][j] != grid[m / 2][n - j - 1]) {\n                    diff++\n                }\n            }\n            if (diff == 0) {\n                if (grid[m / 2].sum() % 4 == 2) {\n                    ans += 2\n                }\n            } else {\n                ans += diff\n            }\n        } else if (m % 2 == 0 && n % 2 == 1) {\n            var diff = 0\n            for (i in 0 until m / 2) {\n                if (grid[i][n / 2] != grid[m - i - 1][n / 2]) {\n                    diff++\n                }\n            }\n            if (diff == 0) {\n                var summ = 0\n                for (i in 0 until m) {\n                    summ += grid[i][n / 2]\n                }\n                if (summ % 4 == 2) {\n                    ans += 2\n                }\n            } else {\n                ans += diff\n            }\n        } else if (m % 2 == 1 && n % 2 == 1) {\n            var diff = 0\n            for (j in 0 until n / 2) {\n                if (grid[m / 2][j] != grid[m / 2][n - j - 1]) {\n                    diff++\n                }\n            }\n            for (i in 0 until m / 2) {\n                if (grid[i][n / 2] != grid[m - i - 1][n / 2]) {\n                    diff++\n                }\n            }\n            var summ = grid[m / 2].sum()\n            for (i in 0 until m) {\n                if (i == m / 2) continue\n                summ += grid[i][n / 2]\n            }\n            val el = grid[m / 2][n / 2]\n\n            if (diff == 0) {\n                ans += summ % 4\n            } else {\n                ans += diff\n                if ((summ + diff) % 4 in setOf(1, 3)) {\n                    ans += 1\n                }\n            }\n        }\n        \n        return ans\n    }\n}",
    "submit_ts": "1722698465",
    "subm_id": "1343181466"
}