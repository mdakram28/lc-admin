{
    "username": "tejkumar_40",
    "submission": "#include <vector>\nusing namespace std;\n\nclass Solution {\npublic:\n\tint numberOfPermutations(int n, vector<vector<int>>& v) {\n\t\t// const int MOD = 1e9 + 7;\n\t\t// int maxm = n * (n - 1) / 2;\n\t\t// vector<vector<int>> dp(n + 1, vector<int>(maxm + 1, 0));\n\n\t\t// dp[0][0] = 1;\n\n\t\t// for (int i = 1; i <= n; ++i) {\n\t\t// \tvector<int> pre(maxm + 2, 0);\n\t\t// \tfor (int j = 0; j <= maxm; ++j) {\n\t\t// \t\tpre[j + 1] = (pre[j] + dp[i - 1][j]) % MOD;\n\t\t// \t}\n\n\t\t// \tfor (int j = 0; j <= maxm; ++j) {\n\t\t// \t\tdp[i][j] = (pre[j + 1] - (j - i >= 0 ? pre[j - i + 1] : 0) + MOD) % MOD;\n\t\t// \t}\n\t\t// \tfor (auto &it : v) {\n\t\t// \t\tint last = it[0] + 1;\n\t\t// \t\tint count = it[1];\n\t\t// \t\tif (last == i) {\n\t\t// \t\t\tfor (int j = 0; j <= maxm; ++j) {\n\t\t// \t\t\t\tif (j != count) {\n\t\t// \t\t\t\t\tdp[i][j] = 0;\n\t\t// \t\t\t\t}\n\t\t// \t\t\t}\n\t\t// \t\t}\n\t\t// \t}\n\t\t// }\n\t\tconst int MOD = 1e9 + 7;\n\t\tint maxm = n * (n - 1) / 2;\n\t\tvector<vector<int>> dp(n + 1, vector<int>(maxm + 1, 0));\n\n\t\tdp[0][0] = 1;\n\n\t\tfor (int i = 1; i <= n; ++i) {\n\t\t\tvector<int> pre(maxm + 2, 0);\n\t\t\tfor (int j = 0; j <= maxm; ++j) {\n\t\t\t\tpre[j + 1] = (pre[j] + dp[i - 1][j]) % MOD;\n\t\t\t}\n\n\t\t\tfor (int j = 0; j <= maxm; ++j) {\n\t\t\t\tdp[i][j] = (pre[j + 1] - (j - i >= 0 ? pre[j - i + 1] : 0) + MOD) % MOD;\n\t\t\t}\n\t\t\tfor (auto &it : v) {\n\t\t\t\tint last = it[0] + 1;\n\t\t\t\tint count = it[1];\n\t\t\t\tif (last == i) {\n\t\t\t\t\tfor (int j = 0; j <= maxm; ++j) {\n\t\t\t\t\t\tif (j != count) {\n\t\t\t\t\t\t\tdp[i][j] = 0;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tint ans = 0;\n\t\tfor (int j = 0; j <= maxm; ++j) {\n\t\t\tans += (dp[n][j]) % MOD;\n\t\t}\n\n\t\treturn ans;\n\t}\n};\n",
    "submit_ts": 1719069547.0
}