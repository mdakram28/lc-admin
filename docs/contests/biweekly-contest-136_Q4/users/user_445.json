{
    "username": "VanadiumVa",
    "submission": "class Solution {\npublic:\n void dfs2(int src,int par,int t,vector<vector<int>>&adj,vector<int>&dp,vector<int>&ans){\n       vector<int>a;\n       int h = t;\n       vector<int>kids;\n       for(int i=0;i<adj[src].size();i++){\n           int ch = adj[src][i];\n            if(ch!=par){\n                 a.push_back(dp[ch]);\n                kids.push_back(ch);\n            }\n       }\n       int sz = a.size();\n       vector<int>pre(sz),suff(sz);\n       for(int i=0;i<sz;i++){\n           pre[i] = a[i];\n           h = max(h,a[i]);\n           if(i){\n              pre[i] = max(pre[i],pre[i-1]);\n           }\n       }\n       ans[src] = h;\n       for(int i=sz-1;i>=0;i--){\n           suff[i] = a[i];\n           if(i!=sz-1){\n               suff[i] = max(suff[i+1],a[i]);\n           }\n       }\n       int temp = t+1;\n       int o = 1;\n       if(src%2==0){\n           temp++;\n           o++;\n       }\n       \n       // make a new array of kids\n       for(int i=0;i<sz;i++){\n           \n           int ch = kids[i];\n           if(ch==par){\n                continue;\n           }\n           \n           int nw = temp;\n           if(i){\n               nw = max(nw,pre[i-1]+o);\n           }\n           if(i!=sz-1){\n               nw = max(nw,suff[i+1]+o);\n           }\n           dfs2(ch,src,nw,adj,dp,ans);\n       }\n   }\n    \n    \n    \n    void dfs(int src,int par,vector<int>&dp,vector<vector<int>>&adj){\n        int curr=0;\n        for(auto x:adj[src]){\n           if(x!=par){\n               dfs(x,src,dp,adj);\n               curr = max(curr,dp[x]);\n            }\n        }\n        dp[src] = curr+1;\n        if(src%2==0){\n            dp[src]++;\n        }\n    }\n    \n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size()+1;\n        vector<vector<int>>adj(n);\n        for(auto x:edges){\n           adj[x[0]].push_back(x[1]);\n           adj[x[1]].push_back(x[0]);\n        }\n        vector<int>dp(n),ans(n);\n        dfs(0,-1,dp,adj);\n        dfs2(0,-1,0,adj,dp,ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722698886",
    "subm_id": "1343194929"
}