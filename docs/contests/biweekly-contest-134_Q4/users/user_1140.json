{
    "username": "gouthampokes",
    "submission": "class Solution {\npublic:\n    // void build(int s,int e,int pos,vector<int> &nums,vector<int> &st){\n    //     if(s==e){\n    //         st[]\n    //     }\n    // }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        // vector<int> st(4*n);\n        vector<vector<int>> pre(n+1,vector<int>(32,0));\n        for(int i=0;i<n;i++){\n            for(int j=0;j<=31;j++){\n                pre[i+1][j]=pre[i][j];\n                if(nums[i]&(1<<j)){\n                    pre[i+1][j]++;\n                }\n            }\n        }\n        int mid;\n        long long ans=0LL;\n        for(int i=0;i<n;i++){\n            int s=i,e=n-1;\n            while(s<=e){\n                mid=(s+e)/2;\n                int c=0;\n                for(int j=0;j<32;j++){\n                    if(pre[mid+1][j]-pre[i][j]==mid-i+1){\n                        c|=(1<<j);\n                    }\n                }\n                if(c>k){\n                    s=mid+1;\n                }\n                else{\n                    e=mid-1;\n                }\n            }\n            int ind1=e+1;\n            // if(pre[ind1+1])\n            // int c=0;\n            // for(int j=0;j<32;j++){\n            //     if(pre[ind1+1][j]==ind1+1){\n            //         c|=(1<<)\n            //     }\n            // }\n            // cout<<\"first completed\"<<endl;\n            s=i,e=n-1;\n            while(s<=e){\n                mid=(s+e)/2;\n                int c=0;\n                for(int j=0;j<32;j++){\n                    if(pre[mid+1][j]-pre[i][j]==mid-i+1){\n                        c|=(1<<j);\n                    }\n                }\n                if(c>k-1){\n                    s=mid+1;\n                }\n                else{\n                    e=mid-1;\n                }\n            }\n            int ind2=e+1;\n            // cout<<ind1<<\" \"<<ind2<<endl;\n            // cout<<\"second completed\"<<endl;\n            ans+=max(ind2-ind1,0);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278630",
    "subm_id": "1311717510"
}