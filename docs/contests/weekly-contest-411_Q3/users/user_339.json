{
    "username": "seryp",
    "submission": "class Solution {\npublic:\n    string largestPalindrome(int n, int k) {\n        if(n == 1){\n            int t = 1;\n            while(t*k <=9){\n                t++;\n            }\n            char c= '0' + (t-1) * k;\n            return string(1,c);\n        }\n        int e = n/2 +(n%2?1:0);\n        int is_odd = (n%2?1:0);\n        vector<int> weight(n);\n        weight[0] = 1;\n        for(int i = 1;i < n;i++){\n            weight[i] = (weight[i-1] * 10) % k;\n        }\n        vector<vector<vector<bool>>> dp(e,vector<vector<bool>>(10,vector<bool>(k,false)));\n        vector<vector<bool>> dp2(e,vector<bool>(k,false));\n        int last_a,last_b;\n        if(is_odd){\n            for(int i = 0;i<10;i++){\n                dp[0][i][i * weight[n/2] % k] = true;\n                dp2[0][i * weight[n/2] % k] = true;\n            }\n            last_a = last_b = n/2;\n        } else {\n            for(int i = 0;i<10;i++){\n                dp[0][i][i * (weight[n/2] + weight[-1 + n/2]) % k] = true;\n                dp2[0][i * (weight[n/2] + weight[-1 + n/2]) % k] = true;\n            }  \n            last_a =  n/2;\n            last_b = -1 + n/2;          \n        }\n        for(int i = 1;i < e;i++){\n            last_a++;\n            last_b--;\n            for(int cc = 0;cc<10;cc++){\n                int u = cc * (weight[last_a] + weight[last_b]) % k;\n                for(int j = 0;j < k;j++){\n                        if(dp2[i-1][j]){\n                            dp[i][cc][(j + u)%k] = true;\n                            dp2[i][(j + u)%k] = true;\n                        }\n                }\n            }\n        }\n        string res(n,'0');\n        int w = 0;\n        for(int i = 9;i >0;i--){\n            if(dp[e-1][i][0]){\n                res[n-1] = res[0] = (i + '0');\n                w = i*(weight[last_a] + weight[last_b]) % k;\n                if(w != 0){\n                    w = k - w;\n                }\n                break;\n            }\n        }\n        for(int i =e -2;i>=0;i--){\n            last_a --;\n            last_b++;\n            for(int j = 9;j>=0;j--){\n                if(dp[i][j][w]){\n                    res[last_a] = res[last_b] = j + '0';\n                    int w1 = j*(weight[last_a] + weight[last_b]) % k;\n                    if(w1<=w){\n                        w-=w1;\n                    }else{\n                        w = (w + k - w1) % k;\n                    }\n                    break;\n                }\n            }\n        }\n        return res;\n\n    }\n};",
    "submit_ts": "1723951612",
    "subm_id": "1359775800"
}