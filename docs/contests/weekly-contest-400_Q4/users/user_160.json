{
    "username": "Glukua",
    "submission": "class Solution {\npublic:\n    vector<int> a[32];\n    int calc(int x, int y) {\n        //cout << x << \" \" << y << endl;\n        int r = 0;\n        for (int k=0; k<31; ++k) {\n            if (a[k][y+1] - a[k][x] == y+1-x) {\n                r += (1<<k);\n            }\n        }\n\n       // cout << x << \" \" << y << \" \" << r << endl;\n\n        return r;\n    }\n\n    int minimumDifference(vector<int>& b, int K) {\n        \n        int n = b.size(); \n        for (int i=0; i<32; ++i)\n            a[i].resize(n+1);\n        for (int k=0; k<31; ++k) {\n            for (int i=0; i<n; ++i) {\n                a[k][i+1] = a[k][i];\n                if (b[i] & (1<<k))\n                    a[k][i+1]++;\n            }\n        }\n\n        int r = abs(b[0]-K);\n\n        for (int x=0; x<n; ++x) {\n            r = min(r, abs(b[x] - K));\n            if (b[x] <= K) continue;\n\n            int d = 1;\n            int y = x;\n            bool down = false;\n            while (d > 0) {\n                if (y + d >= n) {\n                    d /= 2;\n                    continue;\n                }\n                if (calc(x, y+d) >= K) {\n                    y += d;\n                    if (!down) {\n                        d *= 2;\n                    } else {\n                        d/=2;\n                    }\n                } else {\n                    down = true;\n                    d/=2;\n                }\n            }\n\n            r = min(r, abs(calc(x, y) - K));\n            if (y + 1 >= n) continue;\n            r = min(r, abs(calc(x, y+1) - K));\n        }\n        \n        return r;\n    }\n};",
    "submit_ts": "1717297600",
    "subm_id": "1274748875"
}