{
    "username": "ruiaikete",
    "submission": "function timeTaken(edges: number[][]): number[] {\n  const n = edges.length + 1\n  const h = new Array(n).fill(-1),\n    e: number[] = [],\n    ne: number[] = [],\n    w: number[] = []\n  const add = (i: number, j: number, c: number) => {\n    e.push(j), ne.push(h[i]), (h[i] = ne.length - 1)\n    w.push(c)\n  }\n  for (const [a, b] of edges) {\n    add(a, b, b & 1 ? 1 : 2)\n    add(b, a, a & 1 ? 1 : 2)\n  }\n  const dp: [number, number][] = Array.from({ length: n }, () => [0, 0])\n  {\n    const dfs = (u: number, fa: number) => {\n      for (let i = h[u]; i !== -1; i = ne[i]) {\n        const j = e[i]\n        if (j !== fa) {\n          dfs(j, u)\n          const ans = dp[j][0] + w[i]\n          if (ans > dp[u][0]) {\n            dp[u][1] = dp[u][0]\n            dp[u][0] = ans\n          } else if (ans > dp[u][1]) {\n            dp[u][1] = ans\n          }\n        }\n      }\n    }\n    dfs(0, -1)\n  }\n\n  const res: number[] = new Array(n).fill(0)\n  {\n    const dfs = (u: number, fa: number, pre: number) => {\n      res[u] = Math.max(dp[u][0], pre)\n      for (let i = h[u]; i !== -1; i = ne[i]) {\n        const j = e[i]\n        if (j !== fa) {\n          let a = dp[j][0] + w[i]\n          if (a === dp[u][0]) {\n            a = dp[u][1]\n          } else {\n            a = dp[u][0]\n          }\n          a = Math.max(a, pre)\n          dfs(j, u, a + w[i ^ 1])\n        }\n      }\n    }\n    dfs(0, -1, 0)\n  }\n  return res\n}",
    "submit_ts": "1722698525",
    "subm_id": "552271280"
}