{
    "username": "NinjaSatish",
    "submission": "class Solution {\npublic:\n    #define ll long long\n    struct seg{\n       ll si ;  // limit for array size\n       ll n ;  // array size\n       vector<ll> t;\n\n       seg(ll x, ll value = 0){\n          n = x ;\n          si = 2ll * x ; \n          t.assign(si, value);\n       }\n\n       void upd(ll p, ll value) {  // set value at position p\n         for (t[p += n] = value; p > 1; p >>= 1) t[p>>1] = t[p] + t[p^1];\n       }\n\n       ll qry(ll l, ll r) {  // sum on interval [l, r)\n         ll res = 0;\n         for (l += n, r += n; l < r; l >>= 1, r >>= 1) {\n           if (l&1) res += t[l++];\n           if (r&1) res += t[--r];\n         }\n         return res;\n       }\n    };\n    \n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        int n = nums.size();\n        seg st(n) ;\n        vector<int> p(n, 0) ;\n        for(int i = 1; i < n - 1; i ++){\n            if(nums[i] > nums[i - 1] and nums[i] > nums[i + 1]){\n                st.upd(i, 1);\n                p[i] = 1 ;\n            }\n        }\n        \n        vector<int> ans ;\n        \n        \n        for(auto i : queries){\n            int t = i[0], l = i[1], r = i[2] ;\n            if(t == 1){\n                ans.push_back(st.qry(l + 1, r ));\n            }\n            else{\n                int b = p[l], a = 0 ;\n                nums[l] = r ;\n                if(l > 0 and l < n - 1) a = (nums[l] > nums[l - 1]) and (nums[l] > nums[l + 1]);\n                st.upd(l, a);\n                p[l] = a ;\n                \n                if(l - 1 > 0){\n                    b = p[l - 1]; a = l - 1 > 0 ? nums[l - 1] > nums[l - 2] and nums[l - 1] > nums[l] : 0 ; \n                    st.upd(l - 1, a);\n                    p[l - 1] = a ;\n                }\n                \n                if(l + 1 < n - 1){\n                    b = p[l + 1]; a = l + 1 < n - 1 ? nums[l + 1] > nums[l] and nums[l + 1] > nums[l + 2] : 0 ; \n                    st.upd(l + 1, a);\n                    p[l + 1] = a ;\n                }\n            }\n        }\n        \n        return ans ;\n    }\n};",
    "submit_ts": "1718506290",
    "subm_id": "1289613790"
}