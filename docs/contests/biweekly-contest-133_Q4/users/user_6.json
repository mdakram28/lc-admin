{
    "username": "kmjp",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define FORR2(x,y,arr) for(auto& [x,y]:arr)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\ntemplate<class T> bool chmax(T &a, const T &b) { if(a<b){a=b;return 1;}return 0;}\ntemplate<class T> bool chmin(T &a, const T &b) { if(a>b){a=b;return 1;}return 0;}\n//-------------------------------------------------------\n\nconst ll mo=1000000007;\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n\t\tvector<int> R[303];\n\t\t\n\t\tFORR(v,requirements) {\n\t\t\tR[v[0]].push_back(v[1]);\n\t\t}\n\t\tint i,j,a;\n\t\tll from[404]={};\n\t\tfrom[0]=1;\n\t\tFOR(i,n) {\n\t\t\tll to[404]={};\n\t\t\tfor(j=0;j<=400;j++) {\n\t\t\t\tfor(a=0;a<=i&&a+j<=400;a++) to[a+j]+=from[j];\n\t\t\t}\n\t\t\t\n\t\t\t\n\t\t\tfor(j=0;j<=400;j++) from[j]=to[j]%mo;\n\t\t\tsort(ALL(R[i]));\n\t\t\tif(R[i].size()&&R[i][0]!=R[i].back()) return 0;\n\t\t\tif(R[i].size()) {\n\t\t\t\tFOR(j,404) if(j!=R[i][0]) from[j]=0;\n\t\t\t}\n\t\t}\n\t\tll ret=0;\n\t\tFOR(i,404) ret+=from[i];\n\t\treturn ret%mo;\n        \n    }\n};\n",
    "submit_ts": 1719067120.0
}