{
    "username": "karanjohn890",
    "submission": "class Solution {\npublic:\n    int calc(int i,int par,vector<vector<int>> &adj,vector<int> &time,vector<int> &maxi,vector<int> &secmaxi){\n        \n        int ma=0;\n        int se=0;\n        for(int j=0;j<adj[i].size();j++){\n            int ad=adj[i][j];\n            if(ad==par)continue;\n                int ans=0;\n            if(ad%2==0)ans=calc(ad,i,adj,time,maxi,secmaxi)+2;\n            else ans=calc(ad,i,adj,time,maxi,secmaxi)+1;\n            if(ans>ma){\n                se=ma;\n                ma=ans;\n            }else se=max(se,ans);\n        }\n        maxi[i]=ma;\n        time[i]=ma;\n        secmaxi[i]=se;\n        return ma;\n    }\n    void dfs(int i,int par,vector<vector<int>> &adj,vector<int> &time,vector<int> &maxi,vector<int> &secmaxi,vector<int> &ans,int parval){\n        ans[i]=max(time[i],parval);\n        int vv=1;\n        if(i%2==0)vv++;\n        \n        for(int j=0;j<adj[i].size();j++){\n            int ad=adj[i][j];\n            if(ad==par)continue;\n            if(ad%2==0){\n                int val=time[ad]+2;\n                \n                if(val==maxi[i])\n                    dfs(ad,i,adj,time,maxi,secmaxi,ans,max(secmaxi[i],parval)+vv);\n                else\n                     dfs(ad,i,adj,time,maxi,secmaxi,ans,max(maxi[i],parval)+vv);\n            }else{\n                 int val=time[ad]+1;\n                if(val==maxi[i])\n                    dfs(ad,i,adj,time,maxi,secmaxi,ans,max(secmaxi[i],parval)+vv);\n                else\n                     dfs(ad,i,adj,time,maxi,secmaxi,ans,max(maxi[i],parval)+vv);\n            }\n        }\n        \n    }\n    vector<int> timeTaken(vector<vector<int>>& e) {\n        int n=e.size()+1;\n        vector<vector<int>> adj(n);\n        for(int i=0;i<e.size();i++){\n            adj[e[i][0]].push_back(e[i][1]);\n              adj[e[i][1]].push_back(e[i][0]);\n        }\n        vector<int> time(n,-1);\n        vector<int> maxi(n,-1);\n        vector<int>  secmaxi(n,-1);\n       \n    calc(0,-1,adj,time,maxi,secmaxi);\n     \n        vector<int> ans(n,-1);\n        dfs(0,-1,adj,time,maxi,secmaxi,ans,0);\n        return ans;\n    }\n};",
    "submit_ts": "1722700037",
    "subm_id": "1343229772"
}