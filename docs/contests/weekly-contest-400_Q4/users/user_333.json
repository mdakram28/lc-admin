{
    "username": "pein531",
    "submission": "const int N = 100010, M = 20;\nint a[N], st[N][M];\n\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        for(int i = 1; i <= n; i++) {\n            a[i] = nums[i - 1];\n        }\n        // \u533a\u95f4\u4e0e\n        for(int j = 0; j < M; j++) {\n            for(int i = 1; i + (1 << j) - 1 <= n; i++) {\n                if(!j) {\n                    st[i][j] = a[i];\n                }else {\n                    st[i][j] = st[i][j - 1] & st[i + (1<<(j - 1))][j - 1];\n                }\n            }\n        }\n        auto query = [&](int l, int r) {\n            int k = log2(r - l + 1);\n            return st[l][k] & st[r - (1<<k) + 1][k];      // \u6839\u636e\u67e5\u8be2\u4fe1\u606f\u7684\u4e0d\u540c\u4fee\u6539\u6b64\u5904\n        };\n        int ans = 0x3f3f3f3f;\n        for(int l = 1; l <= n; l++) {\n            int left = l, right = n;\n            while(left < right) {\n                int mid = left + right >> 1;\n                if(query(l, mid) <= k) {\n                    right = mid;\n                }else {\n                    left = mid + 1;\n                }\n            }\n            int res1 = query(l, right);\n            if(res1 <= k) ans = min(ans, k - res1);\n            left = l, right = n;\n            while(left < right) {\n                int mid = left + right + 1 >> 1;\n                if(query(l, mid) > k) {\n                    left = mid;\n                }else {\n                    right = mid - 1;\n                }\n            }\n            int res2 = query(l, right);\n            if(res2 > k) ans = min(ans, res2 - k);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1717297011",
    "subm_id": "1274727105"
}