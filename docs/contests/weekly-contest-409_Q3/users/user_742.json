{
    "username": "dineshhardasani2000",
    "submission": "class Solution {\npublic:\n    vector<int> tree;\n\n    void update(int node, int start, int end, int idx, int val)\n    {\n        if(start == end)\n        {\n            tree[node] += val;\n        }\n        else\n        {\n            int mid = (start + end) / 2;\n            if(start <= idx and idx <= mid)\n            {\n                update(2*node, start, mid, idx, val);\n            }\n            else\n            {\n                update(2*node+1, mid+1, end, idx, val);\n            }\n            tree[node] = tree[2*node] + tree[2*node+1];\n        }\n    }\n    int query(int node, int start, int end, int l, int r)\n    {\n        if(r < start or end < l)\n        {\n            return 0;\n        }\n        if(l <= start and end <= r)\n        {\n            return tree[node];\n        }\n        int mid = (start + end) / 2;\n        int p1 = query(2*node, start, mid, l, r);\n        int p2 = query(2*node+1, mid+1, end, l, r);\n        return (p1 + p2);\n    }\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        for(int i=0;i<4*n;i++){\n            tree.push_back(0);\n        }\n        map<int,int> mp;\n        int cur=n-1;\n        vector<int> ans;\n        for(int i=0;i<queries.size();i++){\n            if(mp[queries[i][0]]>=queries[i][1]){\n                ans.push_back(cur);\n            }\n            else{\n                int sum = query(1,0,n-1,0,queries[i][0]-1);\n                if(sum>0){\n                    ans.push_back(cur);\n                }\n                else{\n                    for(int j=queries[i][0];j<queries[i][1];j++){\n                        if(mp[j]!=0){\n                            cur=cur+mp[j]-j-1;\n                            j=mp[j]-1;\n                        }\n                    }\n                    cur=cur-queries[i][1]+queries[i][0]+1;\n                    ans.push_back(cur);\n                    mp[queries[i][0]]=queries[i][1];\n                    update(1,0,n-1,queries[i][0],1);\n                    update(1,0,n-1,queries[i][1]-1,-1);\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722742308",
    "subm_id": "1343765933"
}