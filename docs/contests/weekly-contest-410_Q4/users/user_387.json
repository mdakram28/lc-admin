{
    "username": "dj3013158",
    "submission": "class Solution:\n    def countOfPairs(self, arr: List[int]) -> int:\n        def func_x(val1, val2):\n            m = 10 **9 +7\n            dp_arr = [[0] * (max(val2) + 1) for _ in range(val1 + 1)]\n            pre_sum = [0] * (max(val2) + 1)\n\n            for x in range(val2[0] + 1):\n                dp_arr[1][x] = 1\n\n            for x in range(max(val2) + 1):\n                pre_sum[x] = dp_arr[1][x]\n                if x > 0:\n                    pre_sum[x] = (pre_sum[x] + pre_sum[x - 1]) % m\n\n            for y in range(2, val1 + 1):\n                for x in range(val2[y - 1] + 1):\n                    dp_arr[y][x] = pre_sum[x]\n                for x in range(max(val2) + 1):\n                    pre_sum[x] = dp_arr[y][x]\n                    if x > 0:\n                        pre_sum[x] = (pre_sum[x] + pre_sum[x - 1]) % m\n\n            res = sum(dp_arr[val1][x] for x in range(val2[val1 - 1] + 1)) % m\n            return res\n        \n        n_len = len(arr)\n        arr_a = [0] * n_len\n        arr_a[0] = 0\n\n        for i in range(1, n_len):\n            arr_a[i] = max(arr_a[i - 1], arr[i] - (arr[i - 1] - arr_a[i - 1]))\n        \n        arr_b = [0] * n_len\n        arr_b[-1] = 0\n        \n        for i in reversed(range(n_len - 1)):\n            arr_b[i] = max(arr_b[i + 1], arr[i] - (arr[i + 1] - arr_b[i + 1]))\n        \n        diff_arr = [arr[i] - arr_b[i] - arr_a[i] for i in range(n_len)]\n        return func_x(n_len, diff_arr)",
    "submit_ts": "1723347445",
    "subm_id": "1351598932"
}