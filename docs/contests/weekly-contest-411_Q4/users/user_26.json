{
    "username": "hxu10",
    "submission": "class Solution(object):\n    def countKConstraintSubstrings(self, s, k, queries):\n        \"\"\"\n        :type s: str\n        :type k: int\n        :type queries: List[List[int]]\n        :rtype: List[int]\n        \"\"\"\n        def judge(ss):\n            n = len(ss)\n            accu = [[0,0] for _ in range(n+1)]\n        \n        \n        \n            for i in range(n):\n                accu[i][0] = accu[i-1][0]\n                accu[i][1] = accu[i-1][1]\n                accu[i][int(ss[i])] += 1\n            \n            \n            front = 0\n            ans = 0\n        \n            for i in range(n):\n                while accu[i][0] - accu[front-1][0] > k and accu[i][1] - accu[front-1][1] > k:\n                    front += 1\n                ans += i-front+1\n            return ans\n        \n        \n        n = len(s)\n        \n        accu = [[0,0] for _ in range(n+1)]\n        \n        \n        \n        for i in range(n):\n            accu[i][0] = accu[i-1][0]\n            accu[i][1] = accu[i-1][1]\n            accu[i][int(s[i])] += 1\n            \n            \n        front = -1\n        left = []\n        acculeft = [0]*(n+1)\n        \n        for i in range(n):\n            while accu[i][0] - accu[front][0] > k and accu[i][1] - accu[front][1] > k:\n                front += 1\n            left.append(front)\n            acculeft[i] = acculeft[i-1] + front\n            \n            \n        #print(left)\n       # print(acculeft)\n            \n            \n        ans = []\n        \n       # judges = []\n            \n        for [l,r] in queries:\n            #judges.append(judge(s[l:r+1]))\n            rights = (l + r) * (r-l+1) // 2\n            lefts = acculeft[r] - acculeft[l-1] \n            \n            \n        \n            \n           # print(rights,lefts)\n            \n            \n            loc = bisect_left(left, l-1) - 1\n            \n            #print(loc)\n            if loc > r:\n                ans.append(rights - (l-1) * (r-l+1))\n                \n            else:\n                diff = (l-1) * (loc - l + 1 ) - acculeft[loc] + acculeft[l-1]\n                ans.append(rights - lefts - diff)\n                \n                \n       # print(judges)\n                \n        return ans\n    \n                \n            \n       ",
    "submit_ts": "1723949919",
    "subm_id": "1359732406"
}