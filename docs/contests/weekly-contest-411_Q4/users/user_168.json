{
    "username": "adiya_nmit",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        ll c[2], i=0, j=0, su=0, n=s.size(), t, sst;\n        c[0]=0; \n        c[1]=0;\n        vector < ll > st(n), sum(n+1), sust(n+1);\n        su=0;\n        sst=0;\n        sum[0]=0;\n        sust[0]=0;\n        for(i=0;i<n;i++){\n            c[s[i]-'0']++;\n            while(c[0]>k && c[1]>k){\n                c[s[j]-'0']--;\n                j++;\n            }\n            // cout<<j<<\" \";\n            st[i]=j;\n            su+=i-j+1;\n            sst+=j;\n            sust[i+1]=sst;\n            sum[i+1]=su;\n        }\n        vector < ll > res(queries.size());\n        j=0;\n        // cout<<endl;\n        for(auto q: queries){\n            su=sum[q[1]+1]-sum[q[0]];\n            t=(lower_bound(st.begin(), st.end(), q[0]) - st.begin());\n            \n            if(t>q[0]){\n                if(q[1]+1<t)t=q[1]+1;\n                \n                su-=(t-q[0])*q[0] - (sust[t]-sust[q[0]]);\n            }\n            // cout<<su<<\" \"<<t<<\" \"<<(t-q[0])*q[0] <<\" - \"<< (sust[t]-sust[q[0]])<<\" \"<<sum[q[1]+1]<<\" \"<<sum[q[0]]<<endl;\n            res[j]=su;\n            j++;\n        }\n        return res;\n        \n    }\n};",
    "submit_ts": "1723951007",
    "subm_id": "1359760838"
}