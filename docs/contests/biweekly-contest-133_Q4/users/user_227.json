{
    "username": "user0552HW",
    "submission": "using ll=long long;\nconst ll mod=1e9 + 7;\n\nclass Solution {\npublic:\n    int numberOfPermutations(ll n, vector<vector<int>>& r) {\n        vector<ll> req(n,-1);\n        for(auto el:r) {\n            req[el[0]]=el[1];\n        }\n        ll m=n*(n-1)/2;\n        vector<ll> dp(m+1,0);\n        dp[0]=1;\n        \n        for(ll i=0;i<n;i++) {\n            vector<ll> ndp(m+1,0),run(m+1,0);\n            ll cur=0;\n            for(ll j=0;j<=m;j++) {\n                cur=(cur+dp[j])%mod;\n                if(j+i<=m) run[j+i]=(run[j+i]+dp[j])%mod;\n                ndp[j]=(ndp[j]+cur)%mod;\n                cur=(cur-run[j]+mod)%mod;\n                if(req[i]!=-1 and j!=req[i]) ndp[j]=0;\n            }\n            swap(dp,ndp);\n        }\n        ll res=0;\n        for(ll i:dp) res=(res+i)%mod;\n        return res;\n    }\n};",
    "submit_ts": "1719069528",
    "subm_id": "1296799158"
}