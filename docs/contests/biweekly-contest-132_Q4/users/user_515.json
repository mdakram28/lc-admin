{
    "username": "addusirmac",
    "submission": "const int N=1e7+1;\n// #define int long long int\n#define pii pair<int,int>\n#define all(arr) arr.begin(),arr.end()\n#define fr first\n#define sc second\n#define pb push_back\nclass Solution {\npublic:\n    int maximumLength(vector<int>& arr, int k) {\n        int n=arr.size();\n        vector<vector<int>>dp(k+1, vector<int>(n+1, 0));\n        vector<int>prevEq(n);\n        map<int,int>mp;\n        prevEq[0]=-1;\n        mp[arr[0]]=0;\n        for(int i=1; i<n; i++){\n            prevEq[i]= (mp.count(arr[i])?mp[arr[i]]:-1);\n            mp[arr[i]]=i;\n        }\n        int tot=0;\n        for(int op=0; op<=k; op++){\n            set<int>s;\n            for(int i=0; i<n; i++){\n                int ans=1;\n                if(op>0 && s.size()>0)\n                    ans= max(ans, *s.rbegin()+1);\n                if(prevEq[i]!=-1)ans= max(ans, 1+dp[op][prevEq[i]]);\n                // cout<<op<<\" \"<<i<<\" \"<<ans<<endl;\n                dp[op][i]= ans;\n                if(op>0)\n                    s.insert(dp[op-1][i]);\n                tot= max(tot, dp[op][i]);\n            }\n        }\n        return tot;\n    }\n};",
    "submit_ts": "1717861562",
    "subm_id": "1281795124"
}