{
    "username": "Reacher_J",
    "submission": "\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& arr, int target) {\n        int n = arr.size();\n        long long res = 0;\n        unordered_map<long long, long long> prev;\n\n        for (int i = 0; i < n; ++i) {\n            processElement(arr, target, i, res, prev);\n        }\n\n        return res;\n    }\n\nprivate:\n    void processElement(const vector<int>& arr, int target, int idx, long long& res, unordered_map<long long, long long>& prev) {\n        unordered_map<long long, long long> curr;\n        long long val = arr[idx];\n\n        if (val == target) {\n            ++res;\n        }\n\n        curr[val] = 1;\n\n        for (auto& [v, freq] : prev) {\n            long long newAnd = v & val;\n            if (newAnd == target) {\n                res += freq;\n            }\n            curr[newAnd] += freq;\n        }\n\n        prev = curr;\n    }\n};",
    "submit_ts": "1720279829",
    "subm_id": "1311766770"
}