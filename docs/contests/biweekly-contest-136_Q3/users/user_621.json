{
    "username": "chen-3cm",
    "submission": "\n\nclass Solution:\n\n    def minFlips(self, grid: List[List[int]]) -> int:\n        n = len(grid)\n        m = len(grid[0])\n\n        ans = 0\n        for i in range(n // 2):\n            for j in range(m // 2):\n                counter = [0, 0]\n                counter[grid[i][j]] += 1\n                counter[grid[i][m - j - 1]] += 1\n                counter[grid[n - i - 1][j]] += 1\n                counter[grid[n - i - 1][m - j - 1]] += 1\n                ans += min(counter[0], 4 - counter[0])\n\n        if n % 2 == 0 and m % 2 == 0:\n            return ans\n        #print(ans)\n        if n % 2 != 0 and m % 2 != 0:\n            if grid[n // 2][m // 2] == 1:\n                grid[n // 2][m // 2] = 0\n                ans += 1\n            one_count = 0\n            unpair_count = 0\n            for i in range(n // 2):\n                if grid[i][m // 2] != grid[n - i - 1][m // 2]:\n                    unpair_count += 1\n                elif grid[i][m // 2] == 1:\n                    one_count += 2\n            for j in range(m // 2):\n                if grid[n // 2][j] != grid[n // 2][m - j - 1]:\n                    unpair_count += 1\n                elif grid[n // 2][j] == 1:\n                    one_count += 2\n            print(unpair_count,one_count,ans)\n            if unpair_count >= 1:\n                ans += unpair_count\n            else:  # unpair_count == 0\n                if one_count % 4 != 0:\n                    ans += 2\n            return ans\n\n\n            \n        left_arr = []\n        if n % 2 != 0:\n            left_arr = [grid[n // 2][j] for j in range(m)]\n        else:\n            left_arr = [grid[i][m // 2] for i in range(n)]\n        k = len(left_arr)\n        if k % 2 != 0 and left_arr[k // 2] == 1:\n            left_arr[k // 2] = 0\n            ans += 1\n        one_count = 0\n        unpair_count = 0\n        for i in range(k // 2):\n            if left_arr[i] != left_arr[k - i - 1]:\n                unpair_count += 1\n            elif left_arr[i] == 1:\n                one_count += 2\n        #print(f\"60 unpair_count = {unpair_count} {one_count}\")\n        if unpair_count >= 1:\n            ans += unpair_count\n        else:\n            if one_count % 4 != 0:\n                ans += 2\n\n        return ans",
    "submit_ts": "1722697682",
    "subm_id": "552267307"
}