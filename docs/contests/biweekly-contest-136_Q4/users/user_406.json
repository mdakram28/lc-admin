{
    "username": "leesin5202",
    "submission": "#pragma GCC optimize(\"O3,unroll-loops\")\n#pragma GCC target(\"avx2,bmi,bmi2,lzcnt,popcnt\")\nclass Solution {\npublic:\n    using pii = pair<int, int>;\n    int f(int cur, int pre, vector<set<pii>> &cnt, vector<vector<int>> &v){\n        int mx = 0;\n        for(int &i : v[cur]){\n            if(i == pre)\n                continue;\n            int t = f(i, cur, cnt, v);\n            cnt[cur].emplace(t + 1 + (i % 2 == 0), i);\n            mx = max(mx, t + 1 + (i % 2 == 0));\n        }\n        return mx;\n    }\n    void ff(int cur, int pre, vector<set<pii>> &cnt, vector<vector<int>> &v, vector<int> &ans){\n        int mx = 0;\n        if(pre != -1){\n            mx = max(mx, 1 + (pre % 2 == 0));\n            if(cnt.size() > 1){\n                auto t = cnt[pre].rbegin();\n                if(t->second == cur){\n                    t ++;\n                }\n                mx = max(mx, t->first + 1 + (pre % 2 == 0));\n            }\n\n        }\n        cnt[cur].emplace(mx, -1);\n        mx = max(mx, cnt[cur].rbegin()->first);\n        ans[cur] = mx;\n        for(int &i : v[cur]){\n            if(i == pre)\n                continue;\n            ff(i, cur, cnt, v, ans);\n    \n        }\n\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        cin.tie(0)->sync_with_stdio(0);\n        int n = edges.size() + 1;\n        vector<vector<int>> v(n);\n        for(auto it : edges){\n            v[it[0]].emplace_back(it[1]);\n            v[it[1]].emplace_back(it[0]);\n        }\n        vector<set<pii>> cnt(n);\n        f(0, -1, cnt, v);\n        vector<int> ans(n);\n        ff(0, -1, cnt, v, ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722700635",
    "subm_id": "1343247923"
}