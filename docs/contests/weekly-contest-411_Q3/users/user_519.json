{
    "username": "\u5f52\u6765\u8fd8\u5f53\u4fdd\u5b89",
    "submission": "class Solution {\npublic:\n    string largestPalindrome(int n, int k) {\n        auto fac = vector<int>(n+1,0);\n        fac[0] = 1;\n        for(int i=1; i<=n; i++) fac[i] = fac[i-1] * 10 % k;\n\n        int m = (n+1) / 2;\n        auto dp = vector(m+1,vector(10,false));\n        dp[0][0] = true;\n\n        for(int i=1; i<=m; i++) {\n            for(int j=0; j<10; j++) {\n                for(int z=0; z<10; z++) {\n                    int r = fac[i-1] * z % k;\n                    if(i-1!=n-i) {\n                        r = (fac[i-1] * z % k + fac[n-i] * z % k) % k;\n                    }\n                    int rr = (j - r + k) % k;\n                    dp[i][j] = dp[i][j] || dp[i-1][rr];\n                }              \n            }\n        }\n\n        auto ans = vector<char>{};\n\n        queue<int> qu;\n        auto fg = vector(m+1,vector(10,false));\n        qu.push(0);\n\n        for(int i=m; i>=1; i--) {\n            int sz = qu.size();\n\n            auto st = vector<int>(10,false);\n            // auto st = set<int>{};\n            \n            for(int j=0; j<sz; j++) {\n                auto fr = qu.front();\n                fg[i][fr] = true;\n                qu.pop();\n\n                for(int z=9; z>=0; z--) {\n                    int r = fac[i-1] * z % k;\n                    if(i-1!=n-i) {\n                        r = (fac[i-1] * z % k + fac[n-i] * z % k) % k;\n                    }\n                    int rr = (fr - r + k) % k;\n                    if(dp[i-1][rr]) {\n                        // st.insert(rr);\n                        st[rr] = true;\n                    }\n                }\n            }\n            for(int j=0; j<10; j++) {\n                if(st[j]) qu.push(j);\n            }\n        }\n\n        for(int i=0,j=0; i<m; i++) {\n            for(int z=9; z>=(i==0?1:0); z--) {\n                int r = fac[i] * z % k;\n                if(i!=n-1-i) {\n                    r = (fac[i] * z % k + fac[n-1-i] * z % k) % k;\n                }\n                int rr = (j + r) % k;\n                if(fg[i+1][rr]) {\n                    ans.push_back(char('0'+z));\n                    j = rr;\n                    break;\n                }\n            }\n        }\n\n        int p = ans.size()-1;\n        if(n%2==1) {\n            p -= 1;\n        }\n        for(int i=p; i>=0; i--) ans.push_back(ans[i]);\n\n        return string(ans.begin(),ans.end());\n    }\n};",
    "submit_ts": "1723952498",
    "subm_id": "556411961"
}