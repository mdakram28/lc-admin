{
    "username": "13579",
    "submission": "class Solution {\n    #define MAX_N int(1e5+5)\n    int n;\n    vector<vector<int>> e;\n    int dp[MAX_N];\n    int d[MAX_N];\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n=edges.size()+1;\n        e.resize(n);\n        vector<int> res(n);\n        for(auto v:edges)\n        {\n            e[v[0]].push_back(v[1]);\n            e[v[1]].push_back(v[0]);\n        }\n        DFS(0,-1);\n        // for(int i=0;i<n;++i)\n        //     cout<<i<<\" # \"<<dp[i]<<\" \"<<d[i]<<endl;\n        DFS_(0,-1,res);\n        return res;\n    }\n\n    void DFS(int rt, int pre)\n    {\n        int x,x1,x2;\n        x1=x2=0;\n        for(auto v:e[rt])\n            if(v!=pre){\n                DFS(v,rt);\n                x=dp[v]+1;\n                if((v&1)==0){\n                    x+=1;\n                }\n                if(x>x1){\n                    x2=x1; x1=x;\n                }else{\n                    x2=max(x2,x);\n                }\n            }\n        dp[rt]=x1;\n        d[rt]=x2;\n    }\n\n    void DFS_(int rt, int pre, vector<int> &res)\n    {\n        int x,x1,x2;\n        if(pre==-1){\n            res[rt]=dp[rt];\n        }else{\n            x=1;\n            if(rt%2==0){\n                x=2;\n            }\n            x1=res[pre];\n            if(res[pre]==dp[rt]+x){\n                x1=d[pre];\n            }\n            x2=1;\n            if(pre%2==0){\n                x2=2;\n            }\n            if(dp[rt]>x1+x2){\n                res[rt]=dp[rt];\n                d[rt]=max(d[rt],x1+x2);\n            }else{\n                res[rt]=x1+x2;\n                d[rt]=dp[rt];\n            }\n            // res[rt]=max(dp[rt],x1+x2);\n        }\n        for(auto v:e[rt])\n            if(v!=pre){\n                DFS_(v,rt,res);\n            }\n    }\n};\n/*\n[4,3,4,3,4,4,4]\n[8,7,5,8,6,8,9,9,8,10]\n*/",
    "submit_ts": "1722700496",
    "subm_id": "552280082"
}