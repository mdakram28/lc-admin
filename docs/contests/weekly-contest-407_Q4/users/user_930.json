{
    "username": "PyIsTheBestLang",
    "submission": "class Solution:\n    def minimumOperations(self, nums: List[int], target: List[int]) -> int:\n        n = len(nums)\n\n        def check(tmp):\n            if not tmp:\n                return 0\n            if tmp[-1] < 0:\n                tmp = [-x for x in tmp]\n            res = pre = 0\n            for x in tmp:\n                if x > pre:\n                    res += x-pre\n                pre = x\n            # pre_smaller_equal = [-1] * m\n            # post_smaller = [-1] * m\n            # stack = []\n            # for i in range(m - 1, -1, -1):\n            #     while stack and nums[i] >= nums[stack[-1]]:\n            #         pre_smaller_equal[stack.pop()] = i\n            #     if stack:\n            #         post_smaller[i] = stack[-1]\n            #     stack.append(i)\n            # res = 0\n            # for i in range(m):\n            #     ll, rr = pre_smaller_equal[i], post_smaller[i]\n            #     #print(i, ll, rr)\n            #     if ll == rr == -1:\n            #         res += tmp[i]\n            #     else:\n            #         if ll == -1:\n            #             res += tmp[i] - tmp[rr]\n            #         elif rr == -1:\n            #             res += tmp[i] - tmp[ll]\n            #         else:\n            #             res += tmp[i] - min(tmp[ll], tmp[rr])\n            # print(tmp, res)\n            return res\n\n        ans = 0\n        gap = [target[i] - nums[i] for i in range(n)]\n        lst = []\n        for num in gap:\n            if num == 0:\n                ans += check(lst)\n                lst = []\n                continue\n            if not lst:\n                lst.append(num)\n            else:\n                if lst and lst[-1] * num > 0:\n                    lst.append(num)\n                else:\n                    ans += check(lst)\n                    lst = [num]\n        ans += check(lst)\n        # print(ans)\n        return ans\n",
    "submit_ts": "1721531508",
    "subm_id": "1327962726"
}