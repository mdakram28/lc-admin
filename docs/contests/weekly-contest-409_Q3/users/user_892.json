{
    "username": "hellozhangjz",
    "submission": "#include <iostream>\n#include <vector>\n#include <string>\n#include <queue>\n#include <algorithm>\n#include <numeric>\n#include <map>\n#include <set>\n#include <cstdint>\n#include <unordered_set>\n#include <unordered_map>\n#include <list>\n#include <stack>\n#include <cmath>\n#include <functional>\n#include <cstdlib>\n// #include <ctime>\n// #include <iomanip>\n// #include <unistd.h>\n#include <string.h>\n#include <iomanip>\n// #include <thread>\n// #include <mutex>\n// #include <condition_variable>\nusing namespace std;\n\n// int init = []()\n// {\n// \t#ifdef LOCAL\n// \t\tfreopen(\"in.txt\", \"r\", stdin);\n// \t#endif\n// \tios::sync_with_stdio(false);\n//     cin.tie(NULL);\n//     cout.tie(NULL);\n// \treturn 0;\n// }();\n\n// inline int read()\n// {\n// \tint x=0,f=1;char ch=getchar();\n// \twhile (ch<'0'||ch>'9'){if (ch=='-') f=-;ch=getchar();}\n// \twhile (ch>='0'&&ch<='9'){x=x*10+ch-48;ch=getchar();}\n// \treturn x*f;\n// }\n\n// void show_bits(void *ptr, int indx)\n// {\n// \tunsigned char *p = (unsigned char*) ptr;\n// \tfor(int i = indx-; i >= 0; --i)\n// \t{\n// \t\tcout << hex << setw(2)<<setfill('0')<<(int)p[i];\n// \t\t// printf(\"%x\", p[i]);\n// \t\t// for(int j = 7; j >= 0; --j)\n// \t\t// {\n// \t\t// \tprintf(\"%u\", (p[i]>>j)&1);\n// \t\t// }\n// \t}\n// \tprintf(\"\\n\");\n// }\n\n// #define FK\n#ifdef FK\n#define FUCK(x) cout << (#x) << \": \" << x << endl<< endl;\n#define FUCKK(x, y) cout << (#x) << \": \" << x << endl << (#y) << \": \" << y <<  endl<< endl;\n#define FUCKKK(x, y, z) cout << (#x) << \": \" << x << endl << (#y) << \": \" << y << endl << (#z) << \": \" << z << endl<< endl;\n#define FUCKKKK(a, x, y, z) cout << (#a) << \": \" << a << endl << (#x) << \": \" << x << endl << (#y) << \": \" << y << endl << (#z) << \": \" << z << endl<< endl;\n#else\n#define FUCK(x) ;\n#define FUCKK(x, y) ;\n#define FUCKKK(x, y, z) ;\n#endif\n\n#define rep(i,a,b) for(int i=(a);i<=(b);i++)\n#define dep(i,a,b) for(int i=(a);i>=(b);i--)\n#define range(a) for(int __i=0;__i<(a);__i++)\n#define sort_(arr) sort(arr.begin(), arr.end())\n#define dsort(arr) sort(arr.begin(), arr.end(), greater<decltype(*arr.begin())>())\n#define show(arr) for(auto &a : arr) cout << a << \" \";cout<<endl;\nusing ll = long long;\nusing pii = pair<int,int>;\nusing piii = pair<int,pii>;\nusing pll = pair<ll,ll>;\nusing vi = vector<int>;\nusing vii = vector<vi>;\nusing vl = vector<ll>;\nusing vll = vector<vl>; \n// auto cmp = [](const int &a , const int&b) { return a > b; };\n\n// set,map\uff0cpriority_queue \u81ea\u5b9a\u4e49\n// set<int, decltype(cmp)> s(cmp);\n// map<int,int, decltype(cmp)> m(cmp);\n// priority_queue<int, vector<int>, decltype(cmp)> q(cmp);\n\n// lower_bound, upper_bound \u81ea\u5b9a\u4e49\n// vector<node> v;\n// lower_bound(v.begin(), v.end(), val_t v, [](val_t &v, node &n){\n//     return v < n.x;\n// });\nclass Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& q) {\n        int m = q.size(), t = n-1;\n        vi ans;\n        auto cmp = [](const pii &a, const pii &b) {\n            return a.first < b.first;\n        };\n        set<pii, decltype(cmp)> s(cmp);\n        for(auto &v : q) {\n            int x = v[0], y = v[1];\n            auto it = s.lower_bound({x, y});\n            if(it == s.end() || it->first >= y) {\n                if(it != s.begin()) {\n                    auto tmp = it;\n                    --tmp;\n                    if(tmp->second >= y) {\n                        ;\n                    } else {\n                        s.insert({x, y});\n                        t -= y-x-1;\n                    }\n                } else {\n                    s.insert({x, y});\n                    t -= y-x-1;\n                }\n            } else if(it->first == x &&  it->second >= y){\n                ;\n            } else {\n                int k = y-x;\n                FUCKK(x,y)\n                    FUCKK(it->first, it->second)\n                while(it != s.end() && it->second <= y) {\n                    k -= (it->second - it->first - 1);\n                    auto tmp = it;\n                    ++it;\n                    s.erase(tmp);\n                }\n                s.insert({x,y});\n                t -= k-1;\n            }\n            ans.push_back(t);\n        }\n        return ans;\n    }\n};\n\n// int main() {\n    \n//     return 0;\n// }",
    "submit_ts": "1722741697",
    "subm_id": "552339852"
}