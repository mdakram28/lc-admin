{
    "username": "Chasey",
    "submission": "#define ll long long\n#define REP(i,n)        FOR(i,0,n)\n#define SORT(v)         sort((v).begin(),(v).end())\n#define FOR(i,a,b)      for(ll i=(a);i<(b);i++)\n\nclass Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        ll n = nums.size();\n        vector<vector<ll>> dp(n, vector<ll>(k+1, 1));\n        unordered_map<int, int> um;\n        for (ll i = n-1; i >= 0; i--) {\n            dp[i][0] = 1 + um[nums[i]];\n            um[nums[i]]++;\n        }\n        \n        for (ll j = 1; j <= k; j++) {\n            ll maxJminus1 = 0;\n            um.clear();            \n            for (ll i = n-1; i >= 0; i--) {\n                if (um.find(nums[i]) != um.end()) {\n                    dp[i][j] = max(dp[i][j], 1+dp[um[nums[i]]][j]);\n                }\n                um[nums[i]] = i;\n                dp[i][j] = max(dp[i][j], 1 + maxJminus1);\n                maxJminus1 = max(maxJminus1, dp[i][j-1]);\n            }\n        }\n        ll res = 0; REP(i, n) res = max(res, dp[i][k]);\n        return res;\n    }\n};",
    "submit_ts": 1717859290.0
}