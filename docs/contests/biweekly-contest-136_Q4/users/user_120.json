{
    "username": "eyu-g",
    "submission": "template<std::size_t Size, typename T = int, typename Comp = std::less<T>>\nclass TopK {\nprivate:\n    std::array<T, Size> a;\n    const static Comp comp;\npublic:\n    TopK() { assert(false); }  // \u4e3a\u907f\u514d\u903b\u8f91bug\uff0c\u8fd9\u91cc\u663e\u793a\u7981\u6b62\u9ed8\u8ba4\u6784\u9020\u51fd\u6570\n    TopK(const T MIN_INF) { a.fill(MIN_INF); }\n    void insert(T val) {\n        for (std::size_t i = 0; i < Size; ++i) {\n            if (comp(a[i], val)) {\n                for (std::size_t j = Size - 1; j > i; --j) {\n                    a[j] = a[j - 1];\n                }\n                a[i] = val;\n                return;\n            }\n        }\n        return;\n    }\n    T operator [](int n) {\n        return a[n];\n    }\n};\nclass Solution {\n    vector<vector<int>> g, dis;\n    int n;\n    vector<int> res, sz;\n    using T2 = TopK<2>;\n    vector<T2> tk;\n    int dfs1(int n, int p) {\n        int m = 0;\n        for (int to : g[n]) {\n            if (to == p) {\n                continue;\n            }\n            sz[to] = dfs1(to, n) + 2 - to % 2;\n            //dis.push_back(sz[to]);\n            m = max(m, sz[to]);\n            tk[n].insert(sz[to]);\n        }\n        return m;\n    }\n    void dfs2(int n, int p, int s) {\n        res[n] = max(s, tk[n][0]);\n        for (int to : g[n]) {\n            if (to == p) {\n                continue;\n            }\n            if (sz[to] == tk[n][0]) {\n                dfs2(to, n, max(s, tk[n][1]) + 2 - n % 2);\n            } else {\n                dfs2(to, n, max(s, tk[n][0]) + 2 - n % 2);\n            }\n        }\n    }\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n = edges.size() + 1;\n        g.resize(n);\n        for (auto & e : edges) {\n            g[e[0]].push_back(e[1]);\n            g[e[1]].push_back(e[0]);\n        }\n        res.resize(n);\n        dis.resize(n);\n        sz.resize(n);\n        tk.resize(n, T2(0));\n        dfs1(0, -1);\n        dfs2(0, -1, 0);\n        return res;\n    }\n};",
    "submit_ts": "1722698864",
    "subm_id": "552272898"
}