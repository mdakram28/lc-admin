{
    "username": "liulx15",
    "submission": "class Solution {\npublic:\n    bool A[100004];\n    int B[200003];\n    void add(int x,int v){\n       \n        while(x <= 100005){\n            B[x] += v;\n            x += (x&-x);\n        }\n    }\n    int ask(int x){\n        int sum = 0;\n        while(x){\n            sum += B[x];\n            x -= (x&-x);\n        }\n        return sum;\n    }\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        int count = 0;\n        for(auto i = 1; i + 1 < nums.size(); ++i){\n            if(nums[i] > nums[i-1] && nums[i] > nums[i+1]){\n                A[i] = true;\n                add(i,1);\n            }else{\n                A[i] = false;\n            }\n        }\n        vector<int> vec;\n        for(auto& v: queries){\n            int a = v[0];\n            if(a == 2){\n                nums[v[1]] = v[2];\n                int i = v[1];\n                \n                if(i+2 < nums.size()){\n                    if(nums[i+1] > nums[i] && nums[i+1] > nums[i+2]){\n                        if(!A[1+i]){\n                            A[1+i] = true;\n                            add(1+i,1);\n                        }\n                    }else {\n                        if(A[1+i]){\n                            A[1+i] = false;\n                            add(1+i,-1);\n                        }\n                    }\n                }\n                 if(i-2>=0){\n                    \n                    if(nums[i-1] > nums[i] && nums[i-1] > nums[i-2]){\n                        if(!A[i-1]){\n                            A[i-1]=true;\n                            add(i-1,1);\n\n                        }\n                    }else {\n                        if(A[i-1]){\n                            A[i-1] = false;\n                            add(i-1,-1);\n                        }\n                    }\n                } if(i-1 >= 0 && i+1 < nums.size()){\n                    if(nums[i] > nums[i-1] && nums[i] >nums[i+1]){\n                        if(!A[i]){\n                            A[i] = true;\n                            add(i,1);\n                        }\n                    }else {\n                        if(A[i]){\n                            A[i] = false;\n                            add(i,-1);\n                        }\n                    }\n                } \n            }else {\n                int l = v[1];\n                int r = v[2];\n                if(r == l){\n                    vec.emplace_back(0);\n                }else{\n                //if(l)l-=1;\n               \n                vec.emplace_back(ask(r-1)-ask(l));}\n            }\n        }\n        return vec;\n    }\n};",
    "submit_ts": "1718508255",
    "subm_id": "539786269"
}