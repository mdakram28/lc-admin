{
    "username": "ridam25",
    "submission": "class Solution {\n    public int[]ans ;\n    public PriorityQueue<int[]>[]cur ;\n    public boolean[]vis;\n    public int[] timeTaken(int[][] edges) {\n        int n = edges.length ;\n        ArrayList<Integer>[]graph = new ArrayList[n+1];\n        ans = new int[n+1];\n        cur = new PriorityQueue[n+1];\n        for(int i = 0 ; i <= n ; i++){\n            graph[i] = new ArrayList<>();\n            cur[i] = new PriorityQueue<>((a, b) -> b[1] - a[1]);\n        }\n        for(int i = 0 ; i < edges.length ; i++){\n            int v1 = edges[i][0];\n            int v2 = edges[i][1];\n            graph[v1].add(v2);\n            graph[v2].add(v1);\n        }\n        vis = new boolean[n+1];\n        postDfs(graph, 0);\n        // for(int i = 0 ; i <= n ; i++){\n        //     System.out.print(ans[i] + \" \");\n        // }\n        vis = new boolean[n+1];\n        preDfs(graph, 0);\n        return ans ;\n    }\n    public int postDfs(ArrayList<Integer>[]graph, int src){\n        int max = 0;\n        vis[src] = true;\n        for(int nbr : graph[src]){\n            if(vis[nbr])continue;\n            int rr = postDfs(graph, nbr);\n            if(nbr%2 == 0){\n                rr += 2 ;\n            }\n            else rr += 1 ;\n            cur[src].add(new int[]{nbr, rr});\n            max = Math.max(max, rr);\n        }\n        return ans[src] = max;\n    }\n    public void preDfs(ArrayList<Integer>[]graph, int src){\n        vis[src] = true;\n        for(int nbr : graph[src]){\n            if(vis[nbr])continue;\n            PriorityQueue<int[]> pq = cur[src];\n            int[]rv = {-1,0};\n            while(pq.size() > 0 && pq.peek()[0] == nbr){\n                rv = pq.remove();\n            }\n            int val = (src % 2 == 0) ? 2 : 1 ;\n            if(pq.size() > 0)val += pq.peek()[1];\n            cur[nbr].add(new int[]{src, val});\n            cur[src].add(rv);\n            ans[nbr] = Math.max(ans[nbr], val);\n            preDfs(graph,nbr);\n        }\n\n    }\n}",
    "submit_ts": "1722699770",
    "subm_id": "1343221826"
}