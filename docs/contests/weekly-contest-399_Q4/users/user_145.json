{
    "username": "rkrohit123",
    "submission": "class Solution {\n    typedef long long ll;\n    const int mod=1e9+7;\n    class seg{\n        public:\n        ll ii=0,ie=0,ei=0,ee=0; \n    };\n    seg combine(seg node1,seg node2){\n        seg newNode;\n        newNode.ee=max(node1.ee+node2.ee,max(node1.ei+node2.ee,node1.ee+node2.ie));\n        newNode.ei=max(max(node1.ee+node2.ii,newNode.ee),max(node1.ei+node2.ei,node1.ee+node2.ei));\n        newNode.ie=max(max(node1.ii+node2.ee,newNode.ee),max(node1.ie+node2.ie,node1.ie+node2.ee));\n        newNode.ii=max(max(node1.ie+node2.ii,max(newNode.ei,newNode.ie)),max(node1.ie+node2.ei,node1.ii+node2.ei));\n        return newNode;\n    }\n    void build(int id,int l,int r,vector<int> &nums,seg node[]){\n        if(l==r){\n            node[id].ii=max(0,nums[l]);\n            node[id].ie=0;\n            node[id].ei=0;\n            node[id].ee=0;\n            return;\n        }\n        int m=(l+r)/2;\n        build(2*id,l,m,nums,node);\n        build(2*id+1,m+1,r,nums,node);\n        node[id]=combine(node[2*id],node[2*id+1]);\n    }\n    void update(int id,int l,int r,int pos,int val,seg node[]){\n        if(l==r){\n            node[id].ii=max(0,val);\n            node[id].ie=0;\n            node[id].ei=0;\n            node[id].ee=0;\n            return;\n        }\n        int m=(l+r)/2;\n        if(pos<=m){\n            update(2*id,l,m,pos,val,node);\n        }\n        else {\n            update(2*id+1,m+1,r,pos,val,node);\n        }\n        node[id]=combine(node[2*id],node[2*id+1]);\n    }\npublic:\n    int maximumSumSubsequence(vector<int>& nums, vector<vector<int>>& queries) {\n        int n=nums.size();\n        seg node[4*n];\n        build(1,0,n-1,nums,node);\n        int ans=0;\n        // cout<<node[1].ii<<\" \"<<node[1].ie<<\" \"<<node[1].ei<<\" \"<<node[1].ee<<endl;\n        for(auto vec:queries){\n            update(1,0,n-1,vec[0],vec[1],node);\n            int temp=node[1].ii%mod;\n            // cout<<temp<<endl;\n            ans=(ans+temp)%mod;\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1716695125.0
}