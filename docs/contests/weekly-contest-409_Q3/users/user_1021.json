{
    "username": "kdarvadia",
    "submission": "class Solution {\npublic:\n\n    void seg_build(vector<int>& seg, int v, int tl, int tr){\n        //cout << v << \" \" << tl << \" \" << tr << \"\\n\";\n        if(tl == tr){\n            seg[v] = 1;\n        } else {\n            int tm = (tl+tr)/2;\n            seg_build(seg, 2*v, tl, tm);\n            seg_build(seg, (2*v)+1, tm+1, tr);\n            seg[v] = seg[2*v]+seg[(2*v)+1];\n        }\n    }\n\n    int seg_sum(vector<int>& seg, int v, int tl, int tr, int l, int r){\n        //cout << v << \" \" << seg[v] << \"\\n\";\n        if(seg[v] == 0) return 0;\n        if(l > r) return 0;\n        if(tl > tr) return 0;\n        if((tl == l) && (tr == r)) return seg[v];\n        \n        int tm = (tl+tr)/2;\n        return seg_sum(seg, 2*v, tl, tm, l, min(r,tm)) + seg_sum(seg, (2*v)+1, tm+1, tr, max(l,tm+1), r);\n    }\n\n    void seg_update(vector<int>& seg, int v, int tl, int tr, int l, int r){\n        //cout << v << \" \" << tl << \" \" << tr << \"\\n\";\n        if(seg[v] == 0) return;\n        if(tl > tr){\n            return;\n        } else if((tl==l) && (tr==r)){\n            seg[v] = 0;\n            return;\n        } else {\n            int tm = (tl+tr)/2;\n            if(tm >= l) seg_update(seg, 2*v, tl, tm, l, min(r,tm));\n            if(tm+1 <= r) seg_update(seg, (2*v)+1, tm+1, tr, max(l,tm+1), r);\n            seg[v] = seg[2*v]+seg[(2*v)+1];            \n        }\n    }\n\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        //vector<vector<int>> adj(n);\n        //for(int i=0; i<n-1; i++) adj[i].push_back(i+1);\n\n        vector<int> seg(4*n,0);\n        int spath = n-1;\n        vector<int> ans;\n\n        seg_build(seg, 1, 0, n-1);\n\n        for(int i=0; i<queries.size(); i++){\n            int u = queries[i][0];\n            int v = queries[i][1];\n\n            cout << \"start_something \" << u+1 << \" \" << v-1 << \"\\n\";\n\n            spath = spath - seg_sum(seg, 1, 0, n-1, u+1, v-1);\n            seg_update(seg, 1, 0, n-1, u+1, v-1);\n            ans.push_back(spath);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722743529",
    "subm_id": "1343794011"
}