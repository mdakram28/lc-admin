{
    "username": "lostTreasure",
    "submission": "class Solution {\npublic:\n    int maximumLength(vector<int>& v, int k) {\n        int n=v.size();\n        map<int,int>cnt;\n        int dp[k+1][n+1];memset(dp,0,sizeof(dp));\n        int ans=0;\n        int pref[k+1][n+1];memset(pref,0,sizeof(pref));\n        int near[n];\n        for(int i=0;i<n;i++){\n            near[i]=-1;\n            for(int j=i-1;j>=0;j--){\n                if(v[i]==v[j]){\n                    near[i]=j;\n                    break;\n                }\n            }\n        }\n        int temp=0;\n        for(int i=0;i<n;i++){\n            cnt[v[i]]+=1;\n            temp=max(temp,cnt[v[i]]);\n            dp[0][i]=cnt[v[i]];\n            pref[0][i+1]=max(pref[0][i],dp[0][i]);\n        }\n        if(k==0){\n            return temp;\n        }\n        for(int i=1;i<=k;i++){\n            for(int j=0;j<n;j++){\n                if(i==0){\n                    int t=0;\n                    for(int l=j;l>=0;l--){\n                        if(v[l]==v[j])t+=1;\n                    }\n                    dp[i][j]=t;\n                }\n                else{\n                    int sum=0;\n                    sum=max(sum,pref[i-1][j]+1);\n                    if(near[j]!=-1){\n                        sum=max(sum,dp[i][near[j]]+1);\n                    }\n                    dp[i][j]=sum;\n                }\n                pref[i][j+1]=max(pref[i][j],dp[i][j]);\n                // cerr<<dp[i][j]<<sp;\n                ans=max(ans,dp[i][j]);\n            }//cerr<<enl;\n        }\n        // ans=min(ans,k);\n        return ans;\n        \n    }\n};",
    "submit_ts": "1717859445",
    "subm_id": "1281722704"
}