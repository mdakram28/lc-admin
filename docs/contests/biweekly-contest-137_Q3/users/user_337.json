{
    "username": "ca_dream",
    "submission": "class Solution {\npublic:\n    typedef long long ll;\n    typedef pair<ll, ll> pll;\n    long long maximumValueSum(vector<vector<int>>& a) {\n        int m = a.size(), n = a[0].size();\n        const ll inf = 0x3f3f3f3f3f3f3f3fll;\n        vector<vector<pll>> r(m, vector<pll>(3, pll(-inf, -1)));\n        for (int i = 0; i < m; ++i) {\n            for (int j = 0; j < n; ++j) {\n                pll p(a[i][j], j);\n                if (p > r[i][0]) {\n                    r[i][2] = r[i][1];\n                    r[i][1] = r[i][0];\n                    r[i][0] = p;\n                }\n                else if (p > r[i][1]) {\n                    r[i][2] = r[i][1];\n                    r[i][1] = p;\n                }\n                else if (p > r[i][2]) {\n                    r[i][2] = p;\n                }\n            }\n        }\n        multiset<pll, greater<pll>> st;\n        st.insert(r[0][0]);\n        st.insert(r[0][1]);\n        st.insert(r[0][2]);\n        ll res = -inf;\n        for (int i = 1; i < m-1; ++i) {\n            for (int j = i+1; j < m; ++j) {\n                for (int x = 0; x < 3; ++x) {\n                    for (int y = 0; y < 3; ++y) {\n                        if (r[i][x].second == r[j][y].second) continue;\n                        int c1 = r[i][x].second, c2 = r[j][y].second;\n                        for (auto &p: st) {\n                            if (p.second == c1 || p.second == c2) continue;\n                            else {\n                                res = max(res, p.first + r[i][x].first + r[j][y].first);\n                                break;\n                            }\n                        }\n                    }\n                }\n            }\n            for (int k = 0; k < 3; ++k) {\n                auto p = r[i][k];\n                bool find = false;\n                for (auto &it: st) {\n                    if (it.second == p.second) {\n                        if (it.first < p.first) {\n                            st.erase(it);\n                            st.insert(p);\n                        }\n                        find = true;\n                        break;\n                    }\n                }\n                if (!find) {\n                    st.insert(p);\n                }\n            }\n            while (st.size() > 9) st.erase(prev(st.end()));\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723909452",
    "subm_id": "556336330"
}