{
    "username": "Aarya_01",
    "submission": "class Solution {\npublic:\n      \n\n    int lb(vector<vector<int>> &b ,int n, int idx , int k){\n            int s = idx ;\n            int e = n ;\n            \n            int ans=INT_MAX;\n\n            while(s<=e){\n                int mid = s+(e-s)/2;\n                int val =f(b,mid,idx);\n                if(val==k){\n                    ans = min(ans , mid);\n                    e=mid-1;\n                }\n                else if(val <k){\n                    e=mid-1;\n                }\n                else {\n                    s = mid+1;\n                }\n            }\n\n            return ans;\n\n    }\n    \n    \n    int f(vector<vector<int>> &bi , int mid , int idx){\n        int ans = 0;\n        for (int i = 0; i < 32; i++) {\n            int b = (bi[mid + 1][i] - bi[idx][i]);\n            if (b==(mid-idx+1))ans += (1 << i);            \n        }\n        return ans;\t\n      }\n    \n    int ub(vector<vector<int>> &b ,int n, int idx , int k){\n            int s = idx ;\n            int e = n ;   \n            int ans=INT_MIN;\n            while(s<=e){\n                \n                int mid = s+(e-s)/2;\n                int val =f(b,mid,idx);\n                if(val==k){\n                    ans = max(ans , mid);\n                    s=mid+1;\n                }\n                else if(val <k){\n                    e=mid-1;\n                }\n                else {\n                    s=mid+1;\n                }\n            }\n            return ans;\n\n    }\n\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long ans =0;\n        int n = nums.size();\n        vector<vector<int>> b;\n        b.resize(n + 1, vector<int>(32, 0));\n        for (int i = 0; i < n; i++)\n            for (int j = 0; j < 32; j++)\n                b[i + 1][j] = b[i][j] + ((nums[i] >> j) & 1);\n\n\n        for(int i=0;i<n;i++){\n           int a =ub(b,n-1,i,k);\n           int c= lb(b,n-1,i,k);\n           if(c==INT_MAX)continue;\n           ans += (a-c+1) ;\n        }\n\n        return ans;\n\n        \n        \n\n\n    }\n};",
    "submit_ts": "1720281126",
    "subm_id": "1311814067"
}