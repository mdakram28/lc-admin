{
    "username": "accelerator-a5",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& g) {\n        int n = g.size(), m = g[0].size(), ans = 0;\n        for (int i = 0; i<n; ++i) {\n            if (i==n-1-i)continue;\n            for (int j = 0; j<m; ++j) {\n                if (j==m-1-j)continue;\n                array<int, 2> cnt{ 0,0 };\n                cnt[g[i][j]]++, cnt[g[n-1-i][j]]++, cnt[g[i][m-1-j]]++, cnt[g[n-1-i][m-1-j]]++;\n                // if (n-1-i==i) {\n                //     cnt[g[i][j]]--; cnt[g[i][m-1-j]]--;\n                // }\n                // if (m-1-j==j) {\n                //     cnt[g[i][j]]--, cnt[g[n-1-i][j]]--;\n                // }\n                // if (m-1-j==j && n-1-i==i) {\n                //     cnt[g[i][j]]++;\n                // }\n                if (cnt[1] && cnt[0]>cnt[1]) {\n                    g[i][j] = 0, g[n-1-i][j] = 0, g[i][m-1-j] = 0, g[n-1-i][m-1-j] = 0;\n                    ans += cnt[1];\n                }\n                else if (cnt[0] && cnt[1]>cnt[0]) {\n                    g[i][j] = 1, g[n-1-i][j] = 1, g[i][m-1-j] = 1, g[n-1-i][m-1-j] = 1;\n                    ans += cnt[0];\n                }\n                else if (cnt[0]==2 && cnt[1]==2) {\n                    ans += 2;\n                    g[i][j] = 1, g[n-1-i][j] = 1, g[i][m-1-j] = 1, g[n-1-i][m-1-j] = 1;\n                }\n            }\n        }\n        int cnt = 0;\n        int i = (n-1)/2, pos = 0, j = (m-1)/2;\n        if (i+i==n-1) {\n            vector<int> vis(m, 0);\n            for (int k = 0; k<m; ++k) {\n                if (vis[k] || k==m-1-k)continue;\n                if (g[i][k]!=g[i][m-1-k]) { ++pos; ++ans; vis[m-1-k] = 1, vis[k] = 1; }\n            }\n        }\n        if (j+j==m-1) {\n            vector<int> vis(n, 0);\n            for (int k = 0; k<n; ++k) {\n                if (vis[k] || k==n-1-k)continue;\n                if (g[n-1-k][j]!=g[k][j]) { ++pos; ++ans; vis[n-1-k] = 1, vis[k] = 1; }\n            }\n        }\n        if (i+i==n-1 && j+j==m-1 && g[i][j]==1) { ++ans; g[i][j] = 0; }\n        if (pos==0) {\n            if (i+i==n-1) {\n                for (int k = 0; k<m; ++k) {\n                    cnt += (g[i][k]==1);\n                }\n            }\n            if (j+j==m-1) {\n                for (int k = 0; k<n; ++k) {\n                    cnt += (g[k][j]==1);\n                }\n            }\n            if (cnt%4==0) {\n                return ans;\n            }\n            else {\n                return ans+2;\n            }\n        }\n        else {\n            return ans;\n        }\n    }\n};",
    "submit_ts": "1722697853",
    "subm_id": "552268131"
}