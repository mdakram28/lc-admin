{
    "username": "abc225666",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        // handle 4 mirror first\n\n        int ans = 0;\n        int rows = grid.size();\n        int cols = grid[0].size();\n\n        for (int row = 0; row < rows / 2; ++row) {\n            for (int col = 0; col < cols / 2; ++col) {\n                int total = grid[row][col] + grid[row][cols - col - 1] +\n                            grid[rows - row - 1][col] +\n                            grid[rows - row - 1][cols - col - 1];\n                // cout<<\"add min: \"<<min(total, 4-total)<<\"\\n\";\n                ans += min(total, 4-total);\n            }\n        }\n\n        // handle 2\n        int current_one = 0;\n        int diff = 0;\n        if(rows%2==1) {\n            for(int col=0;col<cols/2;++col) {\n                int g1 = grid[rows/2][col];\n                int g2 = grid[rows/2][cols-col-1];\n\n                if(g1==g2 && g1==1) {\n                    current_one += 2;\n                    current_one %= 4;\n                }\n\n                if(g1!=g2) {\n                    ++diff;\n                }\n            }\n        }\n\n        if(cols%2==1) {\n            for(int row=0;row<rows/2;++row) {\n                int g1 = grid[row][cols/2];\n                int g2 = grid[rows-row-1][cols/2];\n\n                if(g1==g2 && g1==1) {\n                    current_one += 2;\n                    current_one %= 4;\n                }\n\n                if(g1!=g2) {\n                    ++diff;\n                }\n            }\n        }\n\n        if(cols%2 && rows%2 && grid[rows/2][cols/2]) {\n            ++ans;\n        }\n\n        if(current_one==2 && diff>0) {\n            --diff;\n            ++ans;\n            current_one = 0;\n        }\n\n        ans += current_one + diff;\n        return ans;\n    }\n};",
    "submit_ts": "1722697241",
    "subm_id": "1343139429"
}