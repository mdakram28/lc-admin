{
    "username": "chitraksinghal8",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> left(32,vector<int>(n,-1)); //nearest 0;\n        vector<vector<int>> right(32, vector<int> (n,n)); //nearest 0;\n        for (int i=0;i<32;i++)\n        {\n            for (int j=0;j<n;j++)\n            {\n                if ((nums[j]>>i)&1)\n                {\n                    if (j>=1)\n                        left[i][j]=left[i][j-1];\n                }\n                else\n                    left[i][j] = j;\n            }\n        }\n        for (int i=0;i<32;i++)\n        {\n            for (int j=n-1;j>=0;j--)\n            {\n                if ((nums[j]>>i)&1)\n                {\n                    if (j<n-1)\n                        right[i][j]=right[i][j+1];\n                }\n                else\n                    right[i][j] = j;\n            }\n        }\n        // for (int i=0;i<5;i++)\n        // {\n        //     for (int j=0;j<n;j++)\n        //     {\n        //         cout<<left[i][j]<<\" \";\n        //     }\n        //     cout<<\"\\n\";\n        // }\n        // for (int i=0;i<5;i++)\n        // {\n        //     for (int j=0;j<n;j++)\n        //     {\n        //         cout<<right[i][j]<<\" \";\n        //     }\n        //     cout<<\"\\n\";\n        // }\n        long long ans = 0;\n        for (int i=0;i<n;i++)\n        {\n            int l = -1, r= n;\n            int l2 = i, r2 = i+1;\n            for (int j=0;j<32;j++)\n            {\n                if ((k>>j)&1)\n                {\n                    r = min(r, right[j][i]);\n                    l = max(l ,left[j][i]);\n                }\n                else\n                {\n                    r2 = max(r2 , right[j][i]);\n                    l2 = min(l2, left[j][i]);\n                }\n            }\n            //cout<<i<<\" \"<<l<<\" \"<<r<<\"\\n\";\n            long long lnum = l2-l;\n            long long rnum = r-r2;\n            //cout<<i<<\" \"<<lnum<<\" \"<<rnum<<\"\\n\";\n            if (lnum>0)\n                ans+= lnum;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280188",
    "subm_id": "1311780097"
}