{
    "username": "a10032531",
    "submission": "/**\n * @param {number[][]} grid\n * @return {number}\n */\nvar minFlips = function(grid) {\n\n    const m = grid.length;\n    const n = grid[0].length;\n    let count = 0;\n\n    const addCount = (cells) => {\n        let oneCount = 0;\n        for (const val of cells) {\n            if (val === 1) {\n                oneCount++;\n            }\n        }\n\n        if (oneCount === 1 || oneCount === 3) {\n            count++;\n        } else if (oneCount === 2) {\n            count += 2;\n        }\n    };\n\n    for (let i = 0; i < Math.floor(m / 2); i++) {\n        for (let j = 0; j < Math.floor(n / 2); j++) {\n            addCount([grid[i][j], grid[i][n - 1 - j], grid[m - 1 - i][j], grid[m - 1 - i][n - 1 - j]]);\n        }\n    }\n\n    const xMiddle = Math.floor(m / 2);\n    const yMiddle = Math.floor(n / 2);\n\n    let specialCount = 0;\n    let oneCount = 0;\n    if (m % 2 === 1) {\n        for (let j = 0; j < Math.floor(n / 2); j++) {\n            if (grid[xMiddle][j] !== grid[xMiddle][n - 1 - j]) {\n                specialCount++;\n            } else if (grid[xMiddle][j] === 1) {\n                oneCount += 2;\n            }\n        }\n    }\n\n    if (n % 2 === 1) {\n        for (let i = 0; i < Math.floor(m / 2); i++) {\n            if (grid[i][yMiddle] !== grid[m - 1 - i][yMiddle]) {\n                specialCount++;\n            } else if (grid[i][yMiddle] === 1) {\n                oneCount += 2;\n            }\n        }\n    }\n\n    const extraOne = oneCount % 4;\n    if (extraOne === 2 && specialCount < 1) {\n        specialCount += 2;\n    }\n\n    count += specialCount;\n\n    if (m % 2 === 1 && n % 2 === 1) {\n        if (grid[xMiddle][yMiddle] === 1) {\n            count++;\n        }\n    }\n\n    return count;\n};",
    "submit_ts": "1722699990",
    "subm_id": "1343228355"
}