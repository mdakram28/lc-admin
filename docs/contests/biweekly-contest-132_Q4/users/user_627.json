{
    "username": "Harshit_J12",
    "submission": "typedef int ll;\ntypedef unsigned long long ull;\ntypedef long double ld;\n#define loop(i,a,b) for(ll i = a; i<=b ; i++)\n#define loop0(i,a,b) for(ll i = a; i<=b ; )\n#define revloop(i,a,b) for(ll i = a; i>=b ; i--)\n#define itloop(i,a,b) for(auto i = a; i != b ; i++)\n#define no cout<<\"NO\"<<endl\n#define yes cout<<\"YES\"<<endl\n#define nn <<\"\\n\"  \n#define spcl <<\" \"\n#define spc <<\" \"<<  \n#define all(x) (x).begin(), (x).end()\n#define fastIO ios_base::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);\n#define inf INT_MAX\n#define linf LONG_LONG_MAX\n\n\nclass Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        int r = 0;\n        {\n            set<int>st(nums.begin(), nums.end());\n            r = st.size();\n            vector<ll>temp(st.begin(), st.end());\n            sort(temp.begin(), temp.end()); \n            for(auto &x: nums){\n                x = lower_bound(temp.begin(), temp.end(), x) - temp.begin();\n            }\n        }\n        int n = nums.size();\n        vector<vector<vector<int>>>dp(r+1 , vector<vector<int>>(k+2, vector<int>(2, -1))); \n        int z = 0;\n        dp[nums[0]][0][0] = 1;\n        dp[r][0][0] = max(dp[r][0][0], dp[nums[0]][0][0]);\n        int ans = 1;\n        for(int i = 1; i < n; i++){\n            for(int j = k; j >=0 ; j--){\n                if(dp[r][j][z] != -1){\n                    dp[nums[i]][j+1][z] = max(dp[nums[i]][j+1][z], dp[r][j][z] + 1);\n                    dp[r][j+1][z] = max(dp[r][j+1][z], dp[nums[i]][j+1][z]);\n                    if(j!=k) ans = max(ans , dp[r][j+1][z]);\n                }\n                if(dp[nums[i]][j][z] != -1){\n                    dp[nums[i]][j][z] = max(dp[nums[i]][j][z], dp[nums[i]][j][z] + 1);\n                    dp[r][j][z] = max(dp[r][j][z], dp[nums[i]][j][z]);\n                    ans = max(ans , dp[r][j][z]);\n                }\n            }\n            dp[nums[i]][0][z] = max(dp[nums[i]][0][z], 1);  \n            dp[r][0][z] = max(dp[r][0][z], dp[nums[i]][0][z]);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1717862053",
    "subm_id": "1281810517"
}