{
    "username": "yinxiashi",
    "submission": "#include <string>\n#include <vector>\n\nclass Solution {\npublic:\n    int count(int num) {\n        return num * (num + 1) / 2;\n    }\n\n    int numberOfSubstrings(std::string s) {\n        int ans = 0;\n        int length = s.length();\n        int prev = -1;\n        std::vector<int> zeros;\n\n        for (int i = 0; i < length; ++i) {\n            if (s[i] == '0') {\n                zeros.push_back(i);\n                ans += count(i - prev - 1);\n                prev = i;\n            }\n        }\n        ans += count(length - prev - 1);\n\n        int zeroCount = zeros.size();\n        for (int c = 1; c <= min(200, zeroCount); ++c) {\n            int minimumLength = c + c * c;\n            int left = 0;\n            int right = 0;\n            int zc = 0;\n            int leftMark = 0;\n\n            while (left < length) {\n                right = std::max(left, right);\n                while (zc < c && right < length) {\n                    if (s[right] == '0') {\n                        zc++;\n                    }\n                    right++;\n                    leftMark = std::max(leftMark, right - 1);\n                }\n\n                if (zc < c) {\n                    break;\n                }\n\n                while (right < length && s[right] == '1') {\n                    right++;\n                }\n\n                while (leftMark - left + 1 < minimumLength && leftMark < right) {\n                    leftMark++;\n                }\n                ans += right - leftMark;\n                if (s[left] == '0') {\n                    zc--;\n                }\n                left++;\n            }\n        }\n\n        return ans;\n    }\n};\n",
    "submit_ts": "1722138205",
    "subm_id": "1335784858"
}