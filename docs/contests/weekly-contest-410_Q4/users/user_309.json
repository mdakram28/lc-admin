{
    "username": "dream_boy",
    "submission": "class Solution {\n    const int M = 1e9 + 7;\n    const int MX = 1000;\n\n    int madd(int& a, int b) {\n        a += b;\n        if (a >= M) a -= M;\n        return a;\n    }\n\n    void range_add(vector<int>& arr, int l, int r, int val) {\n        if (l > r) return;\n        madd(arr[l], val);\n        if (r + 1 < arr.size()) madd(arr[r + 1], M - val);\n    }\n\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        vector<vector<int>> dp(n, vector<int>(MX + 2, 0));\n\n        for (int i = 0; i <= nums[0]; i++) dp[0][i] = 1;\n        for (int p = 0; p < n - 1; p++) {\n            for (int a = 0; a <= nums[p]; a++) {\n                int l = max(a, nums[p + 1] - nums[p] + a);\n                int r = nums[p + 1];\n                range_add(dp[p + 1], l, r, dp[p][a]);\n            }\n            for (int i = 1; i <= MX; i++) madd(dp[p + 1][i], dp[p + 1][i - 1]);\n        }\n\n        int result = 0;\n        for (int i = 0; i <= MX; i++) madd(result, dp[n - 1][i]);\n        return result;\n    }\n};",
    "submit_ts": "1723346609",
    "subm_id": "1351581315"
}