{
    "username": "Nikhil babar",
    "submission": "class Solution {\n    \n    public int[] com(String s, int k){\n        int n = s.length();\n        \n        int l = 0, r = 0;\n        int zc = 0;\n        \n        int[] ans = new int[n];\n        \n        while(r < n){\n            if(s.charAt(r) == '0'){\n                zc++;\n            }\n            \n            while(l < r && (zc > k && r-l+1-zc > k)){\n                if(s.charAt(l) == '0'){\n                    zc--;\n                }\n                l++;\n            }\n            \n            ans[r] = r-l+1;\n            r++;\n        }\n        \n        return ans;\n    }\n    \n    public long sum(long n){\n        return (n*(n+1))/2;\n    }\n    \n    public long[] countKConstraintSubstrings(String s, int k, int[][] queries) {\n        int n = s.length();\n        int q = queries.length;\n        \n        int[] sw = com(s, k);\n        \n        long[] swp = new long[n];\n        \n        for(int i = 0 ; i < n ; i++){\n            if(i == 0){\n                swp[i] = sw[i];\n            } else {\n                swp[i] = sw[i] + swp[i-1];\n            }\n        }\n        \n        long[] ans = new long[q];\n        int ai = 0;\n        \n//         System.out.println(Arrays.toString(sw));\n//         System.out.println(Arrays.toString(swp));\n        \n        for(int[] que : queries){\n            int l = que[0];\n            int r = que[1];\n            int res = -1;\n            \n            while(l <= r){\n                int mid = (l + r) / 2;\n                \n                int bptr = mid-sw[mid]+1;\n                \n                if(bptr < que[0]){\n                    res = mid;\n                    l = mid+1;\n                } else {\n                    r = mid-1;\n                }\n            }\n            \n            l = que[0];\n            r = que[1];\n        \n            if(res == -1){\n                ans[ai++] = swp[r]-(l > 0 ? swp[l-1] : 0);\n            } else {\n                ans[ai++] = sum(res-l+1) + swp[r]-swp[res];\n            }\n        }\n        \n        return ans;\n    }\n}",
    "submit_ts": "1723951472",
    "subm_id": "1359772381"
}