{
    "username": "shivamxdd",
    "submission": "const int mod=1e9+7;\n\nstruct tut{\n\tlong long a00=0;\n    long long a01=0;\n    long long a10=0;\n    long long a11=0;\n    long long ans=0;\n    \n \n \n};\n \nstruct segtree{\n \n\tint size;\n\tvector<tut> sums;\n\tvoid init(int n){\n\t\tsize=1;\n\t\twhile(size<n) size*=2;\n\t\tsums.resize(2*size);\n\t\t\n \n\t}\n\tint top(void){\n        return sums[0].ans;\n\t\t\n\t}\n\ttut comb(tut a,tut b){\n        tut c;\n        c.a00=max(a.a00+b.a10,a.a01+b.a00);\n        c.a01=max(a.a00+b.a11,a.a01+b.a01);\n        c.a10=max(a.a10+b.a10,a.a11+b.a00);\n        c.a11=max(a.a10+b.a11,a.a11+b.a01);\n        c.ans=max(max(max(max(max(a.ans,b.ans),c.a00),c.a10),c.a01),c.a11);\n        \n        return c;\n        \n            \n        \n\t\t\n \n\t\t\n \n\t}\n\tvoid build(vector<tut> &v,int x,int lx,int rx){\n\t\tif(rx-lx==1){\n\t\t\tif(lx < (int)v.size()){\n\t\t\t\tsums[x]=v[lx];\n\t\t\t}\n\t\t\treturn;\n\t\t}int m=(lx+rx)/2;\n\t\tbuild(v,2*x+1,lx,m);\n\t\tbuild(v,2*x+2,m,rx);\n\t\tsums[x]=comb(sums[2*x+1],sums[2*x+2]);\t\t\n\t}\n \n\tvoid build(vector<tut> &v){\n\t\tbuild(v,0,0,size);\n\t}\n \n\tvoid set(int i,tut v,int x,int lx,int rx ){\n\t\tif(rx-lx==1){\n\t\t\tsums[x]=v;\n\t\t\treturn;\n\t\t}\n\t\tint m=(lx+rx)/2;\n\t\tif(i<m){\n\t\t\tset(i,v,2*x+1,lx,m);\n\t\t}else {\n\t\t\tset(i,v,2*x+2,m,rx);\n\t\t}\n\t\tsums[x]=comb(sums[2*x+1],sums[2*x+2]);\n\t}\n \n\tvoid set(int i,tut v){\n\t\tset(i,v,0,0,size);\n \n\t}\n \n\ttut query(int l,int r,int x,int lx,int rx){\n\t\ttut abc;\n\t\tabc.ans=0;\n\t\tif(rx<= l || lx>=r) return abc;\n\t\t\n\t\t if(rx<=r && lx>= l) return sums[x];\n\t\t\n\t\telse {\n\t\t\tint m=(lx+rx)/2;\n\t\t\ttut a=query(l,r,2*x+1,lx,m);\n\t\t\ttut b=query(l,r,2*x+2,m,rx);\n\t\t\ttut c;\n\t\t\tc=comb(a,b);\n\t\t\treturn c;\n \n\t\t}\n\t\t\n\t}\n \n\ttut query(int l,int r){\n\t\treturn query(l,r,0,0,size);\n \n\t}\n \n};\n\nclass Solution {\npublic:\n    int maximumSumSubsequence(vector<int>& ar, vector<vector<int>>& q) {\n        vector<tut> v;\n        int n=ar.size();\n        segtree st;\n        st.init(n);\n        for(int i=0;i<n;i++){\n            tut c;\n            c.a00=max(ar[i],0);\n            c.ans=max(ar[i],0);\n            v.push_back(c);\n            \n        }\n        st.build(v);\n        \n        long long ans=0;\n        for(int i=0;i<q.size();i++){\n            tut c;\n            c.a00=max(q[i][1],0);\n            c.ans=max(q[i][1],0);\n            st.set(q[i][0],c);\n            ans+=st.top();\n            ans%=mod;\n            \n            \n        }\n        return (int) ans;\n        \n        \n    }\n};",
    "submit_ts": "1716694088",
    "subm_id": "1268105642"
}