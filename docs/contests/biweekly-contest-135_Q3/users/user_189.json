{
    "username": "yongyeqingfeng",
    "submission": "class Solution {\npublic:\n    void add(vector<int> &tree, int idx, int val, int l, int r, int i) {\n        if(l == r) tree[i] += val;\n        else {\n            int m = l + (r - l) / 2;\n            if(idx <= m) add(tree, idx, val, l, m, i * 2);\n            else add(tree, idx, val, m + 1, r, i * 2 + 1);\n            tree[i] = tree[i * 2] + tree[i * 2 + 1];\n        }\n    }\n    int sum(vector<int> &tree, int a, int b, int l, int r, int i) {\n        if (a <= l && b >= r) return tree[i];\n        int ans = 0;\n        int m = l + (r - l) / 2;\n        if(a <= m) ans += sum(tree, a, b, l, m, i * 2);\n        if (b > m) ans += sum(tree, a, b, m + 1, r, i * 2 + 1);\n        return ans;\n    }\n    int minChanges(vector<int>& nums, int k) {\n        unordered_map<int, int> mp;\n        int n = nums.size();\n        vector<int> segTree(4 * k + 4);\n        for(int i = 0; i < n / 2; ++i) {\n            int a = nums[i], b = nums[n - i - 1];\n            mp[abs(a - b)]++;\n            int tmd = max(k - min(a, b), max(a, b));\n            add(segTree, tmd, 1, 0, k, 1);\n        }\n        int ans = n, m = n / 2;\n        for(auto &[a,b]:mp) {\n            int one = sum(segTree, a, k, 0, k, 1);\n            if(one == m) ans = min(ans, m - b);\n            else {\n                one -= b;\n                int two = m - one - b;\n                ans = min(ans, one + 2 * two);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1721487588",
    "subm_id": "548310672"
}