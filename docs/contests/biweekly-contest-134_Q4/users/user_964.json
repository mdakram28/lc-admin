{
    "username": "Ajit123",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<string> vals(n);\n        string s = bitset<30>(k).to_string();\n        for(int i=0; i<n; i++) {\n            vals[i] = bitset<30>(nums[i]).to_string();\n        }\n\n        vector<vector<int>> dp(n, vector<int>(30, 1));\n        long long ans = (nums[0] == k);\n        for(int i=1; i<n; i++) {\n            int maxl = 0, minr = i;\n            for(int j=0; j<30; j++) {\n                if (vals[i][j] == vals[i-1][j]) {\n                    dp[i][j] = dp[i-1][j] + 1;\n                }\n                else {\n                    dp[i][j] = 1;\n                }\n\n              \n                if (s[j] == '1') {\n                    if (vals[i][j] == '1') {\n                        maxl = max(maxl, i-dp[i][j]+1);\n                        minr = min(minr, i);\n                    }\n                    else {\n                        maxl = i+1;\n                        minr = -1;\n                    }\n                }\n                else {\n                    if (vals[i][j] == '1') {\n                        if (dp[i][j] == i+1) {\n                            maxl = i+1;\n                            minr = -1;\n                        }\n                        else {\n                            int l = 0, r = i-dp[i][j];\n                            maxl = max(maxl, l);\n                            minr = min(minr, r);\n                        }\n                    }\n                    else {\n                        int l = 0, r = i;\n                        maxl = max(maxl, l);\n                        minr = min(minr, r);\n                    }\n                }\n            }\n            if (maxl <= minr) {\n                ans += (minr - maxl + 1);\n            }\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1720280238",
    "subm_id": "1311781902"
}