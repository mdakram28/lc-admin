{
    "username": "anuragdw0710",
    "submission": "class Solution {\npublic:\n//     int dp[5005][5005][55];\n//     int rec(int i,int j,int k1,vector<int>& aa){\n//         if(i<0)return 0;\n        \n//         if(dp[i][j][k1]!=-1)return dp[i][j][k1];\n        \n//         int ans=rec(i-1,j,k1,aa);\n//         if(j==aa.size())ans=max(ans,1+rec(i-1,i,k1,aa));\n//         else if(aa[i]==aa[j])ans=max(ans,1+rec(i-1,i,k1,aa));\n//         else if(k1>0) ans=max(ans,1+rec(i-1,i,k1-1,aa));\n        \n//         return dp[i][j][k1]=ans;\n        \n//     }\n    \n    int maximumLength(vector<int>& nums, int k) {\n        int n=nums.size(),ans=0;\n        vector<vector<int>> dp(n+1,vector<int>(k+1));\n        map<pair<int,int>,int> aa;\n        map<int,int> bb;\n        for(int i=0;i<n;i++){\n            for(int k1=0;k1<=k;k1++){\n                int x=1;\n                x=max(x,1+ aa[{nums[i],k1}] );\n                x=max(x,1+ bb[k1-1]);\n                dp[i][k1]=x;\n            }\n            for(int k1=0;k1<=k;k1++){\n                aa[{nums[i],k1}]=max(aa[{nums[i],k1}] ,dp[i][k1]);\n                bb[k1]=max(bb[k1], dp[i][k1]);\n                ans=max(ans,dp[i][k1]);\n            }\n        }\n        return ans;\n        \n        \n    }\n};",
    "submit_ts": 1717859597.0
}