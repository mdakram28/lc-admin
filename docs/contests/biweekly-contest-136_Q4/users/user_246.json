{
    "username": "anuragdw0710",
    "submission": "class Solution {\npublic:\n    #define pl pair<int,int>\n    void dfs(int s,int p,vector<vector<int>>& g,vector<int>& dp,vector<int>& dp2){\n        int x=0,y=0;\n        for(auto ch:g[s]){\n            if(ch!=p){\n                dfs(ch,s,g,dp,dp2);\n                int ans1,ans2;\n                if(ch%2==0){\n                    ans1=2+dp[ch];\n                    ans2=2+dp2[ch];\n                }\n                else{\n                    ans1=1+dp[ch];\n                    ans2=1+dp2[ch];\n                } \n                if(ans1>=x){\n                    y=x;\n                    x=ans1;\n                }else y=max(y,ans1);\n            }\n        }\n        dp[s]=x;\n        dp2[s]=y;\n    }\n    void dfs2(int s,int p,vector<vector<int>>& g,vector<int>& dp,vector<int>& dp2,vector<int>& ans){\n        ans[s]=dp[s];\n        // cout<<s<<\" \"<<dp[s]<<\" \"<<dp2[s]<<endl;\n        for(auto ch:g[s]){\n            if(ch!=p){\n                int sx=dp[s];\n                int sy=dp2[s];\n                int chx=dp[ch];\n                int chy=dp2[ch];\n                int ans1,ans2;\n                if(ch%2==0){\n                    ans1=2+dp[ch];\n                    ans2=2+dp2[ch];\n                }\n                else{\n                    ans1=1+dp[ch];\n                    ans2=1+dp2[ch];\n                } \n                int fans1,fans2;\n                if(s%2==0){\n                    fans1=2+dp[s];\n                    fans2=2+dp2[s];\n                }\n                else{\n                    fans1=1+dp[s];\n                    fans2=1+dp2[s];\n                } \n                \n                if(dp[s]==ans1){\n                    if(fans2>=dp[ch]){\n                        dp2[ch]=dp[ch];\n                        dp[ch]=fans2;\n                    }else dp2[ch]=max(dp2[ch],fans2);\n                }else if(dp2[s]==ans1){\n                    if(fans1>=dp[ch]){\n                        dp2[ch]=dp[ch];\n                        dp[ch]=fans1;\n                    }else dp2[ch]=max(dp2[ch],fans1);\n                }else{\n                    if(fans1>=dp[ch]){\n                        dp2[ch]=dp[ch];\n                        dp[ch]=fans1;\n                    }else dp2[ch]=max(dp2[ch],fans1);\n                }\n                dfs2(ch,s,g,dp,dp2,ans);\n                dp[s]=sx;\n                dp2[s]=sy;\n                dp[ch]=chx;\n                dp2[ch]=chy;\n                \n            }\n        }\n        \n    }\n    vector<int> timeTaken(vector<vector<int>>& ed) {\n        int n=ed.size()+1;\n        vector<vector<int>> g(n);\n        for(int i=0;i<ed.size();i++){\n            g[ed[i][0]].push_back(ed[i][1]);\n            g[ed[i][1]].push_back(ed[i][0]);\n        }\n        vector<int> dp(n,0);\n        vector<int> dp2(n,0);\n        dfs(0,0,g,dp,dp2);\n        vector<int> ans(n);\n        dfs2(0,0,g,dp,dp2,ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722700204",
    "subm_id": "1343234762"
}