{
    "username": "Amit Ranjan",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    int c;\n    string ans;\n    ll exp(ll x, ll n, ll m) {\n\tll res = 1;\n        while (n > 0) {\n            if (n % 2 == 1) { res = res * x % m; }\n            x = x * x % m;\n            n /= 2;\n        }\n        return res;\n    }\n\n    ll recur(ll x,int n,int k, string &s,ll curMod,vector<vector<ll>> &dp){\n        if(x>c){\n            if(curMod==0){\n                int st=(n%2 ? (s.size()-2) : (s.size()-1));\n                string newS=s;\n                while(st>=0) newS+=s[st--];\n                ans=max(ans,newS);\n                return 0;\n            }\n            return 1e18;\n        }\n        if(dp[x][curMod]!=-1){\n            return dp[x][curMod];\n        }\n        ll res=1e18;\n\n        for(ll i=9;i>=0;i--){\n            if(x==0 and i==0) continue;\n            ll val=0;\n            if(x!=(n-1-x)) val=((exp(10,x,k)*i)%k +(exp(10,(n-1-x),k)*i)%k)%k;\n            else val=(exp(10,x,k)*i)%k;\n            s+=(i+'0');\n            if(recur(x+1,n,k,s,(curMod+val)%k,dp)==0){\n                res=0;\n            };\n            s.pop_back();\n            if(res==0){\n                return dp[x][curMod]=res;\n            } \n        }\n        return dp[x][curMod]=res;\n    }\n    string largestPalindrome(int n, int k) {\n        c=(n%2) ? (n/2) : (n/2 -1);\n        // string s=\"\";\n        // vector<vector<ll>> dp(n,vector<ll>(k,-1));\n        // recur(0,n,k,s,0,dp);\n        map<ll,ll> hm;\n        vector<vector<ll>> dp(n,vector<ll>(k));\n        for(int j=9;j>=1;j--){\n            ll val=0;\n            if(c!=(n-1-c)) val=((exp(10,c,k)*j)%k +(exp(10,(n-1-c),k)*j)%k)%k;\n            else val=(exp(10,c,k)*j)%k;\n            ll newMod=(val)%k;\n            if(hm.count(newMod)){\n                continue;\n            }\n            else hm[newMod]=j;\n        }\n        for(auto z:hm) dp[c][z.first]=z.second;\n\n        for(int i=c-1;i>=0;i--){\n            map<ll,ll> newHm;\n            for(int j=9;j>=0;j--){\n                if(i==0 and j==0) continue;\n                ll val=0;\n                if(i!=(n-1-i)) val=((exp(10,i,k)*j)%k +(exp(10,(n-1-i),k)*j)%k)%k;\n                else val=(exp(10,i,k)*j)%k;\n                for(auto x:hm){\n                    ll newMod=(x.first+val)%k;\n                    if(newHm.count(newMod)){\n                        continue;\n                    }\n                    else newHm[newMod]=j;\n                }\n            }\n            for(auto z:newHm) dp[i][z.first]=z.second;\n            hm=newHm;\n        }\n        ans=\"\";\n        ll curMod=0;\n        for(int i=0;i<=c;i++){\n            ll val=dp[i][curMod];\n            ans+=(val+'0');\n            ll z=0;\n            if(i==(n-1-i)){\n                z=(exp(10,i,k)*val)%k;\n            }\n            else z=(((exp(10,i,k)*val)%k +(exp(10,(n-1-i),k)*val)%k)%k);\n            ll remMod=(curMod-z+k)%k;\n            curMod=remMod;\n        }\n        // for(int i=0;i<n;i++){\n        //     for(int j=0;j<k;j++) cout<<dp[i][j]<<\" \";\n        //     cout<<\"\\n\";\n        // }\n        // reverse(ans.begin(),ans.end());\n        int st=(n%2 ? (ans.size()-2) : (ans.size()-1));\n        string newS=ans;\n        while(st>=0) newS+=ans[st--];\n        return newS;\n\n\n\n\n        return ans;\n    }\n};",
    "submit_ts": "1723953251",
    "subm_id": "1359816307"
}