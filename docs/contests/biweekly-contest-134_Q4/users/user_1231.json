{
    "username": "Aadarsh_Mishra",
    "submission": "class Solution {\npublic:\n\n    int fun(vector<vector<int>> &bitts , int mid , int idx){\n        int a = 0;\n            for (int i = 0; i < 32; i++) {\n                int b = (bitts[mid + 1][i] - bitts[idx][i]);\n                if (b==(mid-idx+1))a += (1 << i);\n                    \n            }\n\n            return a;\t\n    }\n\n    int lb(vector<vector<int>> &bitts ,int n, int idx , int k){\n            int s = idx ;\n            int e = n ;\n            \n            int ans=INT_MAX;\n\n            while(s<=e){\n                int mid = s+(e-s)/2;\n                int val =fun(bitts,mid,idx);\n                if(val==k){\n                    ans = min(ans , mid);\n                    e=mid-1;\n                }\n                else if(val <k){\n                    e=mid-1;\n                }\n                else {\n                    s = mid+1;\n                }\n            }\n\n            return ans;\n\n    }\n\n    int ub(vector<vector<int>> &bitts ,int n, int idx , int k){\n            int s = idx ;\n            int e = n ;\n            \n            int ans=INT_MIN;\n\n            while(s<=e){\n                \n                int mid = s+(e-s)/2;\n                // /cout<<s<<\" \"<<e<<endl;\n                int val =fun(bitts,mid,idx);\n                // cout<<val<<endl;\n                if(val==k){\n                    ans = max(ans , mid);\n                    s=mid+1;\n                    // cout<<s<<\" \"<<e<<\" \"<<ans<<endl;\n                }\n                else if(val <k){\n                    e=mid-1;\n                    //  cout<<s<<\" \"<<e<<\" \"<<ans<<endl;\n                }\n                else {\n                    s=mid+1;\n                    //  cout<<s<<\" \"<<e<<\" \"<<ans<<endl;\n                }\n            }\n\n            return ans;\n\n    }\n\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long ans =0;\n        int n = nums.size();\n        vector<vector<int>> bitts;\n        bitts.resize(n + 1, vector<int>(32, 0));\n        for (int i = 0; i < n; i++)\n            for (int j = 0; j < 32; j++)\n                bitts[i + 1][j] = bitts[i][j] + ((nums[i] >> j) & 1);\n\n\n        for(int i=0;i<n;i++){\n           int a =ub(bitts,n-1,i,k);\n           int b= lb(bitts,n-1,i,k);\n           if(b==INT_MAX)continue;\n        //    cout<<a<<\" \"<<b<<endl;\n           ans += (a-b+1) ;\n        }\n\n        return ans;\n\n        \n        \n\n\n    }\n};",
    "submit_ts": "1720280533",
    "subm_id": "1311792960"
}