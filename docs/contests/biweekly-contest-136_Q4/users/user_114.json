{
    "username": "wyj20154348",
    "submission": "class Solution {\npublic:\n    int n;    \n    vector<int> g[100010];\n    int dp1[100010],dp2[100010];\n    int ans[100010];\n    void dfs1(int u,int fa){\n        int res1=0,res2=0;\n        for (auto &v:g[u]){\n            if (v==fa) continue;\n            dfs1(v,u);\n            int val = dp1[v]+ (v%2? 1:2);\n            if (val>=res1){\n                res2=res1;\n                res1=val;\n            } else{\n                res2=max(res2,val);\n            }\n        }\n        dp1[u]=res1,dp2[u]=res2;\n    }\n    void dfs2(int u,int fa){\n        for (auto &v:g[u]){\n            if (v==fa) continue;\n            if (dp1[u]==dp1[v]+(v%2?1:2)){\n                if (dp2[u]+(u%2?1:2)>=dp1[v]){\n                    dp2[v]=dp1[v];\n                    dp1[v]=dp2[u]+(u%2?1:2);\n                } else{\n                    dp2[v]=max(dp2[v],dp2[u]+(u%2?1:2));\n                }\n            } else{\n                if(dp1[u]+(u%2?1:2)>=dp1[v]){\n                    dp2[v]=dp1[v];\n                    dp1[v]=dp1[u]+(u%2?1:2);\n                }\n                else dp2[v]=max(dp2[v],dp1[u]+(u%2?1:2));\n            }\n            dfs2(v,u);\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n = edges.size()+1;\n        for (int i=0;i<n;i++) g[i].clear();\n        for (auto &it:edges){\n            g[it[0]].emplace_back(it[1]);\n            g[it[1]].emplace_back(it[0]);\n        }\n        dfs1(0,-1);\n        ans[0]=dp1[0];\n        dfs2(0,-1);\n        vector<int> res;\n        for (int i=0;i<n;i++) res.emplace_back(dp1[i]);\n        return res;\n    }\n};",
    "submit_ts": "1722698257",
    "subm_id": "552270078"
}