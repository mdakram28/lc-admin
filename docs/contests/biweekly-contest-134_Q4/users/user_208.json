{
    "username": "CapooCoder",
    "submission": "class Solution {\n    long long ans = 0;\n    int n;\n    void get(int x, vector<vector<int>> &pre, int k){\n        int left = 0;\n        int right = 0;\n        int l = x;\n        int r = n-1;\n        int mid = (x+r)/2;\n        \n        // vector<int> vc(32, 0);\n        while(l<=r){\n            mid = (l+r)/2;\n            int g = 0;\n            for(int i=0; i<32; i++){\n                if(pre[mid+1][i] - pre[x][i] == mid-x+1){\n                    g += (1<<i);\n                }\n            }\n            // cout << x << \" \"  << l << \" \" << r << \" \" << g <<'\\n';\n            if(g >= k){\n                l = mid+1;\n            }\n            else{\n                r = mid-1;\n            }\n        }\n        left = l;\n        // cout << left;\n        \n        l = x;\n        r = n-1;\n\n        while(l<=r){\n            // cout << x << \" \" << l << \" \" << r << '\\n';\n            mid = (l+r)/2;\n            int g = 0;\n            for(int i=0; i<32; i++){\n                if(pre[mid+1][i] - pre[x][i] == mid-x+1){\n                    g += (1<<i);\n                }\n            }\n            \n            if(g > k){\n                l = mid+1;\n            }\n            else{\n                r = mid-1;\n            }\n        }\n        \n        right = r+1;\n        // cout << left << \" \" << right << '\\n';\n        ans += left - right;\n        \n    }\n    \n    \npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        n = nums.size();\n        vector<vector<int>> pre(n+1, vector<int>(32, 0));\n        \n        for(int i=0; i<n; i++){\n            for(int j=0; j<32; j++){\n                if(nums[i] & (1<<j)){\n                    pre[i+1][j] = pre[i][j] + 1;\n                }\n                else{\n                    pre[i+1][j] = pre[i][j];\n                }\n            }\n        }\n        \n        for(int i=0; i<n; i++){\n            get(i, pre,k);\n        }\n        \n        \n        return ans;\n    }\n};",
    "submit_ts": "1720278966",
    "subm_id": "1311731766"
}