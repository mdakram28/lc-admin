{
    "username": "sas4eka",
    "submission": "const int K = 500;\nset<int> splits[K];\nint mx[K];\n\nclass Solution {\npublic:\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        for (int i = 0; i < K; i++) {\n            splits[i].clear();\n            mx[i] = -1;\n        }\n        vector<bool> ans;\n        for (auto & v : queries) {\n            int type = v[0];\n            if (type == 1) {\n                int x = v[1];\n                int p = x / K;\n                splits[p].insert(x);\n                int prev = -1;\n                int cm = -1;\n                for (int s : splits[p]) {\n                    if (prev != -1) {\n                        cm = max(cm, s - prev);\n                    }\n                    prev = s;\n                }\n                mx[p] = cm;\n            } else {\n                int x = v[1];\n                int sz = v[2];\n                int prev = 0;\n                bool got = false;\n                for (int i = 0; i < K; i++) {\n                    int from = i * K;\n                    int to = from + K;\n                    set<int> & split = splits[i];\n                    if (x <= to) {\n                        // last\n                        for (int s : split) {\n                            if (x < s) {\n                                int curr = x - prev;\n                                if (curr >= sz) {\n                                    got = true;\n                                }\n                                break;\n                            } else {\n                                int curr = s - prev;\n                                if (curr >= sz) {\n                                    got = true;\n                                    break;\n                                }\n                                prev = s;\n                            }\n                        }\n                        int curr = x - prev;\n                        if (curr >= sz) {\n                            got = true;\n                        }\n                        break;\n                    } else {\n                        if (split.empty()) {\n                            // no-op\n                        } else {\n                            int fi = *split.begin();\n                            int curr = fi - prev;\n                            if (curr >= sz) {\n                                got = true;\n                                break;\n                            }\n                            if (mx[i] >= sz) {\n                                got = true;\n                                break;\n                            }\n                            int la = *split.rbegin();\n                            prev = la;\n                        }\n                    }\n                }\n                ans.push_back(got);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1716651164",
    "subm_id": "1267633690"
}