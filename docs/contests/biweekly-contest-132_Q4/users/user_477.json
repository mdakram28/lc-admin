{
    "username": "qb_2008",
    "submission": "class Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> dp(n, vector<int>(k + 1, 1));\n\n        for (int i = 1; i < n; i++) {\n            // copy from i - 1\n            for (int j = 0; j <= k; j++) {\n                dp[i][j] = dp[i-1][j];\n            }\n            int same_count = 1;\n            int prev_same_count = 0;\n            for (int prev = i - 1; prev >= 0; prev--) {\n                if (nums[prev] == nums[i]) {\n                    same_count++;\n                } else if (prev_same_count != same_count) {\n                    prev_same_count = same_count;\n                    for (int j = 1; j <= k; j++) {\n                        dp[i][j] = max(dp[i][j], dp[prev][j - 1] + same_count);\n                    }\n                }\n            }\n            //printf(\"i=%d, same_count=%d\\n\", i, same_count);\n            dp[i][0] = max(dp[i][0], same_count);\n        }\n        \n        int res = 0;\n        for (int j = 0; j <= k; j++) {\n            res = max(res, dp[n-1][j]);\n        }\n        return res;\n    }    \n    \n    int maximumLengthSlow(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> dp(n, vector<int>(k + 1, -1));\n        \n        dp[0][0] = 1;\n        for (int i = 1; i < n; i++) {\n            dp[i][0] = 1;\n            for (int prev = 0; prev < i; prev++) {\n                for (int j = 0; j <= k; j++) {\n                    if (nums[i] == nums[prev]) {\n                        if (dp[prev][j] != -1) {\n                            dp[i][j] = max(dp[i][j], dp[prev][j] + 1);\n                        }\n                    } else {\n                        if (j > 0 && dp[prev][j-1] != -1) {\n                            dp[i][j] = max(dp[i][j], dp[prev][j-1] + 1);\n                        }\n                    }\n                }\n            }\n        }\n        int res = 0;\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j <= k; j++) {\n                res = max(res, dp[i][j]);\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1717861458",
    "subm_id": "1281791687"
}