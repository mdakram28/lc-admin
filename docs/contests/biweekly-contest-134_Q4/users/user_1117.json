{
    "username": "bai-ma-shi-lang",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        if(n==1)\n            return nums[0]==k?1:0;\n\t\tlong long ans = 0;\n\t\tvector<pair<int, int>> ands; // \u6309\u4f4d\u4e0e\u7684\u503c + \u5bf9\u5e94\u5b50\u6570\u7ec4\u7684\u53f3\u7aef\u70b9\u7684\u6700\u5c0f\u503c\n\t\tfor (int i = n - 1; i >= 0; i--)\n\t\t{\n\t\t\tands.emplace_back((1<<30)-1, i);\n\t\t\tands[0].first &= nums[i];\n\t\t\tint x = 0;\n\t\t\tfor (int j = 1; j < ands.size(); j++)\n\t\t\t{\n\t\t\t\tands[j].first &= nums[i];\n\t\t\t\tif (ands[x].first == ands[j].first)\n\t\t\t\t\tands[x].second = ands[j].second; // \u5408\u5e76\u76f8\u540c\u503c\uff0c\u4e0b\u6807\u53d6\u6700\u5c0f\u7684\n\t\t\t\telse\n\t\t\t\t\tands[++x] = ands[j];\n\t\t\t}\n\t\t\tands.resize(x + 1);\n\t\t\tfor (int j = 0; j < ands.size(); j++)\n\t\t\t{\n\t\t\t\tif (ands[j].first == k)\n\t\t\t\t{\n                    if(j==0)\n                        ans+= (long long)nums.size()-ands[j].second;\n                    else\n                        ans += (long long)ands[j-1].second-ands[j].second;\n                }\n\t\t\t}\n\t\t}\n\t\treturn ans;\n    }\n};",
    "submit_ts": "1720279478",
    "subm_id": "544567662"
}