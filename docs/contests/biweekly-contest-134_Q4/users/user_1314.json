{
    "username": "Zeaton",
    "submission": "class Solution {\npublic:\n    \n    \n    \n    void add(int num,vector<int>&bits)\n    {\n        for(int i=0;i<=30;i++)\n        {\n            if(num&(1<<i))\n            {\n               bits[i]++;\n            }\n        }\n    }\n    void del(int num,vector<int>&bits)\n    {\n        for(int i=0;i<=30;i++)\n        {\n            if(num&(1<<i))\n            {\n               bits[i]--;\n            }\n        }\n    }\n    long long value(int len,vector<int>&bits)\n    {\n        long long res=0;\n        for(int i=0;i<=30;i++)\n        {\n            if(bits[i]==len)res=res+1ll*(1<<i);\n        }\n        return res;\n    }\n    \n    \n    long long atleast(vector<int>arr,int k)\n    {\n        int n=arr.size();\n        int i=0;\n        int j=0;\n        // bit.clear();\n        // bits.resize(28,0);\n        vector<int>bits(32,0);\n        long long ans=0;\n        long long andd=0;\n        while(j<n)\n        {\n            add(arr[j],bits);\n            andd=value(j-i+1,bits);\n            // cout<<\"hi\"<<andd<<endl;\n            while(i<j && andd<k)\n            {\n                del(arr[i],bits);\n                i++;\n                andd=value(j-i+1,bits);\n            }\n            if(andd>=k){\n                // cout<<andd<<endl;\n                // cout<<i<<\" \"<<j<<endl;\n            ans=ans+1ll*(j-i+1);\n            }\n            j++;\n        }\n        return ans;\n    }\n    \n    \n    long long countSubarrays(vector<int>& nums, int k) {\n        // cout<< atleast(nums,k)<<endl;\n        // vector<int>bits1(25,0)\n        long long x=atleast(nums,k);\n        // cout<<x<<endl;\n        // bits.resize(27,0);\n        long long y=atleast(nums,k+1);\n        // cout<<y<<endl;\n        return x-y;\n        // cout<<x<<\" \"<<y<<endl;\n        return 1;\n       // return atleast(nums,k)-atleast(nums,k+1);\n    }\n};",
    "submit_ts": "1720280187",
    "subm_id": "1311780042"
}