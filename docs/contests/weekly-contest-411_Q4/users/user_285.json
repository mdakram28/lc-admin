{
    "username": "Priyansh Agrawal",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        \n        \n        long long n=s.length();\n        long long ct=0;\n        vector<long long>pre;\n        pre.push_back(0);\n        for(long long i=0;i<n;i++)\n        {\n            if(s[i]=='1')\n            {\n                ct++;\n            }\n            pre.push_back(ct);\n        }\n        vector<long long>ans;\n        ans.push_back(1);\n        for(long long i=1;i<n;i++)\n        {\n            long long s1=0,e=i;\n            long long ans1;\n            while(s1<=e)\n            {\n                long long mid=s1+(e-s1)/2;\n                long long a=pre[i+1]-pre[mid];\n                if(a>k && (i - mid-a+1)>k)\n                {\n                    s1=mid+1;\n                }\n                else\n                {\n                    ans1=mid;\n                    e=mid-1;\n                }\n            }\n            ans.push_back(i-ans1+1);\n        }\n        vector<long long>pre1;\n        pre1.push_back(0);\n        long long sum1=0;\n        for(long long i=0;i<n;i++)\n        {\n            sum1+=ans[i];\n            pre1.push_back(sum1);\n        }\n        vector<long long>ans1;\n        for(long long i=0;i<queries.size();i++)\n        {\n            long long l=queries[i][0];\n            long long r=queries[i][1];\n            long long s1=l,e=r;\n            long long ans2=r+1;\n            while(s1<=e)\n            {\n                long long mid=s1+(e-s1)/2;\n                long long a=pre[mid+1]-pre[l];\n                if(a>k && (mid-a-l+1)>k)\n                {\n                    ans2=mid;\n                    e=mid-1;\n                }\n                else\n                {\n                    s1=mid+1;\n                }\n            }\n            long long b=pre1[r+1]-pre1[ans2];\n            b=b+(ans2-l+1)*(ans2-l)/2;\n            ans1.push_back(b);\n        }\n        return ans1;\n    }\n};",
    "submit_ts": "1723952836",
    "subm_id": "1359805846"
}