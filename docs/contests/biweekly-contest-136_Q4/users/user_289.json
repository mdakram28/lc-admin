{
    "username": "keysersoze29",
    "submission": "class Solution {\npublic:\n\n    int fun(int u, int p, vector<int>*g, vector<int>&max1, vector<int>&max2, vector<int>&child) {\n\n        int maxi=0,sec=0;\n        child[u]=u;\n\n        for(int v:g[u]) {\n            if(v!=p) {\n                int cur=0;\n                if(v%2==0) {\n                    cur+=2;\n                }else {\n                    cur+=1;\n                }\n                int val = fun(v, u, g, max1, max2, child);\n                val+=cur;\n                if(val>maxi) {\n                    sec = maxi;\n                    maxi=val;\n                    child[u]=v;\n                }else {\n                    if(val>sec) {\n                        sec=val;\n                    }\n                }\n            }\n        }\n\n        max1[u]=maxi;\n        max2[u]=sec;\n        return maxi;\n    }\n\n    void fun2(int u, int p, int parVal, vector<int>*g, vector<int>&max1, vector<int>&max2, vector<int>&child, vector<int>&ans) {\n\n        ans[u] = max(parVal, max1[u]);\n        int cur=0;\n        if(u%2==0) {\n            cur+=2;\n        }else {\n            cur+=1;\n        }\n\n        for(int v:g[u]) {\n\n            if(v!=p) {\n                if(v!=child[u]) {\n                    int tt = max(parVal, max1[u]);\n                    tt+=cur;\n                    fun2(v, u, tt, g, max1, max2, child, ans);\n                }else {\n                    int tt = max(parVal, max2[u]);\n                    tt+=cur;\n                    fun2(v, u, tt, g, max1, max2, child, ans);\n                }\n            }\n        }\n    }\n\n\n    vector<int> timeTaken(vector<vector<int>>& e) {\n        int n=e.size()+1;\n        vector<int>g[n];\n\n        for(auto i:e) {\n            int u=i[0],v=i[1];\n            g[u].push_back(v);\n            g[v].push_back(u);\n        }\n\n        vector<int>max1(n,-1),max2(n,-1),child(n,-1);\n        fun(0, -1, g, max1, max2, child);\n\n        vector<int>ans(n,0);\n        fun2(0, -1, 0, g, max1, max2, child, ans);\n        return ans;\n\n    }\n};\n",
    "submit_ts": "1722700563",
    "subm_id": "1343245791"
}