{
    "username": "nnAyAnk",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        s='#'+s;\n        int n=s.size()-1;\n        vector<int>c1(n+1,0),c0(n+1,0);\n        vector<int>v(n+1,0);\n        int idx=0;\n        for(int i=1;i<=n;i++){\n            c1[i]=c1[i-1];\n            c0[i]=c0[i-1];\n            if(s[i]=='1'){\n                c1[i]++;\n            }\n            else{\n                c0[i]++;\n                idx=i;\n            }\n            v[i]=idx;\n        }\n        int ans=0;\n\n        for(int i=n;i>=1;i--){\n            int j=i;\n            int cnt0=0,cnt1=0;\n            while(j>=1 && cnt0*cnt0<=i){\n                int k=j;\n                while(k>=1 && s[k]=='0' && cnt0*cnt0<=i){\n                    cnt0++;\n                    k--;\n                    if(cnt1>=cnt0*cnt0){\n                        ans++;\n                    }\n                }\n                if(s[j]=='0'){\n                    j=k;\n                    continue;\n                }\n                else{\n                    int tot=j-v[j];\n                    int need=cnt0*cnt0-cnt1;\n                    if(need<=0){\n                        ans+=tot;\n                    }\n                    else{\n                        ans+=max(0,tot-need+1);\n                    }\n                    cnt1+=tot;\n                    j=v[j];\n                }\n            }\n            // cout<<i<<\" \"<<ans<<endl;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722139034",
    "subm_id": "1335806092"
}