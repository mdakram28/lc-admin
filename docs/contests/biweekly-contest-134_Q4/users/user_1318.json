{
    "username": "apm2002",
    "submission": "class Solution {\npublic:\n    \n    int add(int val, vector<int>& bit){\n        for(int i=0;i<31;i++){\n            if(!(val>>i & 1)) bit[i]++;\n        }\n        \n        int ans = INT_MAX;\n        for(int i=0;i<31;i++){\n            if(bit[i]){\n                int temp = 1<<i;\n                temp = ~temp;\n                ans = ans & temp;\n            }\n        }\n        \n        return ans;\n    }\n    \n    int remove(int val, vector<int>& bit){\n        for(int i=0;i<31;i++){\n            if(!(val>>i & 1)) bit[i]--;\n        }\n        \n        int ans = INT_MAX;\n        for(int i=0;i<31;i++){\n            if(bit[i]){\n                int temp = 1<<i;\n                temp = ~temp;\n                ans = ans & temp;\n            }\n        }\n        \n        return ans;\n    }\n    \n    long long great(vector<int>& nums, int k){\n        int n = nums.size();\n        int i=0,j=0;\n        int curr = INT_MAX;\n        vector<int> bit(31,0);\n        long long ans = 0;\n        \n        while(j<n){\n            curr = add(nums[j],bit);\n            while(curr<k && i<=j){\n                curr = remove(nums[i],bit);\n                i++;\n            }\n            \n            ans += (j-i+1);\n            j++;\n        }\n        \n        return ans;\n    }\n    \n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        return -great(nums,k+1) + great(nums,k);\n    }\n};",
    "submit_ts": "1720280369",
    "subm_id": "1311786788"
}