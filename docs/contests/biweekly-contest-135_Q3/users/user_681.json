{
    "username": "ajinkya1p3",
    "submission": "class Solution {\nprivate:\n    void update(int i, int val, vector<int>& BIT) {\n        for (; i < BIT.size(); i += (i & (-i)))\n            BIT[i] += val;\n    }\n\n    int query(int i, vector<int>& BIT) {\n        int ans = 0;\n\n        for (; i > 0; i -= (i & (-i)))\n            ans += BIT[i];\n\n        return ans;\n    }\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<int> A(k + 2);\n        vector< vector<int> > X(k + 1, vector<int>());\n\n        for (int i = 0, j = n - 1; i < j; i++, j--)\n        {\n            int a = min(nums[i], nums[j]);\n            int b = max(nums[i], nums[j]);\n\n            int d = b - a;\n            int maxDiff = max(max(a, k - a), max(b, k - b));\n\n            update(maxDiff + 1, 1, A);\n            X[d].push_back(maxDiff);\n        }\n\n        int ans = n;\n\n        for (int d = 0; d <= k; d++)\n        {\n            int noChange = X[d].size();\n\n            for (auto& x: X[d])\n                update(x + 1, -1, A);\n            \n            int twoChanges = query(d, A);\n            int oneChange = n / 2 - twoChanges - noChange;\n\n            ans = min(ans, twoChanges * 2 + oneChange);\n\n            for (auto& x: X[d])\n                update(x + 1, 1, A);\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1721488885",
    "subm_id": "1327436195"
}