{
    "username": "vmadhu99",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n = s.size();\n        vector<int> pref(n);\n        vector<int> where(n + 1, 1e9);\n        int curr = 0;\n        for(int i = 0; i < n; i++){\n            curr += (s[i] == '1');\n            pref[i] = curr;\n            where[pref[i]] = min(where[pref[i]], i);\n        }\n        vector<int> nxt(n);\n        curr = -1;\n        for(int i = n - 1; i >= 0; i--){\n            nxt[i] = curr;\n            if(s[i] == '0'){\n                curr = i;\n            }\n        }\n        int ans = 0;\n        for(int i = 0; i < n; i++){\n            int z = (s[i] == '0');\n            int at = i;\n            while(1){\n                if(z * z > n){\n                    break;\n                }\n                int sub = (i == 0 ? 0 : pref[i - 1]);\n                int want = z * z + sub;\n                if(z == 0){\n                    want = pref[at];\n                }\n                int to = (nxt[at] == -1 ? n : nxt[at]);\n                if((want > n) || (where[want] == 1e9)){\n                    break;\n                }\n                // cout << i << \" \" << at << \" \" << want << \" \" << where[want] << \" \" << to << endl;\n                int rt = max(where[want], at);\n                if(rt <= to){\n                    // cout << \"adding \" << (to - rt) << endl;\n                    ans += (to - rt);\n                }\n                if(to == n){\n                    break;\n                }\n                at = to;\n                z++;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722135551",
    "subm_id": "1335705663"
}