{
    "username": "magzybogues5191",
    "submission": "class Solution {\npublic:\n    \n    \n\n\n    void __print(int x) {cout << x;}\n    void __print(long x) {cout << x;}\n    void __print(long long x) {cout << x;}\n    void __print(unsigned x) {cout << x;}\n    void __print(unsigned long x) {cout << x;}\n    void __print(unsigned long long x) {cout << x;}\n    void __print(float x) {cout << x;}\n    void __print(double x) {cout << x;}\n    void __print(long double x) {cout << x;}\n    void __print(char x) {cout << '\\'' << x << '\\'';}\n    void __print(const char *x) {cout << '\\\"' << x << '\\\"';}\n    void __print(const string &x) {cout << '\\\"' << x << '\\\"';}\n    void __print(bool x) {cout << (x ? \"true\" : \"false\");}\n\n    template<typename T, typename V>\n    void __print(const pair<T, V> &x) {cout << '{'; __print(x.first); cout << ','; __print(x.second); cout << '}';}\n    template<typename T>\n    void __print(const T &x) {int f = 0; cout << '{'; for (auto &i: x) cout << (f++ ? \",\" : \"\"), __print(i); cout << \"}\";}\n    void _print() {cout << \"]\\n\";}\n    template <typename T, typename... V>\n    void _print(T t, V... v) {__print(t); if (sizeof...(v)) cout << \", \"; _print(v...);}\n    #ifndef ONLINE_JUDGE\n    #define bug(x...) cout << \"[\" << #x << \"] = [\"; _print(x)\n    #else\n    #define bug(x...)\n    #endif\n\n\n    #define         ll               long long int\n    #define         F                first\n    #define         S                second\n    #define         pb               push_back\n    #define         si               set<ll>\n    #define         vi               vector<ll>\n    #define         pii              pair<ll,ll>\n    #define         vpi              vector<pii>\n    #define         vpp              vector<pair<ll,pii>>\n    #define         mii              map<ll,ll>\n    #define         mpi              map<pii,ll>\n    #define         spi              set<pii>\n    #define         endl             \"\\n\"\n    #define         sz(x)            ((int)x.size())\n    #define         all(p)           p.begin(),p.end()\n    #define         double           long double\n    #define         que_max          priority_queue<ll>\n    #define         que_min          priority_queue<ll,vi,greater<ll>>\n    #define         setbits(x)       __builtin_popcountll(x)\n    #define         zerobits(x)       __builtin_ctzll(x)\n    #define         msb(x)           (int)log2(x)\n    \n    \n    ll get(int l,int r,vi &v){\n        ll sm=0;\n        sm+=v[r];\n        if(l){\n            sm-=v[l-1];\n        }\n        return sm;\n    }\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n            \n        int n=sz(s);\n        vector<int> res(n,0);\n        \n        vi o(n,0),z(n,0);\n        for(int i=0;i<n;++i){\n            o[i]=(s[i]=='1');\n            z[i]=(s[i]=='0');\n            if(i){\n                o[i]+=o[i-1];\n                z[i]+=z[i-1];\n            }\n        }\n        \n        vi f(n,0);\n\n        \n        for(int i=0;i<n;++i){\n            int low=i,high=n-1,ans=i;\n            while(low<=high){\n                int mid=(low+high)/2;\n                int p1=get(i,mid,o);\n                int p2=get(i,mid,z);\n                \n                if(p1<=k or p2<=k){\n                    ans=mid;\n                    low=mid+1;\n                }\n                else{\n                    high=mid-1;\n                }\n            }\n            res[i]=ans;\n            f[i]=ans-i+1;\n        }\n        \n        for(int i=1;i<n;++i){\n            if(i){\n                f[i]+=f[i-1];\n            }\n        }\n        \n        vi fin;\n        \n        for(auto i:queries){\n            int l=i[0],r=i[1];\n            \n            int low=l,high=r,ans=-1;\n            while(low<=high){\n                int mid=(low+high)/2;\n                if(res[mid]<=r){\n                    ans=mid;\n                    low=mid+1;\n                }\n                else{\n                    high=mid-1;\n                }\n            }\n            \n            if(ans==-1){\n                ll len=(r-l+1);\n                fin.pb(len*(len+1)/2);\n            }\n            else{\n                ll len=r-ans;\n                ll now=(len*(len+1)/2);\n                ll other=get(l,ans,f);\n                fin.pb(now+other);\n            }\n            \n        }\n        \n       \n        \n        return fin;\n    }\n};",
    "submit_ts": "1723950306",
    "subm_id": "1359742554"
}