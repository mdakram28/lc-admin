{
    "username": "USYDLDH",
    "submission": "class Solution:\n    def minFlips(self, grid: List[List[int]]) -> int:\n        n, m = len(grid), len(grid[0])\n        res = 0\n        vis = [[False for _ in range(m)] for _ in range(n)]\n\n        for i in range(n >> 1):\n            for j in range(m >> 1):\n                ni, nj = n - 1 - i, m - 1 - j\n                # flag = True\n                # for ii in (i, ni):\n                #     for jj in (j, nj):\n                #         if vis[ii][jj]:\n                #             flag = False\n\n                # if not flag:\n                #     continue\n\n                a, b = 0, 0\n                for ii in (i, ni):\n                    for jj in (j, nj):\n                        vis[ii][jj] = True\n                        if grid[ii][jj] == 1:\n                            a += 1\n                        else:\n                            b += 1\n                \n                res += min(a, b)\n        \n        # print('res', res)\n        \n        change = 0\n        one_cnt = 0\n        if n & 1:\n            l, r = 0, m - 1\n            while l < r:\n                change += grid[n >> 1][l] != grid[n >> 1][r]\n                if grid[n >> 1][l] == grid[n >> 1][r] == 1:\n                    one_cnt += 2\n                l += 1\n                r -= 1\n        \n        if m & 1:\n            l, r = 0, n - 1\n            while l < r:\n                change += grid[l][m >> 1] != grid[r][m >> 1]\n                if grid[l][m >> 1] == grid[r][m >> 1] == 1:\n                    one_cnt += 2\n                l += 1\n                r -= 1\n        \n        if n & 1 and m & 1 and grid[n >> 1][m >> 1]:\n            res += 1\n        \n        # print(one_cnt, change)\n\n        if one_cnt % 4 == 0:\n            if change * 2 % 4 == 0:\n                return res + change\n            else:\n                return res + change\n\n        else:\n            if change:\n                return res + change\n            else:\n                return res + change + 2\n\n        ",
    "submit_ts": "1722696739",
    "subm_id": "1343120220"
}