{
    "username": "disandrewed",
    "submission": "class stree {\npublic:\n    using LL = long long;\n    LL n = 0;\n    \n    struct node {\n        LL x;\n        node() : x{INT_MAX} {}\n        node(int e) : x{e} {}\n\n        friend node operator+(const node &a, const node &b) {\n            return node(a.x & b.x);\n        }\n    };\n\n    vector<node> t;\n\n    stree(LL sz) : n(sz), t(4 * sz + 1) {}\n\n    node query(LL l, LL r, LL v = 1, LL tl = 0, LL tr = -1) {\n        if (tr == -1) tr = n - 1;\n        if (l > r) \n            return node();\n        if (l == tl && r == tr) {\n            return t[v];\n        }\n        LL tm = (tl + tr) / 2;\n        return query(l, min(r, tm), v * 2, tl, tm) +\n               query(max(l, tm + 1), r, v * 2 + 1, tm + 1, tr);\n    }\n\n    void update(LL pos, LL new_val, LL v = 1, LL tl = 0, LL tr = -1) {\n        if (tr == -1) tr = n - 1;\n        if (tl == tr) {\n            t[v] = new_val;\n        } else {\n            LL tm = (tl + tr) / 2;\n            if (pos <= tm)\n                update(pos, new_val, v * 2, tl, tm);\n            else\n                update(pos, new_val, v * 2 + 1, tm + 1, tr);\n            t[v] = t[v * 2] + t[v * 2 + 1];\n        }\n    }\n};\n\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        stree tree(n);\n        \n        for (int i = 0; i < n; i++) {\n            tree.update(i, nums[i]);\n        }\n        \n        int ans = INT_MAX;\n        for (int i = 0; i < n; i++) {\n            int lo = i;\n            int hi = n;\n            \n            while (lo < hi) {\n                int mid = (lo + hi) / 2;\n                int q = tree.query(i, mid).x;\n                ans = min(ans, abs(q - k));\n                //cout << q << \" \" << i << \" \" << mid << \"\\n\";\n                if (q > k) {\n                    lo = mid + 1;\n                } else {\n                    hi = mid;\n                }\n            }\n            \n            \n        }\n        \n        //cout << endl << endl;\n        return ans;\n        \n    }\n};",
    "submit_ts": "1717299688",
    "subm_id": "1274820661"
}