{
    "username": "orz-23",
    "submission": "class Solution {\npublic:\n    const static int N = 1e5+5;\n    int h[N];\n    int dp[N][2];\n    int cnt=1;\n    int e[N<<1], nx[N<<1], w[N];\n    void add(int a, int b){\n        e[cnt] = b, nx[cnt] = h[a], h[a] = cnt++;\n    }\n    void dfs(int u, int f){\n        \n        for(int i=h[u];i;i=nx[i]){\n            int t=e[i];\n            if(t!=f){\n                dfs(t, u);\n                int d = t&1? 1:2;\n                if(dp[t][0]+d>dp[u][0]){\n                    dp[u][1] = dp[u][0];\n                    dp[u][0] = dp[t][0]+d;\n                }else if(dp[t][0]+d>dp[u][1]){\n                    dp[u][1] = dp[t][0]+d; \n                }\n                \n            }\n        }\n        // cout<<u<<\" \"<<dp[u][0]<<\" \"<<dp[u][1]<<endl;\n    }\n    void dfs1(int u, int f){\n        for(int i=h[u];i;i=nx[i]){\n            int t=e[i];\n            if(t!=f){\n                int d = u&1?1:2;\n                // cout<<t<<\" \"<<d<<endl;\n                int d1 = t&1?1:2;\n                if(dp[t][0] + d1 == dp[u][0]){\n                    if(dp[u][1]+d > dp[t][0]){\n                        dp[t][1] = dp[t][0];\n                        dp[t][0] = dp[u][1]+d;\n                    }else if(dp[u][1]+d>dp[t][1]){\n                        dp[t][1] = dp[u][1]+d;\n                    }\n                }else{\n                    if(dp[u][0]+d > dp[t][0]){\n                        dp[t][1] = dp[t][0];\n                        dp[t][0] = dp[u][0]+d;\n                    }else if(dp[u][0]+d>dp[t][1]){\n                        dp[t][1] = dp[u][0]+d;\n                    }\n                }\n                dfs1(t, u);\n            }\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& e) {\n        for(auto p:e){\n            add(p[0], p[1]);\n            add(p[1], p[0]);\n        }\n        \n        memset(dp, 0, sizeof dp);\n        dfs(0,-1);\n        dfs1(0,-1);\n        vector<int> ans;\n        for(int i=0;i<e.size()+1;i++){\n            ans.push_back(dp[i][0]);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722699525",
    "subm_id": "552276023"
}