{
    "username": "qqwrv",
    "submission": "constexpr static int kInf = 0x3f3f3f3f;\nclass Solution {\npublic:\n    int minFlips(vector<vector<int>>& a) {\n        const int n = a.size();\n        const int m = a[0].size();\n        int ans = 0;\n        for (int i = 0; i < n / 2; ++i) {\n            for (int j = 0; j < m / 2; ++j) {\n                int one = a[i][j];\n                one += a[i][m - j - 1];\n                one += a[n - i - 1][j];\n                one += a[n - i - 1][m - j - 1];\n\n                ans += std::min(one, 4 - one);\n            }\n        }\n\n        int ones = 0, cnt[3] = {0};\n        if (n & 1) {\n            for (int j = 0; j < m / 2; ++j) {\n                ans += a[n / 2][j] != a[n / 2][m - j - 1];\n\n                int x = a[n / 2][j] + a[n / 2][m - j - 1];\n                ++cnt[x];\n                if (x == 2)\n                    ones += 2;\n            }\n        }\n        if (m & 1) {\n            for (int i = 0; i < n / 2; ++i) {\n                ans += a[i][m / 2] != a[n - i - 1][m / 2];\n\n                int x = a[i][m / 2] + a[n - i - 1][m / 2];\n                ++cnt[x];\n                if (x == 2)\n                    ones += 2;\n            }\n        }\n        if (ones % 4 == 2) {\n            int cost = 2;\n            if (cnt[1] > 0)\n                cost = 0;\n            ans += cost;\n        }\n\n        if ((n & 1) && (m & 1)) {\n            ans += a[n / 2][m / 2];\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1722699419",
    "subm_id": "1343211064"
}