{
    "username": "Tricky Cat",
    "submission": "public class Solution\n{\n\t// @TrickyCat\n\tpublic long MaximumValueSum(int[][] board)\n\t{\n\t\tint m = board.Length, n = board[0].Length;\n\t\tvar maxInRows = new long[m][];\n\t\tvar maxColInRows = new int[m][];\n\n\t\tfor (int r = 0; r < m; r++)\n\t\t{\n\t\t\tvar a = maxInRows[r] = new long[3];\n\t\t\tvar cols = maxColInRows[r] = new int[3];\n\t\t\tArray.Fill(a, int.MinValue);\n\n\t\t\tfor (int c = 0; c < n; c++)\n\t\t\t{\n\t\t\t\tvar x = board[r][c];\n\t\t\t\tif (x > a[0])\n\t\t\t\t{\n\t\t\t\t\ta[2] = a[1]; cols[2] = cols[1];\n\t\t\t\t\ta[1] = a[0]; cols[1] = cols[0];\n\t\t\t\t\ta[0] = x; cols[0] = c;\n\t\t\t\t}\n\t\t\t\telse if (x > a[1])\n\t\t\t\t{\n\t\t\t\t\ta[2] = a[1]; cols[2] = cols[1];\n\t\t\t\t\ta[1] = x; cols[1] = c;\n\t\t\t\t}\n\t\t\t\telse if (x > a[2])\n\t\t\t\t{\n\t\t\t\t\ta[2] = x; cols[2] = c;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\tvar bannedCols = new HashSet<int>();\n\t\tlong ans = long.MinValue;\n\n\t\tfor (int r1 = 2; r1 < m; r1++)\n\t\t{\n\t\t\tfor (int minCol1 = 0; minCol1 < 3; minCol1++)\n\t\t\t{\n\t\t\t\tvar c1 = maxColInRows[r1][minCol1];\n\t\t\t\tbannedCols.Add(c1);\n\n\t\t\t\tfor (int r2 = r1 - 1; r2 >= 0; r2--)\n\t\t\t\t{\n\t\t\t\t\tfor (int minCol2 = 0; minCol2 < 3; minCol2++)\n\t\t\t\t\t{\n\t\t\t\t\t\tvar c2 = maxColInRows[r2][minCol2];\n\t\t\t\t\t\tif (bannedCols.Add(c2))\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfor (int r3 = r2 - 1; r3 >= 0; r3--)\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tfor (int minCol3 = 0; minCol3 < 3; minCol3++)\n\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\tvar c3 = maxColInRows[r3][minCol3];\n\t\t\t\t\t\t\t\t\tif (!bannedCols.Contains(c3))\n\t\t\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\t\t\tans = Math.Max(ans,\n\t\t\t\t\t\t\t\t\t\t\tmaxInRows[r1][minCol1] +\n\t\t\t\t\t\t\t\t\t\t\tmaxInRows[r2][minCol2] +\n\t\t\t\t\t\t\t\t\t\t\tmaxInRows[r3][minCol3]\n\t\t\t\t\t\t\t\t\t\t);\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tbannedCols.Remove(c2);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\n\t\t\t\tbannedCols.Remove(c1);\n\t\t\t}\n\t\t}\n\n\t\treturn ans;\n\t}\n}\n\n",
    "submit_ts": "1723908123",
    "subm_id": "1359139145"
}