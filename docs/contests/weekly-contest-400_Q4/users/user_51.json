{
    "username": "dream_boy",
    "submission": "class BitAndST {\n    int n;\n    vector<int> t;\n\n    void build(int v, int l, int r, const vector<int>& a) {\n        if (l == r) {\n            t[v] = a[l];\n        }\n        else {\n            int m = (l + r) / 2;\n            build(v * 2, l, m, a);\n            build(v * 2 + 1, m + 1, r, a);\n            t[v] = t[v * 2] & t[v * 2 + 1];\n        }\n    }\n\n    int query(int v, int l, int r, int ql, int qr) {\n        if (l > qr || r < ql) {\n            return (1 << 30) - 1;\n        }\n        if (l >= ql && r <= qr) {\n            return t[v];\n        }\n        int m = (l + r) / 2;\n        return query(v * 2, l, m, ql, qr) & query(v * 2 + 1, m + 1, r, ql, qr);\n    }\n\n    void update(int v, int l, int r, int pos, int val) {\n        if (l == r) {\n            t[v] = val;\n        }\n        else {\n            int m = (l + r) / 2;\n            if (pos <= m) {\n                update(v * 2, l, m, pos, val);\n            }\n            else {\n                update(v * 2 + 1, m + 1, r, pos, val);\n            }\n            t[v] = t[v * 2] & t[v * 2 + 1];\n        }\n    }\n\npublic:\n    BitAndST(const vector<int>& a) {\n        n = a.size();\n        t.resize(4 * n);\n        build(1, 0, n - 1, a);\n    }\n\n    int query(int l, int r) {\n        return query(1, 0, n - 1, l, r);\n    }\n\n    void update(int pos, int val) {\n        update(1, 0, n - 1, pos, val);\n    }\n};\n\n\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int ans = 1e9, n = nums.size();\n        BitAndST st(nums);\n\n        for (int i = 0; i < n; i++) {\n            int lo = i, hi = n - 1;\n            while (lo < hi) {\n                int mid = (lo + hi) / 2;\n                if (st.query(i, mid) <= k) hi = mid;\n                else lo = mid + 1;\n            }\n\n            ans = min(ans, abs(k - st.query(i, lo)));\n            if (lo - 1 >= i) ans = min(ans, abs(k - st.query(i, lo - 1)));\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1717297170",
    "subm_id": "1274733196"
}