{
    "username": "pK2015",
    "submission": "class Solution {\n    DLL dll;\n    Map<Integer,Node> map;\n    Solution(){\n        dll = new DLL();\n        map = new HashMap<>();\n    }\n\n    public int[] shortestDistanceAfterQueries(int n, int[][] queries) {\n        for(int i = 0; i<n; i++){\n            Node node = dll.add(i);\n            map.put(i, node);\n        }\n        \n        int ai = 0;\n        int[] ans = new int[queries.length];\n\n        for(int[] query: queries) {\n            int a = query[0];\n            int b = query[1];\n            dll.deleteBetween(a, b, map);\n            \n            ans[ai++] = dll.sz - 1;\n        }\n\n        return ans;\n    }\n}\n\nclass Node {\n    int value;\n    Node next;\n    Node prev;\n    Node(int value) {\n        this.value = value;\n    }\n}\n\nclass DLL {\n    Node head;\n    Node tail;\n    int sz;\n    DLL() {\n        head = new Node(-1);\n        tail = new Node(-1);\n        head.next = tail;\n        tail.prev = head;\n    }\n\n    Node add(int x) {\n        Node tailprev = tail.prev;\n        Node node = new Node(x);\n        tailprev.next = node;\n        node.prev = tailprev;\n        node.next = tail;\n        tail.prev = node;\n        sz++;\n        return node;\n    }\n\n    void delete(Node node) {\n        if(node.next == null) System.out.println(node.value);\n        Node prev = node.prev;\n        Node next = node.next;\n        prev.next = next;\n        next.prev = prev;\n        sz--;\n    }\n\n    void deleteBetween(int a, int b, Map<Integer,Node> map) {\n        if(map.get(a) == null || map.get(b) == null) return;\n        Node cur = map.get(a).next;\n        Node last = map.get(b);\n        while(cur != last) {\n            Node nxt = cur.next;\n            delete(cur);\n            map.remove(cur.value);\n            cur = nxt;\n        }\n    }\n}",
    "submit_ts": "1722742345",
    "subm_id": "1343766807"
}