{
    "username": "_ace01",
    "submission": "class Solution {\npublic:\n    void add(vector<int> &v, int x){\n        int i=0;\n        while(x>0){\n            v[i]+=x%2;\n            x=x/2;\n            i++;\n        }\n    }\n    void remove(vector<int> &v, int x){\n        int i=0;\n        while(x>0){\n            v[i]-=x%2;\n            x=x/2;\n            i++;\n        }\n    }\n    bool equal(vector<int> &v, int x, int n){\n        int i=0;\n        // for(auto &el: v){\n        //     cout<<el<<\" \";\n        // }\n        // cout<<x<<\" \"<<n;\n        while(i<31){\n            if(x%2==1){\n                if(v[i]!=n){\n                    return false;\n                }\n            }\n            else{\n                if(v[i]==n){\n                    return false;\n                }\n            }\n            x=x/2;\n            i++;\n        }\n        return true;\n    }\n    long long find2(vector<int> &v, int k){\n        long long i,j,n=v.size(),ans=0;\n        vector<int> v2(32,0);\n        for(i=0,j=0;j<n;j++){\n            add(v2,v[j]);\n            while(i<=j&&equal(v2,k,j-i+1)){\n                // cout<<\"hi\";\n                ans+=n-j;\n                // cout<<ans<<\" \";\n                remove(v2,v[i]);\n                i++;\n            }\n        }\n        return ans;\n    }\n    // long long find(vector<int> &v,int k){\n    //     long long n=v.size();\n    //     vector<int> v2;\n    //     long long ans=(n*(n+1))/2,c=0;\n    //     for(int i=0;i<n;i++){\n    //         if(v[i]!=0){\n    //             v2.push_back(v[i]);\n    //             c++;\n    //         }\n    //         else{\n    //             ans-=(c*(c+1))/2;\n    //             ans+=find2(v2,k);\n    //             c=0;\n    //         }\n    //     }\n    //     ans-=(c*(c+1))/2;\n    //     return ans;\n    // }\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long ans=0;\n        vector<int> v;\n        for(int i=0;i<nums.size();i++){\n            if(nums[i]==k){\n                v.push_back(nums[i]);\n            }\n            else if((nums[i]&k)==k){\n                v.push_back(nums[i]);\n            }\n            else{\n                if(!v.empty()){\n                    ans+=find2(v,k);\n                    v.clear();\n                }\n            }\n        }\n        if(!v.empty()){\n            // int x=find2(v,k);\n            // cout<<x<<\" \";\n            // ans+=x;\n            ans+=find2(v,k);\n            v.clear();\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720281514",
    "subm_id": "1311827966"
}