{
    "username": "shikata-akiko-fans",
    "submission": "class Solution:\n    def timeTaken(self, edges: List[List[int]]) -> List[int]:\n        n = len(edges) + 1\n\n        graph = defaultdict(lambda : defaultdict(int))\n\n        for u, v in edges:\n            graph[u][v] = 1 if v & 1 else 2\n            graph[v][u] = 1 if u & 1 else 2\n\n        # down1 \u7528\u4e8e\u8bb0\u5f55\u5411\u4e0b\u8d70\u7684\u6700\u957f\u8def\u5f84 \n        down1 = [0] * n\n        # down2 \u7528\u4e8e\u8bb0\u5f55\u5411\u4e0b\u8d70\u7684\u6b21\u957f\u8def\u5f84\n        down2 = [0] * n\n\n        p = [0] * n\n\n        # \u81ea\u5e95\u5411\u4e0a\u8bb0\u5f55\u6700\u957f\u8def\u5f84\u3001\u6b21\u957f\u8def\u5f84\n        def dfs(u, fa):\n            for v, w in graph[u].items():\n                if v == fa:\n                    continue\n\n                # \u81ea\u5e95\u5411\u4e0a\u7edf\u8ba1\u4fe1\u606f\n                dfs(v, u)\n\n                height = down1[v] + w\n\n                if height >= down1[u]:\n                    down2[u] = down1[u]\n                    down1[u] = height\n                    p[u] = v\n\n                elif height > down2[u]:\n                    down2[u] = height\n\n        # \u8fdb\u884c\u6362\u6839\u52a8\u6001\u89c4\u5212\uff0c\u81ea\u9876\u5411\u4e0b\u7edf\u8ba1\u5411\u4e0a\u8d70\u7684\u6700\u957f\u8def\u5f84\n        up = [0] * n \n\n        def reroot(u, fa):\n            for v, w in graph[u].items():\n                if v == fa:\n                    continue\n\n                if p[u] == v:\n                    up[v] = max(up[u], down2[u]) + graph[v][u]\n                else:\n                    up[v] = max(up[u], down1[u]) + graph[v][u]\n                \n                # \u81ea\u9876\u5411\u4e0b\u7edf\u8ba1\u4fe1\u606f\n                reroot(v, u)                            \n\n        dfs(0, -1)\n        reroot(0, -1)\n\n        # \u627e\u5230\u6240\u6709\u6811\u4e2d\u7684\u6700\u5c0f\u9ad8\u5ea6\n        res = [0] * n \n\n        for i in range(n):\n            res[i] = max(down1[i], up[i])\n\n        return res\n\n\n",
    "submit_ts": "1722699012",
    "subm_id": "552273629"
}