{
    "username": "kumarapoorv617",
    "submission": "\nconstexpr int mod = (int)1e9 + 7;\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        vector<int> F(n, -1);\n        for(auto &v: requirements)  F[v[0]] = v[1];\n        \n        int m = (n * (n - 1) / 2);\n        vector<int64_t> dp(m + 1);  dp[0] = 1;\n        int s = 0;\n        for(int i = 0 ; i < n ; ++i) {\n            if(F[i] != -1) {\n                for(int j = 0 ; j < m ; ++j) if(j != F[i]) {\n                    dp[j] = 0;\n                }\n            }\n            if(i == n - 1)  break;\n            for(int j = 1 ; j <= m ; ++j) {\n                dp[j] += dp[j - 1];\n            }\n            vector<int64_t> ndp(m + 1);\n            for(int x = m ; x >= 0 ; --x) {\n                int r = x, l = x - i - 2;\n                ndp[x] += dp[r];\n                if(l >= 0)  ndp[x] -= dp[l];\n                ndp[x] += mod;\n                ndp[x] %= mod;\n                // cout << x << \" \" << dp[r] << \" \" << ndp[x] << \" \" << l << '\\n';\n            }\n            dp.swap(ndp);\n        }\n        return dp[F[n - 1]];\n    }\n};",
    "submit_ts": "1719067878",
    "subm_id": "1296744254"
}