{
    "username": "Malay_28",
    "submission": "class Solution {\npublic:\n    vector<int>seg;\n    int func(int i,int rl,int rr,int ql,int qr)\n    {\n        if(rl>qr||ql>rr)return INT_MAX;\n        if(ql<=rl&&rr<=qr)return seg[i];\n        int m=(rr+rl)/2;\n        return func(2*i,rl,m,ql,qr)&func(2*i+1,m+1,rr,ql,qr);\n    }\n    long long countSubarrays(vector<int>& a, int k) {\n        int n=a.size();\n\n        int sz=n;\n        while(sz&(sz-1))sz++;\n        seg.clear();\n        seg.resize(2*sz,INT_MAX);\n\n        for(int i=0;i<n;i++)\n        {\n            seg[i+sz]=a[i];\n        }\n        for(int i=sz-1;i>=1;i--)\n        {\n            seg[i]=seg[2*i]&seg[2*i+1];\n        }\n        long long int ans=0;\n        for(int i=0;i<n;i++)\n        {\n            int l=i,r=n;\n            while(r-l>1)\n            {\n                int mid=(r+l)/2;\n                if(func(1,0,sz-1,i,mid)>=k)\n                {\n                    l=mid;\n                }\n                else\n                {\n                    r=mid;\n                }\n            }\n\n\n            int l2=i,r2=n;\n            while(r2-l2>1)\n            {\n                int mid=(r2+l2)/2;\n                if(func(1,0,sz-1,i,mid)>k)\n                {\n                    l2=mid;\n                }\n                else\n                {\n                    r2=mid;\n                }\n            }\n            // cout<<l<<\" \"<<l2<<endl;\n            if(func(1,0,sz-1,i,l2)==k)\n            {\n                l2--;\n            }\n            if(func(1,0,sz-1,i,l)==k)\n            {\n                ans+=(l-l2);\n            }\n\n\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278760",
    "subm_id": "1311723050"
}