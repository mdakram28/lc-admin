{
    "username": "sheepforever",
    "submission": "#define REP(i,n) for(int i=0;i<n;i++)\n#define TR(i,x) for(__typeof(x.begin()) i=x.begin();i!=x.end();i++)\n#define ALL(x) x.begin(),x.end()\n#define SORT(x) sort(ALL(x))\n#define CLEAR(x) memset(x,0,sizeof(x))\n#define FILL(x,c) memset(x,c,sizeof(x))\n \nusing namespace std;\n \n#define PB push_back\n#define MP make_pair\n \ntypedef map<int,int> MII;\ntypedef map<string,int> MSI;\ntypedef vector<int> VI;\ntypedef vector<string> VS;\ntypedef vector<long double> VD;\ntypedef pair<int,int> PII;\ntypedef long long int64;\ntypedef long long LL;\ntypedef unsigned int UI;\ntypedef long double LD;\ntypedef unsigned long long ULL;\n \ntemplate <typename A, typename B>\nostream& operator <<(ostream& out, const pair<A, B>& a) {\n  out << \"(\" << a.first << \",\" << a.second << \")\";\n  return out;\n}\ntemplate <typename T, size_t N>\nostream& operator <<(ostream& out, const array<T, N>& a) {\n  out << \"[\"; bool first = true;\n  for (auto& v : a) { out << (first ? \"\" : \", \"); out << v; first = 0;} out << \"]\";\n  return out;\n}\ntemplate <typename T>\nostream& operator <<(ostream& out, const vector<T>& a) {\n  out << \"[\"; bool first = true;\n  for (auto v : a) { out << (first ? \"\" : \", \"); out << v; first = 0;} out << \"]\";\n  return out;\n}\ntemplate <typename T, class Cmp>\nostream& operator <<(ostream& out, const set<T, Cmp>* a) {\n  out << \"{\"; bool first = true;\n  for (auto& v : *a) { out << (first ? \"\" : \", \"); out << v; first = 0;} out << \"}\";\n  return out;\n}\ntemplate <typename T, class Cmp>\nostream& operator <<(ostream& out, const set<T, Cmp>& a) {\n  out << \"{\"; bool first = true;\n  for (auto& v : a) { out << (first ? \"\" : \", \"); out << v; first = 0;} out << \"}\";\n  return out;\n}\ntemplate <typename T, class Cmp>\nostream& operator <<(ostream& out, const multiset<T, Cmp>& a) {\n  out << \"{\"; bool first = true;\n  for (auto& v : a) { out << (first ? \"\" : \", \"); out << v; first = 0;} out << \"}\";\n  return out;\n}\ntemplate <typename U, typename T, class Cmp>\nostream& operator <<(ostream& out, const map<U, T, Cmp>& a) {\n  out << \"{\"; bool first = true;\n  for (auto& p : a) { out << (first ? \"\" : \", \"); out << p.first << \":\" << p.second; first = 0;} out << \"}\";\n  return out;\n}\n\n\nconst int MOD = 1000000007;\n\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        \n        vector<int> dp(1001, 0), next(1001, 0), sum(1001, 0);\n        for (int i = 0; i <= nums[0]; ++i) {\n            dp[i] = 1;\n        }\n        for (int i = 1; i < n; ++i) {\n            int val = nums[i];\n            \n            sum[0] = 0;\n            for (int i = 0; i <= 1000; ++i) {\n                sum[i] = dp[i];\n                if (i > 0) {\n                    sum[i] = (sum[i] + sum[i - 1]) % MOD;\n                }\n            }\n            \n            fill(next.begin(), next.end(), 0);\n            for (int j = 0; j <= nums[i]; ++j) {\n                int low = nums[i - 1] - nums[i] + j;\n                low = min(low, j);\n                if (low >= 0) {\n                    next[j] = sum[low];\n                }\n                // if (low <= j) {\n                //     int res = sum[j];\n                //     if (low > 0) {\n                //         res -= sum[low - 1];\n                //     }\n                //     next[j] = res % MOD;\n                // }\n            }\n            dp.swap(next);\n        }\n        \n        int ans = 0;\n        for (auto v : dp) {\n            ans = (ans + v) % MOD;\n        }\n        return (ans + MOD) % MOD;\n    }\n};",
    "submit_ts": "1723344763",
    "subm_id": "1351541516"
}