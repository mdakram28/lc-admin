{
    "username": "PARTH_KP",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n//#include <ext/pb_ds/assoc_container.hpp>\n//#include <ext/pb_ds/tree_policy.hpp>\n//using namespace __gnu_pbds;\n// #define int long long\n#define read(arr,n) vector<int>arr(n); for(int i=0;i<n;i++)cin>>arr[i];\n#define sortv(x) sort(x.begin(),x.end());\n#define sorta(x,n) sort(x,x+n);\n#define fori(i,x,n) for(int i=x;i<n;i++)\n#define fore(i,x,n) for(int i=n-1;i>=x;i--)\n#define gcd(a,b) __gcd(a,b)\n#define pb push_back\n#define um unordered_map\n#define maxheap(type) priority_queue<type>;\n#define minheap(type) priority_queue<type,vector<type>,greater<type>>;\n#define cout(v) for(auto &i : v) cout<<i<<\" \"; cout<<endl;\n#define maxe(v) max_element(v.begin(),v.end())\n#define mine(v) min_element(v.begin(),v.end())\n#pragma GCC target(\"popcnt\")\n//typedef tree<int,null_type,less<int>,rb_tree_tag,tree_order_statistics_node_update>ordered_set;\n\nclass seg_tree{\n\t\tpublic:\nvector<int>seg;\nseg_tree(int n)\n{\n\t\tseg.resize(4*n+1);\n}\nvoid build(int ind,int low,int high,vector<int>&arr)\n{\n\t\tif(low==high)\n\t\t{\n\t\t\t\tseg[ind]=arr[low];\n\t\t\t\treturn;\n\t\t}\n\t\tint mid=(low+high)/2;\n\t\tbuild(2*ind+1,low,mid,arr);\n\t\tbuild(2*ind+2,mid+1,high,arr);\n\t\tseg[ind]=seg[2*ind+1]&seg[2*ind+2];\n}\nint query(int ind,int low,int high,int l,int r)\n{\n\t\tif(r<low || l>high)return INT_MAX;\n\t\tif(low>=l && high<=r)return seg[ind];\n\t\tint mid=(low+high)>>1;\n\t\tint left=query(2*ind+1,low,mid,l,r);\n\t\tint right=query(2*ind+2,mid+1,high,l,r);\n\t\treturn left&right;\n}\nvoid update(int ind,int low,int high,int i,int val)\n{\n\t\tif(low==high)\n\t\t{\n\t\t\t\tseg[ind]=val;\n\t\t\t\treturn;\n\t\t}\n\t\tint mid =(low+high)>>1;\n\t\tif(i<=mid)update(2*ind+1,low,mid,i,val);\n\t\telse\n\t\tupdate(2*ind+2,mid+1,high,i,val);\n\n\t\tseg[ind]=min(seg[2*ind+1],seg[2*ind+2]);\n}\n};\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n\t\t\t\tlong long ans=0;\n\t\t\t\tseg_tree s(n);\n\t\t\t\ts.build(0,0,n-1,nums);\n\t\t\t\tfor(int i=0;i<n;i++)\n\t\t\t\t{\n\t\t\t\t\t\tint l=i;\n\t\t\t\t\t\tint h=n-1;\n\t\t\t\t\t\tint ind1=n;\n\t\t\t\t\t\tint ind2=n;\n\t\t\t\t\t\twhile(l<=h)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tint mid=(l+h)/2;\n\t\t\t\t\t\t\tif(s.query(0,0,n-1,i,mid)>(k-1)){\n\t\t\t\t\t\t\t\tl=mid+1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tind1=mid;\n\t\t\t\t\t\t\t\th=mid-1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tl=i;\n\t\t\t\t\t\th=n-1;\n\t\t\t\t\t\twhile(l<=h)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tint mid=(l+h)/2;\n\t\t\t\t\t\t\tif(s.query(0,0,n-1,i,mid)>k){\n\t\t\t\t\t\t\t\tl=mid+1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\telse\n\t\t\t\t\t\t\t{\n\t\t\t\t\t\t\t\tind2=mid;\n\t\t\t\t\t\t\t\th=mid-1;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\tans+=1LL*(ind1-ind2);\n\t\t\t\t}\n\t\t\t\treturn ans;\n\n    }\n};",
    "submit_ts": "1720279109",
    "subm_id": "1311737817"
}