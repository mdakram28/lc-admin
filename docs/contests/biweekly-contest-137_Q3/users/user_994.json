{
    "username": "Pika",
    "submission": "const long long INF = 1e15;\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        long long n = board.size(),m = board[0].size();\n        vector<multimap<long long,long long>> rows(n);\n        for(long long i=0;i<n;i++) {\n            for(long long j=0;j<m;j++) {\n                if(rows[i].size()==3) {\n                    if(board[i][j]>(rows[i].begin())->first) {\n                        rows[i].erase(rows[i].begin());\n                    }\n                    else continue;\n\n                }\n                rows[i].insert({board[i][j],j});\n            }\n            assert(rows[i].size()==3);\n            // for(auto x:rows[i]) {\n            //     cout << i << \" \" << x.first<< \" \" << x.second << endl;\n            // }\n        }\n        long long res = -INF;\n        for(long long i=0;i<n;i++ ) {\n            for(long long j=0;j<m;j++){\n                long long a = board[i][j];\n                long long ex = -INF;\n                long long c1mx = -INF,c2mx = -INF;\n                long long c1 = -1,c2 =-1;\n                for(long long ii=0;ii<n;ii++) {\n                    if(ii==i) continue;\n                    for(auto x:rows[ii]) {\n                        if(x.second==j) continue;\n                        if(c1!=x.second) ex = max(ex,c1mx+x.first);\n                        else ex = max(ex,c2mx+x.first);\n                    }\n                    for(auto x:rows[ii]) {\n                        if(x.second==j) continue;\n                        if(x.first>c1mx) {\n                            if(c1!=x.second) {c2mx = c1mx;c2=c1;}\n                            c1mx = x.first;\n                            c1 = x.second;\n                        }\n                        else if(x.first>c2mx && x.second!=c1) {\n                            c2 = x.second;\n                            c2mx = x.first;\n                        }\n                    }\n                    // cout << i << \" \" << j << \" \" << ii<< \" \"<< c1mx << \" \" << c2mx << \" \" << ex << endl;\n                }\n                // for(long long ii=0;ii<n;ii++) {\n                //     if(ii==i) continue;\n                    \n                // }\n\n            res = max(res,a+ex);\n            }\n        }   \n        return res;\n    }\n};",
    "submit_ts": "1723909216",
    "subm_id": "1359184030"
}