{
    "username": "zhou-zhou-36",
    "submission": "class Solution {\npublic:\n    long long Calc(vector<int> &a)\n    {\n        int n=a.size();\n        vector<array<int,2>> vp(n);\n        for(int i=0;i<n;++i)\n        {\n            vp[i][0]=a[i];\n            vp[i][1]=i;\n        }\n        sort(vp.begin(),vp.end());\n        int lasth=0;\n        int ip=0;\n        long long ans=0;\n        map<int,int> m;\n        m[n-1]=0;\n        for(;ip<n;)\n        {\n            int currh=vp[ip][0];\n            ans+=(currh-lasth)*(long long)m.size();\n            for(;ip<n && vp[ip][0]==currh;++ip)\n            {\n                int idx=vp[ip][1];\n                auto it=m.lower_bound(idx);\n                if(it->first==it->second)\n                {\n                    m.erase(it);\n                }\n                else if(idx==it->second)\n                {\n                    it->second+=1;\n                }\n                else if(idx==it->first)\n                {\n                    m[it->first-1]=it->second;\n                    m.erase(it);\n                }\n                else\n                {\n                    m[idx-1]=it->second;\n                    it->second=idx+1;\n                }\n            }\n            lasth=currh;\n        }\n        return ans;\n    }\n    long long minimumOperations(vector<int>& nums, vector<int>& target) {\n        int n=nums.size();\n        vector<int> neg(n,0),pos(n,0);\n        for(int i=0;i<n;++i)\n        {\n            if(nums[i]>target[i])\n            {\n                neg[i]=nums[i]-target[i];\n            }\n            else if(nums[i]<target[i])\n            {\n                pos[i]=target[i]-nums[i];\n            }\n        }\n        return Calc(neg)+Calc(pos);\n    }\n};",
    "submit_ts": "1721532814",
    "subm_id": "548394452"
}