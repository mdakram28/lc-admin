{
    "username": "impiry",
    "submission": "public class Solution {\n    public int MinFlips(int[][] grid)\n    {\n        var result = 0;\n\n        for (int i = 0; i < grid.Length / 2; i++)\n        {\n            for (int j = 0; j < grid[0].Length / 2; j++)\n            {\n                var count = grid[i][j]\n                    + grid[i][grid[0].Length - 1 - j]\n                    + grid[grid.Length - 1 - i][j]\n                    + grid[grid.Length - 1 - i][grid[0].Length - 1 - j];\n\n                if (count <= 2)\n                {\n                    result += count;\n                }\n                else\n                {\n                    result += 4 - count;\n                }\n            }\n        }\n\n        var onesCount = 0;\n\n        var changedCount = 0;\n\n        if (grid.Length % 2 == 1)\n        {\n            for (int j = 0; j < grid[0].Length / 2; j++)\n            {\n                onesCount += grid[grid.Length / 2][j] + grid[grid.Length / 2][grid[0].Length - 1 - j];\n\n                if (grid[grid.Length / 2][j] != grid[grid.Length / 2][grid[0].Length - 1 - j])\n                {\n                    changedCount++;\n                }\n            }\n        }\n\n        if (grid[0].Length % 2 == 1)\n        {\n            for (int i = 0; i < grid.Length / 2; i++)\n            {\n                onesCount += grid[i][grid[0].Length / 2]\n                    + grid[grid.Length - 1 - i][grid[0].Length / 2];\n\n                if (grid[i][grid[0].Length / 2] != grid[grid.Length - 1 - i][grid[0].Length / 2])\n                {\n                    changedCount++;\n                }\n            }\n        }\n\n        result += changedCount;\n\n        if (onesCount % 4 != 0)\n        {\n            if (changedCount == 0)\n            {\n                result += 2;\n            }\n        }\n\n        if (grid.Length % 2 == 1\n            && grid[0].Length % 2 == 1\n            && grid[grid.Length / 2][grid[0].Length / 2] == 1)\n        {\n            result++;\n        }\n\n        return result;\n    }\n}",
    "submit_ts": "1722698907",
    "subm_id": "1343195594"
}