{
    "username": "AA_007",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    int mod=1e9+7;\n    ll dp[301][401];\n    ll solve(int index,int n,int cnt,vector<vector<int>>& requirements,vector<int>&v){\n        if(index==n)\n            return 1;\n        \n        int i=lower_bound(v.begin(),v.end(),index)-v.begin();\n        \n        if(cnt>requirements[i][1])\n            return 0;\n        \n         if(dp[index][cnt]!=-1)\n            return dp[index][cnt];\n        \n      \n        if(requirements[i][0]==index){\n            int j=requirements[i][1]-cnt;\n            \n            if(j<=index)\n                return dp[index][cnt]=solve(index+1,n,cnt+j,requirements,v)%mod;\n            else return 0;\n        }\n        \n        else{\n       \n        int ans=0;\n        for(int j=index;j>=0;j--){\n            if(cnt+j>45000) continue;\n            ans=(ans%mod+solve(index+1,n,cnt+j,requirements,v)%mod)%mod;\n          }\n            \n            return dp[index][cnt]=ans%mod;\n        }\n        \n        \n        \n        \n        \n    }\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        sort(requirements.begin(),requirements.end());\n        vector<int> v;\n        \n        for(auto i:requirements)\n            v.push_back(i[0]);\n        memset(dp,-1,sizeof(dp));\n        \n        return solve(0,n,0,requirements,v);\n    }\n};",
    "submit_ts": "1719071505",
    "subm_id": "1296848221"
}