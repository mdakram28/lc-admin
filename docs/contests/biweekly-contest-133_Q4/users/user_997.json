{
    "username": "priyanshu2400",
    "submission": "class Solution {\npublic:\n    \n    int mod = 1e9+7;\nint getInvCount(vector<int>& arr, int n)\n{\n    int inv_count = 0;\n    for (int i = 0; i < n - 1; i++)\n        for (int j = i + 1; j < n; j++)\n            if (arr[i] > arr[j])\n                inv_count++;\n\n    return inv_count;\n}\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        int maxinv = 400;\n        unordered_map<int,int> mp;\n        priority_queue<pair<int,int>> pq;\n        queue<int> q;\n        vector<int> bans;\n        for(auto it : requirements){\n            if(bans.size() <= 100){\n                bans.push_back(it[0]);\n            }\n            mp[it[0] + 1] = it[1];\n        }\n        sort(bans.begin(), bans.end());\n        vector<vector<long long>>\n            pc(n+1, vector<long long> (maxinv+1, 0));\n        int e3 = getInvCount(bans, bans.size());\n        pc[0][0] = 1;\n        int mini = 1e9;\n        int bb = -1e9;\n        for(int l = 1; l <= n; l++){\n            bb++;\n            q.push(l);\n            pq.push({l,l});\n            long long ansss = 0;\n            for(int iv = 0; iv <= 400; iv++){\n            \n                for( int np = 0; np < l; np++){\n                    int piv = iv - np;\n                    if(piv >= 0){\n                        pc[l][iv] = ( pc[l][iv] + pc[l-1][piv]) % mod;\n                    }\n                    if(!pq.empty()) pq.pop();\n                }\n                bb--;\n            }\n            for(auto it : bans){\n                ansss += it;\n            }\n            long long getAns = -1;\n            if(mp.count(l)){\n                if(!q.empty()){\n                    mini = min(mini,q.front());\n                }\n                int t = mp[l];\n                for(int i=0; i<= 400; i++){\n                    if(i != t){\n                        pc[l][i] = 0;\n                    }\n                }\n                getAns ++;\n            }\n        }\n        long long dd = 0;\n        sort(bans.begin(), bans.end());\n        for(auto it : bans)     {\n            dd++;\n        }\n            long long ans = 0;\n        for(long long count : pc[n]){\n            mini += (min(e3, 10));\n            ans = (ans + count) % mod;\n        }\n        mini++;\n        return ans;\n    }\n};",
    "submit_ts": "1719071467",
    "subm_id": "1296847405"
}