{
    "username": "user8557",
    "submission": "\nclass Solution {\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        const int n = nums.size();\n        map<int, vector<int>> m;\n        map<int, int> cntMap;\n        for (int i = 0; i < n / 2; i++) {\n            int j = n - i - 1;\n            int a = nums[i];\n            int b = nums[j];\n            int maxBecomeForOnce = max<int>({a, b, k - a, k - b});\n            int diff = abs(a - b);\n            m[diff].push_back(maxBecomeForOnce);\n        }\n        for (const auto &[diff,  vec] : m) {\n            cntMap[diff] = vec.size();\n        }\n        priority_queue<array<int, 2>> pq;\n        for (auto &[diff, vec] : m) {\n            sort(vec.begin(), vec.end());\n            pq.push(array<int, 2>{vec.back(), diff});\n        }\n        int res = n;\n        int twoCnt = n / 2;\n        for (auto riter = m.rbegin(); riter != m.rend(); riter++) {\n            int target = riter->first;\n            array<int, 2> tmp = {-1, -1};\n            {\n                while (!pq.empty()) {\n                    auto info = pq.top();\n                    int canBecome = info[0];\n                    int diff = info[1];\n                    if (canBecome >= target) {\n                        pq.pop();\n                        twoCnt--;\n                        m[diff].pop_back();\n                        if (!m[diff].empty()) {\n                            pq.push(array<int, 2>{m[diff].back(), diff});\n                        }\n                    } else if (diff == target) {\n                        pq.pop();\n                        tmp = info;\n                        twoCnt -= m[target].size();\n                    } else {\n                        break;\n                    }\n                }\n            }\n            int cur = n / 2 + twoCnt - cntMap[target];\n            res = min(res, cur);\n            if (tmp[0] != -1) {\n                pq.push(tmp);\n                twoCnt += m[target].size();\n            }\n        }\n        return res;\n    }\n};\n",
    "submit_ts": "1721488660",
    "subm_id": "548315473"
}