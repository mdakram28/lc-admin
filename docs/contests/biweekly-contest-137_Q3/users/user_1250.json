{
    "username": "Sameer Anand",
    "submission": "#define ll long long \nll dp[105][105][105][4];\n\nclass Solution {\npublic:\n\n    ll f(int i, int last1, int last2, int k, vector<vector<pair<ll,ll>>>& top3){\n        if(k<0)return -1e10;\n        if(i == top3.size()){\n            if(k != 0) return -1e10; \n            return 0; \n        }\n        if(dp[i][last1+1][last2+1][k] != -1) return dp[i][last1+1][last2+1][k];\n        \n        // No pick case\n        ll np = f(i+1, last1, last2, k, top3);\n\n        // Pick case\n        ll p = -1e10;\n\n        for(int j = 0; j < 3; ++j) {\n            int curr = top3[i][j].second;\n            if(curr == last1 || curr == last2) continue;\n\n            if(last1 == -1) {\n                p = max(p, top3[i][j].first + f(i+1, curr, -1, k-1, top3));\n            } else if(last2 == -1) {\n                p = max(p, top3[i][j].first + f(i+1, last1, curr, k-1, top3));\n            } else {\n                p = max(p, top3[i][j].first + f(i+1, last1, last2, k-1, top3));\n            }\n        }\n\n        return dp[i][last1+1][last2+1][k] = max(p, np);\n    }\n\n    ll maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size();\n        int m = board[0].size();\n        vector<vector<pair<ll,ll>>> top3(n, vector<pair<ll,ll>>(3));\n\n        for(int i = 0; i < n; ++i) {\n            vector<pair<ll,ll>> tmp;\n            for(int j = 0; j < m; ++j) {\n                tmp.push_back({board[i][j], j});\n            }\n            sort(tmp.begin(), tmp.end(), greater<pair<ll,ll>>());\n            for(int k = 0; k < 3; ++k) top3[i][k] = tmp[k];\n        }\n\n        memset(dp, -1, sizeof(dp));\n\n        return f(0, -1, -1, 3, top3);\n    }\n};\n",
    "submit_ts": "1723910079",
    "subm_id": "1359216589"
}