{
    "username": "bai-ci-2m",
    "submission": "class Solution {\npublic:\n    int minimumSum(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid.back().size();\n        vector<vector<vector<vector<int>>>> st(n, vector<vector<vector<int>>>(n, \n            vector<vector<int>>(m, vector<int>(m))));\n\n        vector<vector<vector<int>>> e(n, vector<vector<int>>(m, vector<int>(m, 50)));\n        vector<vector<vector<int>>> f(n, vector<vector<int>>(m, vector<int>(m, -1)));\n        for (int x = 0; x < n; ++x) for (int y1 = 0; y1 < m; ++y1) {\n            if (grid[x][y1]) e[x][y1][y1] = f[x][y1][y1] = y1;\n\n            for (int y2 = y1 + 1; y2 < m; ++y2) {\n                e[x][y1][y2] = e[x][y1][y2 - 1];\n                f[x][y1][y2] = f[x][y1][y2 - 1];\n                if (grid[x][y2] == 0) continue;\n                if (e[x][y1][y2] == 50) e[x][y1][y2] = y2;\n                f[x][y1][y2] = y2;\n            }\n        }\n\n        for (int y1 = 0; y1 < m; ++y1) for (int y2 = y1; y2 < m; ++y2) {\n            for (int x1 = 0; x1 < n; ++x1) {\n                int b = e[x1][y1][y2], y = f[x1][y1][y2];\n                int a = b == 50 ? 50 : x1, x = y == -1 ? -1 : x1;\n                if (a != 50) st[x1][x1][y1][y2] = (y - b + 1);\n\n                for (int x2 = x1 + 1; x2 < n; ++x2) {\n                    if (e[x2][y1][y2] != 50) {\n                        if (a == 50) a = x2;\n                        x = x2;\n                        b = min(b, e[x2][y1][y2]);\n                        y = max(y, f[x2][y1][y2]);\n                    }\n                    if (x != 50)\n                        st[x1][x2][y1][y2] = (x - a + 1) * (y - b + 1);\n                }\n            }\n        }\n\n        int ans = 1e5;\n        for (int y1 = 0; y1 < m; ++y1) for (int y2 = y1 + 1; y2 < m - 1; ++y2) {\n            ans = min(ans, st[0][n - 1][0][y1] + st[0][n - 1][y1 + 1][y2] + st[0][n - 1][y2 + 1][m - 1]);\n        } \n        for (int x1 = 0; x1 < n; ++x1) for (int x2 = x1 + 1; x2 < n - 1; ++x2) {\n            ans = min(ans, st[0][x1][0][m - 1] + st[x1 + 1][x2][0][m - 1] + st[x2 + 1][n - 1][0][m - 1]);\n        }\n        for (int x = 0; x < n - 1; ++x) for (int y = 0; y < m - 1; ++y) {\n            ans = min(ans, st[0][x][0][y] + st[0][x][y + 1][m - 1] + st[x + 1][n - 1][0][m - 1]);\n            ans = min(ans, st[0][x][0][m - 1] + st[x + 1][n - 1][0][y] + st[x + 1][n - 1][y + 1][m - 1]);\n\n            ans = min(ans, st[0][x][0][y] + st[x + 1][n - 1][0][y] + st[0][n - 1][y + 1][m - 1]);\n            ans = min(ans, st[0][n - 1][0][y] + st[0][x][y + 1][m - 1] + st[x + 1][n - 1][y + 1][m - 1]);\n        }\n        return ans;\n    }\n};\n",
    "submit_ts": 1719114540.0
}