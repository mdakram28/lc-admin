{
    "username": "jtcheng26",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        // vector<int> dp(n);\n        int ans = abs(k - nums[0]);\n        for (int i=1;i<n;i++) {\n            ans = min(ans, abs(nums[i] - k));\n        }\n        int s = 0;\n        while (s * s < n) s++;\n        vector<vector<int>> adpfx(s, vector<int>(s, 0));\n        vector<vector<int>> adsfx(s, vector<int>(s, 0));\n        for (int i=0;i<s;i++) {\n            for (int j=0;j<s;j++) {\n                if (i * s + j >= n) break;\n                if (j == 0) adpfx[i][j] = nums[i * s + j];\n                else adpfx[i][j] = nums[i * s + j] & adpfx[i][j-1];\n            }\n        }\n        for (int i=0;i<s;i++) {\n            for (int j=min(s-1, n - 1 - i * s);j>=0;j--) {\n                if (j == min(s-1, n - 1 - i * s)) adsfx[i][j] = nums[i * s + j];\n                else adsfx[i][j] = nums[i * s + j] & adsfx[i][j+1];\n            }\n        }\n        \n//         for (int i=0;i<s;i++) {\n//             for (int j=0;j<=min(s-1, n - 1 - i * s);j++) {\n//                 cout << adpfx[i][j] << \" \";\n//             }\n//             cout << \" | \";\n//         }\n//         cout << \"\\n\";\n        \n//         for (int i=0;i<s;i++) {\n//             for (int j=0;j<=min(s-1, n - 1 - i * s);j++) {\n//                 cout << adsfx[i][j] << \" \";\n//             }\n//             cout << \" | \";\n//         }\n//         cout << \"\\n\";\n        \n        // dp[0] = nums[0];\n        \n        for (int i=0;i<n;i++) {\n            int l = 0;\n            int r = i+1;\n            while (l < r) {\n                int m = (l + r) / 2;\n                int b = adpfx[i / s][i % s];\n                if (i / s == m / s) {\n                    b = nums[m];\n                    for (int j=m+1;j<=i;j++) b &= nums[j];\n                } else {\n                for (int j=m/s+1;j<i/s;j++) b &= adpfx[j][s-1];\n                if (m / s < i / s) b &= adsfx[m / s][m % s];\n                }\n                if (b <= k) {\n                    ans = min(ans, abs(k - b));\n                    l = m + 1;\n                } else {\n                    ans = min(ans, abs(k - b));\n                    r = m;\n                }\n                // cout << m << \" \" << i << \" \" << b << \" \" << \" \" << k <<  ans << \"\\n\";\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": 1717298274.0
}