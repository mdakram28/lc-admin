{
    "username": "heartunderblade",
    "submission": "class Solution\n{\npublic:\n    int minFlips(vector<vector<int>> const &g)\n    {\n        int const m = g.size(), n = g.front().size(), m_half = m / 2, n_half = n / 2;\n        int cnt = 0, one_count = 0, diff_count = 0;\n\n        for (int i = 0; i != m_half; ++i)\n        for (int j = 0, cnts[2]; j != n_half; ++j)\n        {\n            memset(cnts, 0, sizeof(cnts));\n            int const a = g[i][j], b = g[m - i - 1][j], c = g[i][n - j  -1], d = g[m - i - 1][n - j - 1];\n            ++cnts[a]; ++cnts[b]; ++cnts[c]; ++cnts[d];\n            cnt += min(cnts[0], cnts[1]);\n        }\n\n        if (m % 2 && n % 2 && g[m_half][n_half]) ++cnt;\n\n        if (m % 2) for (int j = 0; j != n_half; ++j)\n        {\n            int const lhs = g[m_half][j], rhs = g[m_half][n - j - 1];\n            if (lhs != rhs) ++diff_count; else if (lhs) ++one_count;\n        }\n\n        if (n % 2) for (int i = 0; i != m_half; ++i)\n        {\n            int const lhs = g[i][n_half], rhs = g[m - i - 1][n_half];\n            if (lhs != rhs) ++diff_count; else if (lhs) ++one_count;\n        }\n\n        if (one_count % 2 == 0)\n        {\n            cnt += diff_count;\n        }\n        else\n        {\n            if (diff_count) cnt += diff_count;\n            else cnt += 2;\n        }\n\n        return cnt;\n    }\n};",
    "submit_ts": "1722698089",
    "subm_id": "552269276"
}