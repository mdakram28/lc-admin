{
    "username": "gautam1124bihar",
    "submission": "class Solution {\npublic:\n    struct node{\n       long long a,b,c,d;\n       node(){\n        a =0 ,b = 0,c =0 ,d = 0;\n       }\n    };\n    int maximumSumSubsequence(vector<int>& nums, vector<vector<int>>& queries) {\n        /*\n            ||**************\n            **************||\n            ||************||\n            ***************        \n        */\n        using ll = long long;\n        int n = nums.size();\n        node t[n*4 + 5];\n        function<void(int,int,int)> built = [&](int index,int l,int r) -> void{\n            if(l == r){\n                int a_ = max(nums[l],0);\n                t[index].a = 0,t[index].b =0,t[index].c = 0,t[index].d = a_;\n                return;\n            }\n            int mid = (l + r)/2;\n            built(2*index,l,mid);\n            built(2*index + 1,mid + 1,r);\n            ll x  = 2*index,y = 2*index + 1;\n            ll a_ = max(t[x].a + t[y].a , t[x].c + t[y].d);\n            ll b_ = max(t[x].b + t[y].b, t[y].c + t[x].d);\n            ll c_ = max(t[x].a + t[y].c, t[x].c + t[y].b);\n            ll d_ = max(t[x].b + t[y].d, t[x].d + t[y].a);\n            t[index].a = a_,t[index].b =b_,t[index].c = c_,t[index].d = d_;        \n        };\n\n        function<void(ll,ll,ll,ll,ll)> update = [&](ll index,ll l,ll r,ll ind,ll val) -> void {\n            if(l > ind || ind > r)return;\n            if(l == r){\n                ll a_ = max(val,0LL);\n                t[index].a = 0,t[index].b =0,t[index].c = 0,t[index].d = a_;\n                return;\n            }\n            int mid = (l + r)/2;\n            update(2*index,l,mid,ind,val);\n            update(2*index + 1,mid + 1,r,ind,val);\n            ll x  = 2*index,y = 2*index + 1;\n            ll a_ = max(t[x].a + t[y].a , t[x].c + t[y].d);\n            ll b_ = max(t[x].b + t[y].b, t[y].c + t[x].d);\n            ll c_ = max(t[x].a + t[y].c, t[x].c + t[y].b);\n            ll d_ = max(t[x].b + t[y].d, t[x].d + t[y].a);\n            t[index].a = a_,t[index].b =b_,t[index].c = c_,t[index].d = d_; \n        };\n        \n        \n        built(1,0,n-1);\n\n        ll ans =0;\n        const int mod = 1e9 + 7;\n        for(auto vec:queries){\n            int ind = vec[0],val = vec[1];\n            update(1,0,n-1,ind,val);\n            ans += t[1].d;\n            ans %= mod;\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1716694350.0
}