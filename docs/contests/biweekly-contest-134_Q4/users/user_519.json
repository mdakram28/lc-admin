{
    "username": "Spencer_Danese",
    "submission": "class Solution {\n    public long countSubarrays(int[] nums, int k) {\n        List<Integer> inds=new ArrayList<Integer>();\n        inds.add(-1);\n        for(int i=0;i<nums.length;i++){\n            if((nums[i]&k)!=k)\n                inds.add(i);\n        }\n        inds.add(nums.length);\n        int[] goal=bits(k);\n        long res=0;\n        for(int i=0;i<inds.size()-1;i++){\n            if(inds.get(i)==nums.length-1)\n                break;\n            int start=inds.get(i)+1;\n            int end=start;    //cap=.get(i+1)-1 inclu\n            int[] curr=bits(nums[start]);\n            while(end<=inds.get(i+1)-1){\n                //System.out.println(end+\", \"+start+\", \"+curr[0]);\n                if(func(goal, curr, end-start+1)){\n                    //System.out.println(end+\", \"+curr[0]);\n                    while(start<=end && func(goal, curr, end-start+1)){\n                        res+=inds.get(i+1)-end;\n                        System.out.println(start+\" \"+end+\" \"+res);\n                        start++;\n                        int[] ths=bits(nums[start-1]);\n                        for(int j=0;j<30;j++)\n                            curr[j]-=ths[j];\n                    }\n                    if(start>end){\n                        end=start;\n                        if(start<nums.length)\n                            curr=bits(nums[end]);\n                        else\n                            break;\n                    }\n                }\n                else{\n                    end++;\n                    if(end==inds.get(i+1))\n                        break;\n                    int[] thss=bits(nums[end]);\n                    for(int j=0;j<30;j++)\n                            curr[j]+=thss[j];\n                }\n            }\n        }\n        return res;\n    }\n\n\n    public static int[] bits(int x){\n        int[] res=new int[30];\n        for(int i=0;i<30;i++){\n            res[i]=x%2;\n            x/=2;\n        }\n        return res;\n    }\n\n    public static boolean func(int[] goal, int[] curr, int len){\n        for(int i=0;i<30;i++){\n            if(goal[i]!=curr[i]/len)\n                return false;\n        }\n        return true;\n    }\n}",
    "submit_ts": "1720279205",
    "subm_id": "1311741863"
}