{
    "username": "fwyize",
    "submission": "type SparseTable struct {\n\tdata [][]int\n\tlog  []int\n}\n\n// \u6784\u5efa\u7a00\u758f\u8868\nfunc NewSparseTable(nums []int) *SparseTable {\n\tn := len(nums)\n\tlog := make([]int, n+1)\n\tfor i := 2; i <= n; i++ {\n\t\tlog[i] = log[i/2] + 1\n\t}\n\n\tk := log[n] + 1\n\tdata := make([][]int, n)\n\tfor i := range data {\n\t\tdata[i] = make([]int, k)\n\t}\n\n\tfor i := 0; i < n; i++ {\n\t\tdata[i][0] = nums[i]\n\t}\n\n\tfor j := 1; j < k; j++ {\n\t\tfor i := 0; i+(1<<j)-1 < n; i++ {\n\t\t\tdata[i][j] = data[i][j-1] & data[i+(1<<(j-1))][j-1]\n\t\t}\n\t}\n\n\treturn &SparseTable{data: data, log: log}\n}\n\n// \u533a\u95f4\u6309\u4f4d\u4e0e\u67e5\u8be2\nfunc (st *SparseTable) query(l, r int) int {\n\tj := st.log[r-l+1]\n\treturn st.data[l][j] & st.data[r-(1<<j)+1][j]\n}\n\nfunc minimumDifference(nums []int, k int) int {\n\tst := NewSparseTable(nums)\n\tn := len(nums)\n\t\n\tans := int(1e9)\n\tfor i := 0; i < n; i++ {\n\t\tl, r := i, n - 1\n\t\tfor l < r {\n\t\t\tmid := (l + r + 1) >> 1\n\t\t\tif st.query(i, mid) >= k {\n\t\t\t\tl = mid\n\t\t\t}else {\n\t\t\t\tr = mid - 1\n\t\t\t}\n\t\t}\n\t\tif st.query(i, l) >= k {\n\t\t\tans = min(ans, abs(k - st.query(i, l)))\n\t\t}\n\t\tl, r = i, n - 1\n\t\tfor l < r {\n\t\t\tmid := (l + r) >> 1\n\t\t\tif st.query(i, mid) < k {\n\t\t\t\tr = mid\n\t\t\t}else {\n\t\t\t\tl = mid + 1\n\t\t\t}\n\t\t}\n\t\tif st.query(i, l) < k {\n\t\t\tans = min(ans, abs(k - st.query(i, l)))\n\t\t}\n\t}\n\t\n\treturn ans\n}\n\nfunc abs(x int) int {\n\tif x < 0 {\n\t\treturn -x\n\t}\n\treturn x\n}",
    "submit_ts": 1717297181.0
}