{
    "username": "psshrivathsa784",
    "submission": "#define forz(i,a,b) for(int i = a;i<b;i++)\n#define N 2001\n#define mod 1000000007\n\ntypedef long long ll;\n\nll dp[N][1001]; // dp[i][j] is the number of ways to assign the first i indices monotonic with \n// the last element being j in array 1\nll pref[1002];\n\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n\n        forz(i,0,n){\n            forz(j,0,nums[i]+1){\n                dp[i][j] = 0;\n            }\n        }\n        pref[0] = 0;\n\n        forz(i,0,nums[0]+1){\n            dp[0][i] = 1;\n            pref[i+1] = pref[i]+1;\n        }\n\n        // For j, constraint on k :\n            //  k <= j\n            // nums[i-1]-k >= nums[i]-j or k <= nums[i-1]-nums[i]+j\n            // Hence,  k <= min(j, nums[i-1]-nums[i]+j)\n\n        forz(i,1,n){\n            forz(j,0,nums[i]+1){\n\n                int k = max(min(j, nums[i-1]-nums[i]+j)+1,0);\n                dp[i][j] = pref[k];\n                \n            }\n\n            forz(j,0,nums[i]+1){\n                pref[j+1] = (pref[j]+dp[i][j])%mod;\n            }\n        }\n\n        ll ans = 0;\n        forz(i,0,nums[n-1]+1){\n            ans += dp[n-1][i];\n            ans %= mod;\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1723346050",
    "subm_id": "1351569112"
}