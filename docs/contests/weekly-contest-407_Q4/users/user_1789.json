{
    "username": "dudeandcat",
    "submission": "class Solution {\n    public long minimumOperations(int[] nums, int[] target) {\n        int n = nums.length;\n        int[] diff = new int[n];\n        for (int i = n - 1; i >= 0; i--)\n            diff[i] = target[i] - nums[i];\n        long result = 0;\n        \n        int start = 0;\n        int sign = 0;\n        int newMin = Integer.MAX_VALUE;\n        for (int i = 0; i <= n; i++) {\n            if (i == n || diff[i] == 0) {\n                if (sign != 0) \n                    result += adjust(diff, start, i, newMin);\n                sign = 0;\n                newMin = Integer.MAX_VALUE;\n            } else if (diff[i] < 0) {\n                if (sign >= 0) {\n                    if (sign > 0) \n                        result += adjust(diff, start, i, newMin);\n                    start = i;\n                    newMin = Integer.MAX_VALUE;\n                    sign = -1;\n                }\n                newMin = Math.min(newMin, -diff[i]);\n            } else {\n                if (sign <= 0) {\n                    if (sign < 0)\n                        result += adjust(diff, start, i, newMin);\n                    start = i;\n                    newMin = Integer.MAX_VALUE;\n                    sign = +1;\n                }\n                newMin = Math.min(newMin, diff[i]);\n            }\n        }\n        return result;\n    }\n        \n        \n    private long adjust(int[] diff, int left, int right, int min) {\n        long total = min;\n        if (diff[left] >= 0) {\n            if (min != 0)\n                for (int i = left; i < right; i++)\n                    diff[i] -= min;\n            int start = 0;\n            int sign = 0;\n            int newMin = Integer.MAX_VALUE;\n            for (int i = left; i <= right; i++) {\n                if (i == right || diff[i] == 0) {\n                    if (sign != 0)\n                        total += adjust(diff, start, i, newMin);\n                    sign = 0;\n                    newMin = Integer.MAX_VALUE;\n                } else {\n                    if (sign == 0) {\n                        start = i;\n                        newMin = Integer.MAX_VALUE;\n                        sign = +1;\n                    }\n                    newMin = Math.min(newMin, diff[i]);\n                }\n            }\n        } else {\n            for (int i = left; i < right; i++)\n                diff[i] = -diff[i] - min;\n            total = min + adjust(diff, left, right, 0);\n        }\n        return total;\n    }\n}",
    "submit_ts": "1721533616",
    "subm_id": "1328012942"
}