{
    "username": "nitinsrichakri",
    "submission": "class Solution {\npublic:\n    int n, k;\n    vector<vector<int>> st;\n    int starting(int s,int val) \n    {\n        int lo=s,hi=n-1;\n        hi++;\n        while (lo < hi) \n        {\n            int mid=lo+(hi-lo)/2;\n            int L=s,R=mid;\n            int ok = (63 - __builtin_clzll(R-L+1));\n            int ans = (st[L][ok] & st[R-(1<<ok)+1][ok]);\n            if(ans<=val)hi=mid;\n            else lo=mid+1;\n        }\n        return lo;\n    }\n    int ending(int s,int val) \n    {\n        int lo=s,hi=n-1;\n        hi++;\n        while (lo < hi) \n        {\n            int mid=lo+(hi-lo)/2;\n            int L=s,R=mid;\n            int ok = (63 - __builtin_clzll(R-L+1));\n            int ans = (st[L][ok] & st[R-(1<<ok)+1][ok]);\n            if(ans<val)hi=mid;\n            else lo=mid+1;\n        }\n        return lo;\n    }\n    long long countSubarrays(vector<int>& a, int val) {\n        n = a.size();\n        k = ceil(log2(n));\n        st = vector<vector<int>>(n, vector<int>(k + 1, 0));\n        for (int i = 0; i < n; i++) \n            st[i][0]=a[i];\n        for (int i = 1; i <=k; i++) \n        {\n            for(int j=0;j+(1<<i)<=n;j++)\n                st[j][i] = (st[j][i-1] & st[j+(1<<(i-1))][i-1]);\n        }\n        long long ans=0;\n        for(int i=0;i<n;i++)\n        {\n            int s=starting(i,val),e=ending(i,val);\n            // cout << i << \" \" << s << \" \" << e << endl;\n            ans+=e-s;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280066",
    "subm_id": "1311775673"
}