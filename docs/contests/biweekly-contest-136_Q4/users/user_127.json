{
    "username": "U_U",
    "submission": "class Solution {\npublic:\n\n    vector< vector<int> > adj;\n    vector< vector< pair<int, int> > > dist;\n    vector<int> ans;\n    int n;\n\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n = edges.size() + 1;\n        adj.assign(n, vector<int>());\n        for (auto& item : edges)\n        {\n            adj[item[0]].push_back(item[1]);\n            adj[item[1]].push_back(item[0]);\n        }\n        dist = vector< vector< pair<int, int> > >(n);\n        ans = vector<int>(n, 0);\n        DFS0(0, -1);\n        DFS1(0, -1, 0);\n        return ans;\n    }\n\n    int DFS0(int u, int p)\n    {\n        int ret = 0;\n        for (auto& v : adj[u])\n        {\n            if (v == p) continue;\n            int delta = 0;\n            if (v % 2 == 1) delta = 1;\n            else delta = 2;\n            dist[u].push_back( {DFS0(v, u) + delta, v} );            \n        }\n        if (dist[u].size() == 0) return ret;\n\n        sort(dist[u].begin(), dist[u].end());\n        reverse(dist[u].begin(), dist[u].end());\n     //   cout << u << \",\" << ret + dist[u].begin()->first << endl;\n        return ret + dist[u].begin()->first;\n    }\n\n\n    void DFS1(int u, int p, int maxVal)\n    {        \n        ans[u] = maxVal;\n        if (dist[u].size() > 0) ans[u] = max(ans[u], dist[u][0].first);        \n\n        for (auto& v : adj[u])\n        {\n            if (v == p) continue;\n            int delta = 0;\n            if (u % 2 == 1) delta = 1;\n            else delta = 2;\n\n           // cout << v << endl;\n            int newMaxVal = maxVal;\n            if (dist[u].size() == 0)\n            {\n\n            }\n            else if (dist[u][0].second == v)\n            {\n                if (dist[u].size() > 1) newMaxVal = max(newMaxVal, dist[u][1].first);\n            }\n            else // dist[u][0].second != v\n            {\n                newMaxVal = max(newMaxVal, dist[u][0].first);\n            }\n\n            DFS1(v, u, delta + newMaxVal);\n        }\n    }\n};",
    "submit_ts": "1722698958",
    "subm_id": "1343197161"
}