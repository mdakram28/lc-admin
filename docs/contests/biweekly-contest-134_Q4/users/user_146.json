{
    "username": "shivambhagat02",
    "submission": "from math import log2\n\n\nclass SP:\n    \n    def func(self, a, b):\n        return a & b\n    \n    def __init__(self, a):\n        self.n = len(a)\n        self.st = [[0 for _ in range(self.n + 1)] for _ in range(20)]\n\n        self.st[0] = a.copy()\n        for i in range(1, self.n + 1):\n            j = 0\n            while j + (1 << i) <= self.n:\n                self.st[i][j] = self.func(self.st[i - 1][j], self.st[i - 1][j + (1 << (i - 1))])\n                j += 1\n\n    def query(self, L, R):\n        i = int(log2(R - L + 1))\n        return self.func(self.st[i][L], self.st[i][R - (1 << i) + 1])\n\nclass Solution:\n    def countSubarrays(self, a: List[int], k: int) -> int:\n        st = SP(a)\n        n = len(a)\n        ans = 0\n        \n        for i in range(n):\n            \n            l, h = 0, i\n\n            while l <= h:\n                m = (l + h) // 2\n                \n                if st.query(m, i) < k:\n                    l = m + 1\n                else:\n                    h = m - 1\n                    \n            L = h + 1\n            \n            l, h = 0, i\n\n            while l <= h:\n                m = (l + h) // 2\n                \n                if st.query(m, i) <= k:\n                    l = m + 1\n                else:\n                    h = m - 1\n            \n            R = l - 1\n            \n            # print(i, L, R)\n        \n            ans += max(0, R - L + 1)\n        \n        return ans\n            \n                \n                \n            ",
    "submit_ts": "1720278590",
    "subm_id": "1311715749"
}