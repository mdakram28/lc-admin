{
    "username": "DestinyGod",
    "submission": "typedef long long ll;\n#define int ll\ntypedef pair<int, int> pi;\ntypedef pair<pi, pi> pii;\ntypedef vector<vector<vector<int>>> viii;\ntypedef vector<vector<int>> vii;\ntypedef vector<int> vi;\n#define x first\n#define y second\nclass Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, signed k, vector<vector<signed>>& queries) {\n        int n=s.length();\n        vector<int>h(n),p(n);\n        int l=0,a=0,b=0;\n        for(int i=0;i<n;i++) {\n            a+=(s[i]=='0');\n            b+=(s[i]=='1');\n            while(a>k&&b>k) {\n                a-=(s[l]=='0');\n                b-=(s[l]=='1');\n                l++;\n            }\n            h[i]=l;\n            p[i]=i-l+1;\n        }\n        for(int i=1;i<n;i++) p[i]+=p[i-1];\n        vector<int>res;\n        for(auto &q:queries) {\n            int k=upper_bound(h.begin()+q[0],h.begin()+q[1]+1,q[0])-h.begin();\n            int t=k-q[0];\n            int ans=(1+t)*t/2+p[q[1]]-p[k-1];\n            res.push_back(ans);\n        }\n        return res;\n    }\n};\n#undef int",
    "submit_ts": "1723950234",
    "subm_id": "556397736"
}