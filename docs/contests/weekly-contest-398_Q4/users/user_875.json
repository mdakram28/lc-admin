{
    "username": "kzyKT",
    "submission": "#define F first\n#define S second\n#define R cin>>\n#define ll long long\n#define ln cout<<'\\n'\n#define in(a) insert(a)\n#define pb(a) push_back(a)\n#define pd(a) printf(\"%.10f\\n\",a)\n#define mem(a) memset(a,0,sizeof(a))\n#define all(c) (c).begin(),(c).end()\n#define iter(c) __typeof((c).begin())\n#define rrep(i,n) for(ll i=(ll)(n)-1;i>=0;i--)\n#define REP(i,m,n) for(ll i=(ll)(m);i<(ll)(n);i++)\n#define rep(i,n) REP(i,0,n)\n#define tr(it,c) for(iter(c) it=(c).begin();it!=(c).end();it++)\nll check(ll n,ll m,ll x,ll y){return x>=0&&x<n&&y>=0&&y<m;}void pr(){ln;}\ntemplate<class A,class...B>void pr(const A &a,const B&...b){cout<<a<<(sizeof...(b)?\" \":\"\");pr(b...);}\ntemplate<class A>void PR(A a,ll n){rep(i,n){if(i)cout<<' ';cout<<a[i];}ln;}\nconst ll MAX=1e9+7,MAXL=1LL<<61,dx[8]={-1,0,1,0,-1,-1,1,1},dy[8]={0,1,0,-1,-1,1,1,-1};\ntypedef pair<ll,ll> P;\n\nclass Solution {\npublic:\n  int waysToReachStair(int kk) {\n    ll k=kk;\n    ll ma[1<<16];mem(ma);\n    ll se[1<<15];mem(se);\n    ll ans=0;\n    rep(t,1<<15) {\n      ll s=1,r=0;\n      rep(i,15) {\n        ll f=0;\n        if(t&(1LL<<i)) {\n          s--;\n          r|=1LL<<i;\n        }\n        if(s==k) {\n          f=1;\n          if(!se[r]) ans++;\n        }\n        s+=1LL<<i;\n        if(s==k) {\n          f=1;\n          if(!se[r]) ans++;\n        }\n        if(f) se[r]=1;\n      }\n      ma[s]++;\n    }\n    mem(se);\n    rep(t,1<<15) {\n      ll s=0,r=0;\n      rep(i,15) {\n        ll f=0;\n        if(t&(1LL<<i)) {\n          s--;\n          r|=1LL<<i;\n        }\n        if(k-s>=0&&k-s<(1LL<<16)&&s) {\n          f=1;\n          if(!se[r]) ans+=ma[k-s];\n        }\n        s+=1LL<<(i+15);\n        if(k-s>=0&&k-s<(1LL<<16)) {\n          f=1;\n          if(!se[r]) ans+=ma[k-s];\n        }\n        if(f) se[r]=1;\n      }\n    }\n    return ans;\n  }\n};",
    "submit_ts": "1716088587",
    "subm_id": "1261818364"
}