{
    "username": "jugshaurya",
    "submission": "#define ll\t\t\t\t\t\t\t long long\nconst ll N = 100010;\n\nclass Solution {\npublic:\n   \n    ll tree[4 * N];\n    ll n;\n    void update(ll node, ll start, ll end, ll idx, ll val) {\n        if(start == end) {\n            tree[node] = val;\n            return;\n        }\n        ll mid = (start + end) / 2;\n        if(idx <= mid) update(2 * node, start, mid, idx, val);\n        else update(2 * node + 1, mid + 1, end, idx, val);\n        tree[node] = tree[2 * node] & tree[2 * node + 1];\n        return;\n    }\n\n    ll query(ll node, ll start, ll end, ll l, ll r) {\n        if(start > r || end < l) return ~0;\n        if(start >= l && end <= r) return tree[node];\n        ll mid = (start + end) / 2;\n        return query(2 * node, start, mid, l, r) & query(2 * node + 1, mid + 1, end, l, r);\n    }\n    \n    ll get(ll l, ll r){\n        return query(1, 0, n - 1, l, r);\n    }\n    \n    ll countSubarrays_gr_eq(vector<int>& nums, int k) {\n        ll l = 0; ll r = -1;\n        ll ans = 0;\n        \n        while(l < n){\n            while(r + 1 < n and get(l, r + 1) >= k){\n                r++;\n            }\n            \n            if(get(l, r) >= k) ans += (r - l + 1);\n            if(r < l){\n                l++;\n                r = l-1;\n            } else {\n                l++;\n            }\n        }\n        return ans;\n    }\n    \n    ll countSubarrays(vector<int> nums, int k) {\n        n = nums.size();\n        for(ll i = 0; i < n; i++) {\n            update(1, 0, n - 1, i, nums[i]);\n        }\n        // cout<<get(0,0)<<endl;\n        // cout<<get(0,1)<<endl;\n        // cout<<get(0,2)<<endl;\n        // cout<<get(1,1)<<endl;\n        // cout<<get(1,2)<<endl;\n        // cout<<get(2,2)<<endl;\n        // cout<<endl;\n        // cout<< countSubarrays_gr_eq(nums, k)<<endl;\n        // cout<< countSubarrays_gr_eq(nums, k-1)<<endl;\n        // cout<<endl;\n        return countSubarrays_gr_eq(nums, k) - countSubarrays_gr_eq(nums,k+1);\n    }\n};\n\n// ll main(){\n//     Solution s;\n//     cout<<s.countSubarrays({1,1,2}, 1)<<endl;\n// }",
    "submit_ts": "1720279725",
    "subm_id": "1311762655"
}