{
    "username": "raj_singh35",
    "submission": "class Solution {\npublic:\n    \n    int func(vector<int> &v , vector<int> &pre, int total_len , int len){\n       int ans = 0 , n = v.size() , cnt = len * len;\n       for(int i = len - 1 ; i < n ; i++){\n           int r = v[i] , l = v[i - len + 1];\n           int total = pre[r] - pre[l];\n           int left = 0;\n           if(i - len < 0) left = v[0];\n           else left = v[i - len + 1] - v[i - len] - 1;\n           int right = 0;\n           if(i + 1 < n) right = v[i + 1] - v[i] - 1;\n           else right = total_len - 1 - v[i];\n           // cout << \"naya\" << \":\" << left << \" \" << right << \"\\n\";\n           int ones = total;\n           int req = cnt - ones; \n           //cout << req << \"\\n\";\n           if(left > right) swap(left,  right);\n           for(int j = 0 ; j <= left ; j++){\n               int to_take = req - j;\n               if(to_take < 0){\n                   ans += right + 1;\n                   continue;\n               }\n               if(right < to_take) continue;\n               ans += right - to_take + 1;\n               // cout << right - to_take + 1 << \" \";\n           }        \n           // cout << \"\\n\";\n       }\n        \n        // cout << ans << \" \" << len << \"\\n\";\n       return ans;\n    }    \n    int numberOfSubstrings(string s) {\n        int n = s.size() , cnt = 0;\n        int ans = 0;\n        vector<int> v , pre(n , 0);\n        for(int i = 0 ; i < n ; i++){\n            if(s[i] == '0') v.push_back(i);\n            if(i) pre[i] = pre[i - 1] + s[i] - '0';\n            else pre[i] = s[i] - '0';\n        }\n        \n        for(int i = 0 ; i < n ; i++){\n            if(s[i] == '1') cnt++;\n            else{\n                ans += 1LL * cnt * (cnt + 1) / 2;\n                cnt = 0;\n            }\n        }\n        \n        if(cnt) ans += 1LL * cnt * (cnt + 1) / 2;\n        \n        for(int i = 1 ; i <= n ; i++){\n            if(1LL * i * i > n) continue;\n            ans += func(v , pre , n , i);\n        }  \n        return ans;\n    }\n};",
    "submit_ts": "1722138147",
    "subm_id": "1335783346"
}