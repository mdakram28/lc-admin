{
    "username": "yogman_amitkr",
    "submission": "using ll = long long ;\nusing ii = pair<ll,ll>;\n \nconst ll mod = 1e9+7;\n \n#define endl \"\\n\"\n#define pb push_back\n#define F first\n#define S second\n#define MP make_pair\n#define len(x) ((ll)((x).size()))\n#define rep(i,x) for(ll i=0;i<(x);i++)\n#define all(x) (x).begin(),(x).end()\n \n \nclass Solution {\npublic:\n    vector<vector<ll>> g;\n    ll n;\n    vector<ll> indp,outdp;\n    void dfs(ll node,ll par,ll par_edge){\n        indp[node]=0;\n        for(auto x:g[node]){\n            if(x==par)continue;\n            dfs(x,node, ((node&1)?1:2) );\n            indp[node]=max(indp[node] , indp[x] + ((x&1)?1:2));\n        }\n    }\n    void opp(ll node,ll par,ll par_1edge,ll gp){\n        if(par==-1){\n            outdp[node]=0;\n        }\n        else{\n            outdp[node]=max(outdp[node],outdp[par]+par_1edge);\n        }\n        ll mx1=-1,mx2=-1;\n        for(auto x:g[node]){\n            if(x==par)continue;\n            ll jk=((x&1)?1:2);\n            if(mx1<indp[x] + jk){\n                mx2=mx1;\n                mx1=indp[x] + jk;\n            }else if(mx2<indp[x] + jk){\n                mx2=indp[x]  + jk;\n            }\n        }\n        \n        ll par_edge= ((node&1)?1:2);\n        //cout<<node<<\";;\"<<mx1<<\" \"<<mx2<<\" \"<<par_edge<<endl;\n        for(auto x:g[node]){\n            if(x==par)continue;\n            ll jk=((x&1)?1:2);\n            if(indp[x]+jk==mx1){\n                outdp[x]=mx2 + par_edge;\n            }else{\n                outdp[x]=mx1 + par_edge;\n            }\n        }\n\n        for(auto x:g[node]){\n            if(x==par)continue;\n            opp(x,node, ((node&1)?1:2),par );\n        }\n    }\n    \n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n=0;\n        for(auto x:edges){\n            n=max({n,1ll*x[0],1ll*x[1]});\n        }\n        g.resize(n+1);\n        indp.resize(n+1);\n        outdp.resize(n+1);\n        for(auto x:edges){\n            g[x[0]].pb(x[1]);\n            g[x[1]].pb(x[0]);\n        }\n        dfs(0,-1,-1);\n        opp(0,-1,-1,-1);\n        vector<int> ans(n+1);\n        for(int i=0;i<=n;i++){\n        //    cout<<i<<\"?\"<<indp[i]<<\" \"<<outdp[i]<<endl;\n            ans[i]=max(indp[i],outdp[i]);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722700004",
    "subm_id": "1343228794"
}