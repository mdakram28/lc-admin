{
    "username": "aman_2005",
    "submission": "class Solution {\npublic:\n    vector<int> adj[100001];\n    vector<pair<int,int>> a[100001];\n    void store(int node,int par){\n        int mx1=0,ele1=-1,mx2=0,ele2=-1;\n        for(auto x:adj[node]){\n            if(x!=par){\n                store(x,node);\n                int mx=a[x][0].first;\n                int val=(x%2==0 ? 2 : 1);\n                val+=mx;\n                if(val>mx1){\n                    mx2=mx1,ele2=ele1;\n                    mx1=val,ele1=x;\n                }\n                else if(val>mx2){\n                    mx2=val,ele2=x;\n                }\n            }\n        }\n        a[node]={{mx1,ele1},{mx2,ele2}};\n    }\n    \n    void help(int node,int par,vector<int>& ans){\n        if(node==0){\n            ans[node]=a[node][0].first;\n        }\n        else{\n            int mx=0;\n            for(auto x:a[par]){\n                if(x.second!=-1 && x.second!=node){\n                    mx=max(mx,x.first);\n                }\n            }\n            int val=(par%2==0 ? 2 : 1);\n            val+=mx;\n            a[node].push_back({val,par});\n            sort(a[node].rbegin(),a[node].rend());\n            ans[node]=a[node][0].first;\n        }\n        for(auto x:adj[node]){\n            if(x!=par){\n                help(x,node,ans);\n            }\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        for(int i=1;i<=n;i++){\n            adj[i].clear();\n        }\n        for(auto x:edges){\n            adj[x[0]].push_back(x[1]);\n            adj[x[1]].push_back(x[0]);\n        }\n        store(0,-1);\n        vector<int> ans(n);\n        help(0,-1,ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722698329",
    "subm_id": "1343177149"
}