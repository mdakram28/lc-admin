{
    "username": "anton-pogonets",
    "submission": "class Solution {\n    fun minFlips(grid: Array<IntArray>): Int {\n        val n = grid.size\n        val m = grid[0].size\n\n        var switchedTuples = 0\n        var oneTuples = 0\n        var result = 0\n\n        // a b\n        // c d\n        for (i in 0 until (n + 1) / 2) {\n            for (j in 0 until (m + 1) / 2) {\n                val endI = n - i - 1\n                val endJ = m - j - 1\n\n                if (i == endI && j == endJ) {\n                    if (grid[i][j] == 1) {\n                        result++\n                    }\n\n                    continue\n                }\n\n                if (i == endI) {\n                    if (grid[i][j] != grid[i][endJ]) {\n                        result++\n                        switchedTuples++\n                    } else if (grid[i][j] == 1) {\n                        oneTuples++\n                    }\n                    continue\n                }\n\n                if (j == endJ) {\n                    if (grid[i][j] != grid[endI][j]) {\n                        result++\n                        switchedTuples++\n                    } else if (grid[i][j] == 1) {\n                        oneTuples++\n                    }\n                    continue\n                }\n\n                val a = grid[i][j]\n                val b = grid[i][endJ]\n                val c = grid[endI][j]\n                val d = grid[endI][endJ]\n\n                val sum = a + b + c + d\n                result += minOf(sum, 4 - sum)\n            }\n        }\n\n        if (oneTuples % 2 == 1 && switchedTuples == 0) {\n            result += 2\n        }\n\n        return result\n    }\n}",
    "submit_ts": "1722698795",
    "subm_id": "1343192070"
}