{
    "username": "jogarao_",
    "submission": "class Solution {\npublic:\n    \n    int cnt[100005][35];\n    int a[100005];\n    int n;\n    \n    long long countSubarrays(vector<int>& nums, int k) {\n        n=nums.size();\n        \n        for(int i=0;i<n;i++)\n            a[i+1]=nums[i];\n        \n        \n        for(int i=1;i<=n;i++)\n        {   \n            for(int j=0;j<=30;j++)\n            {    if(a[i]&(1<<j))\n                    cnt[i][j]=1;\n                else cnt[i][j]=0;\n                cnt[i][j]+=cnt[i-1][j];\n            }\n        }\n        long long ans=0;\n        for(int i=1;i<=n;i++){\n\n            int lo=i-1,hi=n;\n\n            while(lo<hi){\n                int md=(lo+hi+1)/2;\n                int req=md-i+1;\n                int ok=1;\n                for(int j=0;j<=30;j++)\n                {   if(k&(1<<j)){\n                        int s=cnt[md][j]-cnt[i-1][j];\n                        if(s!=req)\n                        {   ok=0;\n                            break;\n                        }\n                    }\n                }\n                if(ok==0)\n                    hi=md-1;\n                else lo=md;\n            }\n\n            int rt=lo;\n\n            lo=i;\n            hi=n+1;\n            while(lo<hi){\n                int md=(lo+hi)/2;\n                int req=md-i+1;\n                int ok=1;\n\n                for(int j=0;j<=30;j++){\n                    if(k&(1<<j)){\n\n                    }\n                    else\n                    {\n                        int s=cnt[md][j]-cnt[i-1][j];\n                        if(s==req)\n                        {   ok=0;\n                            break;\n                        }\n                    }\n                }\n                if(ok==0){\n                    lo=md+1;\n                }\n                else hi=md;\n            }\n            int lft=lo;\n            if(rt>=i && lft<=rt){\n\n\n                ans+=rt-lft+1;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279289",
    "subm_id": "1311745242"
}