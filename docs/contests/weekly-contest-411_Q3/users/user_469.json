{
    "username": "Shrivathsa",
    "submission": "typedef long long ll;\n\n#define N 50005\n#define forz(i,a,b) for(int i = a;i<b;i++)\n\nint dp[N][10]; //dp[i][j] is the max digit possible at ith digit to get a number modk == j \nint len;\nint k;\n\nint po[100003];\n\nll binpow(ll a, ll b, ll mod) {\n    a %= mod;\n    ll ans = 1;\n    while (b > 0) {\n        if (b & 1)\n            ans = (ans*a)%mod;\n        a = (a * a)%mod;\n        b >>= 1;\n    }\n    return ans%mod;\n}\n\nint solve(int i,int j){\n    \n    if (i == (len/2 +len%2)){\n        if (dp[i][j] == -2){\n            if ((len%2) == 0){\n                forz(dig,0,10){\n                    int curMod = (j-(dig*(po[len-i] + po[i-1]))%k+k)%k;\n                    if (curMod == 0){\n                        dp[i][j] = max(dp[i][j],dig);\n                    }\n                    else{\n                        dp[i][j] = max(dp[i][j],-1);\n                    }\n                }\n            }\n            else{\n                forz(dig,0,10){\n                    int curMod = (j-(dig*po[len-i])%k+k)%k;\n                    if (curMod == 0){\n                        dp[i][j] = dig;\n                    }\n                    else{\n                        dp[i][j] = max(dp[i][j],-1);\n                    }\n                }\n            }\n        }\n\n        return dp[i][j];\n    }\n\n    if (dp[i][j] == -2){\n        if (i != 1){\n            if (solve(i+1,j) != -1){\n                dp[i][j] = 0;\n            }\n            else{\n                dp[i][j] = -1;\n            }\n        }\n        forz(dig,1,10){\n            int curMod = (j-(dig*(po[len-i] + po[i-1]))%k+k)%k;\n            if (solve(i+1,curMod) != -1){\n                dp[i][j] = max(dp[i][j],dig);\n            }\n            else{\n                dp[i][j] = max(dp[i][j],-1);\n            }\n        }\n    }\n    return dp[i][j];\n}\n\nclass Solution {\npublic:\n    string largestPalindrome(int n, int p) {\n        len = n;\n        k = p;\n        po[0] = 1;\n        forz(i,1,n+2){\n            po[i] = (po[i-1]*10)%k;\n        }\n\n        forz(i,1,n/2+n%2+2){\n            forz(j,0,k+1){\n                dp[i][j] = -2;\n            }\n        }\n\n        solve(1,0);\n        vector<int> ans(n);\n        int curMod = 0;\n        forz(i,1,n/2+n%2+1){\n            ans[i-1] = dp[i][curMod];\n            ans[n-i] = dp[i][curMod];\n            curMod = (curMod-(dp[i][curMod] *(po[len-i] + po[i-1]))%k+k)%k;   \n        }\n\n        string s = \"\";\n        for(auto i:ans){\n            s += to_string(i);\n        }\n\n        return s;\n\n    }\n};",
    "submit_ts": "1723951758",
    "subm_id": "1359779378"
}