{
    "username": "vassu118",
    "submission": "int done = 0;\nvoid init() {\n    if(done) return;\n    done = 1;\n    ios_base::sync_with_stdio(false);\n    cin.tie(NULL);\n}\nclass node {\n    public:\n    long long a[2][2];\n    node() {\n        a[0][0] = a[0][1] = a[1][0] = a[1][1] = 0;\n    }\n    node(int p) {\n        a[0][0] = a[0][1] = a[1][0] = 0;\n        a[1][1] = p;\n    }\n};\n\nclass Seg {\n    public:\n    int n;\n    vector<node> seg;\n    Seg(int _n) {\n        n = _n;\n        seg = vector<node> (4 * n);\n    }\n    node merge(node a, node b) {\n        node ans = node();\n        \n        ans.a[0][0] = max({a.a[0][1] + b.a[0][0], a.a[0][0] + b.a[1][0], a.a[0][0] + b.a[0][0]});\n        \n        ans.a[1][0] = max({a.a[1][1] + b.a[0][0], a.a[1][0] + b.a[1][0], a.a[1][0] + b.a[0][0]});\n        \n        ans.a[0][1] = max({a.a[0][1] + b.a[0][1], a.a[0][0] + b.a[1][1], a.a[0][0] + b.a[0][1]});\n        \n        ans.a[1][1] = max({a.a[1][1] + b.a[0][1], a.a[1][0] + b.a[1][1], a.a[1][0] + b.a[0][1]});\n        \n        return ans;\n    }\n    void update(int i, int l, int r, int idx, int val) {\n        if(l == r) {\n            seg[i] = node(val);\n            return;\n        }\n        int mid = (l + r) / 2;\n        if(idx <= mid) update(2 * i + 1, l, mid, idx, val);\n        else update(2 * i + 2, mid + 1, r, idx, val);\n        seg[i] = merge(seg[2 * i + 1], seg[2 * i + 2]);\n    }\n};\n\nclass Solution {\npublic:\n    int maximumSumSubsequence(vector<int>& nums, vector<vector<int>>& queries) {\n        init();\n        int n = nums.size();\n        Seg seg(n);\n        for(int i=0;i<nums.size();i++) {\n            seg.update(0, 0, n - 1, i, nums[i]);\n        }\n        int mod = 1e9 + 7;\n        int ans = 0;\n        for(auto &v : queries) {\n            seg.update(0, 0, n - 1, v[0], v[1]);\n            auto got = seg.seg[0];\n            long long now = 0;\n            for(int i=0;i<2;i++) for(int j=0;j<2;j++) now = max(now, got.a[i][j]);\n            ans = (1LL * ans + now) % mod;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1716693527",
    "subm_id": "1268089123"
}