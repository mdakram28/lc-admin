{
    "username": "shannonl",
    "submission": "using dtype = long long;\nstruct SegTreeNode {\n    SegTreeNode *left;\n    SegTreeNode *right;\n    int start, end;\n    dtype info;\n    dtype tag;\n    SegTreeNode(int a, int b)\n        : start(a), end(b), info(0), tag(0), left(nullptr), right(nullptr) {}\n};\nvoid pushdown(SegTreeNode *o) {\n    if (o->tag == 0) return;\n    auto t = o->tag;\n    o->left->tag = 1;\n    o->right->tag = 1;\n    o->left->info  = 0;\n    o->right->info = 0;\n    o->tag = 0;\n}\nvoid updateRange(SegTreeNode *o, int a, int b, dtype val) {\n    if (b < o->start || a > o->end) return;\n    if (a <= o->start && o->end <= b) {\n        o->tag = 1;\n        o->info = val * (o->end - o->start + 1);\n        return;\n    }\n    pushdown(o);\n    updateRange(o->left, a, b, val);\n    updateRange(o->right, a, b, val);\n    o->info = o->left->info + o->right->info;\n}\ndtype queryRange(SegTreeNode *o, int a, int b) {\n    if (a > b) return 0;\n    if (b < o->start || a > o->end) {\n        return 0;\n    }\n    if (a <= o->start && b >= o->end) {\n        return o->info;\n    }\n    pushdown(o);\n    return queryRange(o->left, a, b) + queryRange(o->right, a, b);\n}\n\nSegTreeNode *buildSegTree(vector<int> &nums, int a, int b) {\n    if (a == b) {\n        auto o = new SegTreeNode(a, b);\n        o->info = nums[a];\n        return o;\n    }\n    auto o = new SegTreeNode(a, b);\n    int mid = a + (b - a) / 2;\n    o->left = buildSegTree((nums), a, mid);\n    o->right = buildSegTree((nums), mid + 1, b);\n    o->info = o->left->info + o->right->info;\n    return o;\n}\nclass Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        vector<int> nums(n, 1);\n        nums[0] = 0;\n        auto segtree = buildSegTree(nums, 0, n-1);\n        vector<int> ans;\n        // ans.push_back(queryRange(segtree, 0, n-1));\n        for (auto& q: queries) {\n            int i=q[0], j = q[1];\n            // auto cur = queryRange(segtree, i+1, j-1);\n            // if (cur > 0) {\n                updateRange(segtree,i+1, j-1, 0);\n            //}\n            ans.push_back(queryRange(segtree, 0, n-1));\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722742329",
    "subm_id": "1343766424"
}