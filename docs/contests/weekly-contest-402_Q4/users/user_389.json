{
    "username": "Tony_1234",
    "submission": "class Solution {\npublic:\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        \n        vector<int> fen(nums.size()+1);\n        auto upd = [&](int v, int add) -> void{\n          for(; v <= nums.size(); v+=v&-v){\n              fen[v] += add; \n          }  \n        };\n        auto sum = [&](int v) -> int{\n            int ans = 0;\n            for(; v; v -= v&-v){\n                ans += fen[v]; \n            }\n            return ans; \n        };\n        for(int i = 1; i < nums.size() - 1; i++){\n            if(nums[i] > nums[i - 1] && nums[i] > nums[i + 1]){\n                upd(i+1, 1); \n            }\n        }\n        vector<int> respl; \n        for(auto u : queries){\n            if(u[0] == 1){\n                \n                if(u[1] == u[2])respl.push_back(0);\n                else{\n                    respl.push_back(sum(u[2]) - sum(u[1]+1)); \n                }\n            }else{\n                for(int j = u[1] - 1; j <= u[1] +1; j++){\n                    if(j >= 1 && j <= nums.size() - 2){\n                        if(nums[j] > nums[j - 1] && nums[j] > nums[j+1]){\n                            upd(j+1, -1); \n                        }\n                    }\n                }\n                nums[u[1]] = u[2]; \n                                for(int j = u[1] - 1; j <= u[1] +1; j++){\n                    if(j >= 1 && j <= nums.size() - 2){\n                        if(nums[j] > nums[j - 1] && nums[j] > nums[j+1]){\n                            upd(j+1, 1); \n                        }\n                    }\n                }\n            }\n        }\n        return respl; \n    }\n};",
    "submit_ts": 1718506209.0
}