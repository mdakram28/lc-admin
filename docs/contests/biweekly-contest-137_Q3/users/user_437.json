{
    "username": "Anurag Kamra",
    "submission": "#define ll long long\n\nclass Solution {\npublic:\n\n    ll dp[105][105][105][4];\n    vector<vector<pair<ll,ll>>> rows;\n\n    ll helper(vector<vector<int>> &board,int m,int n,int r,int c1,int c2,int count){\n        if(count == 0) return 0;\n        if(r<0 || r>=m) return -1e10;\n        if(dp[r][c1+1][c2+1][count] != -1) return dp[r][c1+1][c2+1][count];\n\n        ll out=LLONG_MIN;\n\n        //place at largest:\n        int c=rows[r][0].second;\n        if(c1!=c && c2!=c){\n            int newc1 = (c1==-1) ? c : c1;\n            int newc2 = (newc1==c) ? c2 : c;\n            ll temp = board[r][c] + helper(board,m,n,r+1,newc1,newc2,count-1);\n            out = max(out, temp);\n        }\n\n        //place at second largest:\n        c=rows[r][1].second;\n        if(c1!=c && c2!=c){\n            int newc1 = (c1==-1) ? c : c1;\n            int newc2 = (newc1==c) ? c2 : c;\n            ll temp = board[r][c] + helper(board,m,n,r+1,newc1,newc2,count-1);\n            out = max(out, temp);\n        }\n\n        //place at third largest:\n        c=rows[r][2].second;\n        if(c1!=c && c2!=c){\n            int newc1 = (c1==-1) ? c : c1;\n            int newc2 = (newc1==c) ? c2 : c;\n            ll temp = board[r][c] + helper(board,m,n,r+1,newc1,newc2,count-1);\n            out = max(out, temp);\n        }\n\n        //dont place at this row:\n        ll temp=helper(board,m,n,r+1,c1,c2,count);\n        out=max(out, temp);\n\n        return dp[r][c1+1][c2+1][count] = out;\n    }\n\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int m=board.size(), n=board[0].size();\n\n        // build rows:\n        rows.assign(m,vector<pair<ll,ll>>(n));\n        for(int i=0;i<m;i++){\n            for(int j=0;j<n;j++){\n                rows[i][j] = {board[i][j], j};\n            }\n            sort(rows[i].rbegin(),rows[i].rend());\n        }\n\n        memset(dp,-1,sizeof(dp));\n        return helper(board,m,n,0,-1,-1,3);\n    }\n};",
    "submit_ts": "1723906870",
    "subm_id": "1359077223"
}