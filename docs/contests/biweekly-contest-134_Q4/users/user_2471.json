{
    "username": "Gaming_123",
    "submission": "\n\nclass Solution {\npublic:\n    long long sp[100005][21];\n    int k;\n    long long fun(int l,int r){\n       long long ans=LLONG_MAX;\n       for(int i=k;i>=0;i--){\n           if((1<<i)<=r-l+1){\n               ans&=sp[l][i];\n               l+=(1<<i);\n           }\n       }\n       return ans;\n    }\n    \n    long long countSubarrays(vector<int>& a, int x) {\n        int n=a.size();\n        for(int i=0;i<n;i++)sp[i][0]=a[i];\n\n        k=log2(n);\n        for(int j=1;j<k+1;j++){\n          for(int i=0;i+(1<<j)<=n;i++){\n              sp[i][j]=sp[i][j-1]&sp[i+(1<<(j-1))][j-1];\n           }\n        }\n        \n        long long ans=0;\n        for(int i=0;i<n;i++){\n            int ll=i,lr=n-1,ansl=i-1;\n            while(ll<=lr){\n                int mid = (ll+lr)/2;\n                if(fun(i,mid)>x){\n                    ansl=mid;\n                    ll=mid+1;\n                }\n                else lr=mid-1;\n            }\n            \n            int rl=i,rr=n-1,ansr=n;\n            while(rl<=rr){\n                int mid=(rl+rr)/2;\n                if(fun(i,mid)<x){\n                    ansr=mid;\n                    rr=mid-1;\n                }\n                else rl=mid+1;\n            }\n            \n            ans+=(ansr-ansl-1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720281221",
    "subm_id": "1311817343"
}