{
    "username": "penguinzzz",
    "submission": "const int MOD= 1000000007;\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& a) {\n        vector<vector<int>> dp(n+1,vector<int>(n*n+1,0));\n        vector<vector<int>> vis(n+1,vector<int>(n*n+1,0));\n        vector<int> isp(n+1);\n        map<int,set<int>> mp;\n        for(auto& c:a){\n            vis[c[0]+1][c[1]]=1;\n            isp[c[0]+1]=1;\n        }\n        int ans=0;\n        dp[0][0]=1;\n        for(int i=1;i<=n;i++){\n            int curr=0;\n            for(int j=0;j<=(n*(n-1))/2;j++){\n                    dp[i][j]+=dp[i-1][j];\n                    dp[i][j]%=MOD;\n                    dp[i][j]+=MOD;\n                    dp[i][j]%=MOD;\n                    dp[i][j+i]-=dp[i-1][j];\n                    dp[i][j+i]%=MOD;\n                    dp[i][j+i]+=MOD;\n                    dp[i][j+i]%=MOD;\n                \n            }\n            for(int j=0;j<n*n;j++){\n                curr+=dp[i][j];\n                curr%=MOD;\n                dp[i][j]=curr;\n            }\n            if(!isp[i]) continue;\n            for(int j=0;j<n*n;j++){\n                if(vis[i][j]) continue;\n                dp[i][j]=0;\n            }\n        }\n\n        for(int i=0;i<n*n;i++){\n            ans+=max(0,dp[n][i]);\n\n            ans%=MOD;\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1719070725.0
}