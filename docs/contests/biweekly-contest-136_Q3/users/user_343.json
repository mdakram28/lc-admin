{
    "username": "emayecs",
    "submission": "class Solution:\n    def minFlips(self, grid: List[List[int]]) -> int:\n        m = len(grid)\n        n = len(grid[0])\n        def h(oc, zc, x):\n            if x == 1:\n                return oc + 1, zc\n            return oc, zc + 1\n\n        def s(i, j, n):\n            grid[i][j] = n\n\n        swaps = 0\n        for i in range(m // 2):\n            for j in range(n // 2):\n                oc, zc = 0, 0\n                oc, zc = h(oc, zc, grid[i][j])\n                oc, zc = h(oc, zc, grid[m - 1 - i][j])\n                oc, zc = h(oc, zc, grid[i][n - 1 - j])\n                oc, zc = h(oc, zc, grid[m - 1 - i][n - 1 - j])\n                if oc == 4 or oc == 0:\n                    continue\n                if oc == 1 or oc == 3:\n                    s(i, j, 0)\n                    s(m - 1 - i, j, 0)\n                    s(i, n - 1 - j, 0)\n                    s(m - 1 - i, n - 1 - j, 0)\n                    swaps += 1\n                else:\n                    s(i, j, 0)\n                    s(m - 1 - i, j, 0)\n                    s(i, n - 1 - j, 0)\n                    s(m - 1 - i, n - 1 - j, 0)\n                    swaps += 2\n        \n        eq_swaps = 0\n        for i in range(m // 2, (m + 1) // 2):\n            for j in range(n // 2):\n                if grid[i][j] != grid[i][n - j - 1]:\n                    eq_swaps += 1\n                    swaps += 1\n                    s(i, j, 0)\n                    s(i, n - j - 1, 0)\n        \n        for j in range(n // 2, (n + 1) // 2):\n            for i in range(m // 2):\n                if grid[i][j] != grid[m - i - 1][j]:\n                    eq_swaps += 1\n                    swaps += 1\n                    s(i, j, 0)\n                    s(m - i - 1, j, 0)\n\n        ones = 0\n        for i in range(m):\n            for j in range(n):\n                ones += 1 if grid[i][j] == 1 else 0\n        \n        if ones % 4 == 0:\n            return swaps\n\n        if ones % 4 == 2:\n            if eq_swaps > 0:\n                return swaps\n            return swaps + 2\n        \n        if ones % 4 == 1:\n            return swaps + 1\n        \n        swaps += 1\n        if eq_swaps > 0:\n            return swaps\n        return swaps + 2",
    "submit_ts": "1722697414",
    "subm_id": "1343145674"
}