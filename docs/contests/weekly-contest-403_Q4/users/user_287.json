{
    "username": "peterrockwave",
    "submission": "from functools import lru_cache\nclass Solution:\n    def minimumSum(self, grid: List[List[int]]) -> int:\n        \n        width = len(grid[0])\n        height = len(grid)\n        \n        # 30 choose 2 * 2\n        # 30 * 30 * 4\n        @lru_cache(maxsize=None)\n        def shrinkrect(x1,y1,x2,y2):\n            minx = None\n            miny = None\n            maxx = None\n            maxy = None\n            for x in range(x1,x2+1):\n                for y in range(y1,y2+1):\n                    if grid[y][x] == 1:\n                        if minx == None or x<minx:\n                            minx = x\n                        if maxx == None or x>maxx:\n                            maxx = x\n                        if miny == None or y<miny:\n                            miny = y\n                        if maxy == None or y>maxy:\n                            maxy = y\n            if minx is None:\n                return 900\n            return (1+maxx-minx)*(1+maxy-miny)\n        \n        def fliprect(t):\n            (x1,y1,x2,y2) = t\n            return (width-1-x2,height-1-y2,width-1-x1,height-1-y1)\n        \n        def shrinkrecttuple(t):\n            return shrinkrect(t[0],t[1],t[2],t[3])\n        \n        def shrinkfliprecttuple(t):\n            return shrinkrecttuple(fliprect(t))\n            \n        \n        ans = 900\n        # vert stripes\n        for a in range(width-2):\n            for b in range(a+1, width-1):\n                tempans = 0\n                tempans += shrinkrect(0,0,a,height-1)\n                tempans += shrinkrect(a+1,0,b,height-1)\n                tempans += shrinkrect(b+1,0,width-1,height-1)\n                if tempans < ans:\n                    # print(\"vs\",a,b,tempans)\n                    ans = tempans\n        # hori stripes\n        for a in range(height-2):\n            for b in range(a+1, height-1):\n                tempans = 0\n                tempans += shrinkrect(0,0,width-1,a)\n                tempans += shrinkrect(0,a+1,width-1,b)\n                tempans += shrinkrect(0,b+1,width-1,height-1)\n                if tempans < ans:\n                    # print(\"hs\",a,b,tempans)\n                    ans = tempans\n        \n        # weird things hori\n        for a in range(height-1):\n            for b in range(width-1):\n                r1 = (0,0,width-1,a)\n                r2 = (0,a+1,b,height-1)\n                r3 = (b+1,a+1,width-1,height-1)\n                \n                tempans = shrinkrecttuple(r1) + shrinkrecttuple(r2) + shrinkrecttuple(r3)\n                if tempans < ans:\n                    # print(\"wh1\",a,b,tempans)\n                    ans = tempans\n                \n                tempans = shrinkfliprecttuple(r1) + shrinkfliprecttuple(r2) + shrinkfliprecttuple(r3)\n                if tempans < ans:\n                    # print(\"wh2\",a,b,tempans)\n                    ans = tempans\n        # weird things vert\n        for a in range(width-1):\n            for b in range(height-1):\n                r1 = (0,0,a,height-1)\n                r2 = (a+1,0,width-1,b)\n                r3 = (a+1,b+1,width-1,height-1)\n                \n                tempans = shrinkrecttuple(r1) + shrinkrecttuple(r2) + shrinkrecttuple(r3)\n                if tempans < ans:\n                    # print(\"wv1\",a,b,tempans)\n                    ans = tempans\n                \n                tempans = shrinkfliprecttuple(r1) + shrinkfliprecttuple(r2) + shrinkfliprecttuple(r3)\n                if tempans < ans:\n                    # print(\"wv2\",a,b,tempans)\n                    print(fliprect(r1),fliprect(r2),fliprect(r3))\n                    ans = tempans\n        \n        return ans",
    "submit_ts": 1719114130.0
}