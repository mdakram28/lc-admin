{
    "username": "a0920732333",
    "submission": "class Solution \n{\npublic:\n    int minFlips(vector<vector<int>>& grid) \n    {\n        int m = grid.size(), n = grid[0].size(), ans = 0;\n        for(int r = 0; r < m / 2; r++)\n        {\n            for(int c = 0; c < n / 2; c++)\n            {\n                int cnt = grid[r][c] + grid[m - r - 1][c] + grid[r][n - c - 1] + grid[m - r - 1][n - c - 1];\n                if(cnt == 1 || cnt == 3)\n                {\n                    ans++;\n                } \n                else if(cnt == 2)\n                {\n                    ans += 2;\n                }\n            }\n        }\n        ans += ((m & 1) && (n & 1) && grid[m / 2][n / 2]);\n        int mid = 0, oneCnt = 0;\n        if(m & 1)\n        {\n            for(int c = 0; c < n / 2; c++)\n            {\n                mid += (grid[m / 2][c] != grid[m / 2][n - c - 1]);\n                oneCnt += ((grid[m / 2][c] == grid[m / 2][n - c - 1]) && (grid[m / 2][c] == 1));\n            }\n        }\n        if(n & 1)\n        {\n            for(int r = 0; r < m / 2; r++)\n            {\n                mid += (grid[r][n / 2] != grid[m - r - 1][n / 2]);\n                oneCnt += ((grid[r][n / 2] == grid[m - r - 1][n / 2]) && (grid[r][n / 2] == 1));\n            }\n        }\n        oneCnt <<= 1;\n        // cout << oneCnt;\n        if((oneCnt % 4) == 0)\n        {\n            return ans + mid;\n        }\n        else if((oneCnt % 4) == 2)\n        {\n            if(mid > 0)\n            {\n                // cout << \"got you!!!\";\n                return ans + mid;\n            }\n            else\n            {\n                // cout << \"got you!!!\";\n                return ans + mid + 2;\n            }\n        }\n        return -1;\n        \n    }\n};",
    "submit_ts": "1722697402",
    "subm_id": "1343145234"
}