{
    "username": "Tinky1224",
    "submission": "class Solution:\n    def maximumLength(self, nums: List[int], k: int) -> int:\n        dp = [defaultdict(int)] + [defaultdict(lambda: -94879487) for _ in range(k)]\n        mxs = [(-1, -1) for _ in range(k+1)]\n        res = 0\n        for num in nums:\n            for i in range(k, -1, -1):\n                another = dp[i-1][mxs[i-1][0] if mxs[i-1][0] != num else mxs[i-1][1]] if i > 0 else -94879487\n                cur = max(dp[i][num]+1, another+1)\n                if cur >= dp[i][mxs[i][0]]:\n                    if mxs[i][0] != num:\n                        mxs[i] = (num, mxs[i][0])\n                elif cur >= dp[i][mxs[i][1]] and mxs[i][0] != cur:\n                    mxs[i] = (mxs[i][0], num)\n                dp[i][num] = max(dp[i][num], cur)\n                res = max(res, cur)\n        return res",
    "submit_ts": "1717858729",
    "subm_id": "1281697928"
}