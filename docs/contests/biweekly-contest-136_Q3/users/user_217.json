{
    "username": "TheCleanser",
    "submission": "typedef pair<int, int> pl;\n#define pb(i) push_back((i))\n#define mp(i, j) make_pair((i), (j))\n\nclass Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(); int m = grid[0].size();\n        int ans = 0; set<pl> seen; vector<vector<bool>> vis(n, vector<bool>(m, false));\n        \n        int bothZero = 0; int oneZero = 0; int bothOne = 0;\n        \n      \n        \n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < m; j++){\n                \n                vector<pl> v;\n                set<pl> distinct;\n                \n                v.pb(mp(i, j));\n                v.pb(mp(i, m - 1 - j));\n                v.pb(mp(n - 1 - i, j));\n                v.pb(mp(n - 1 - i, m - 1 - j));\n\n                if(vis[i][j]){\n                    break;\n                }\n            \n                for(auto it: v){\n                    distinct.insert(it);\n                }\n                \n\n                \n                if(distinct.size() == 4){\n                    int cnt0 = 0;\n                    for(auto it : v){\n                        cnt0 += (grid[it.first][it.second] == 0);\n                    }\n                    int a1 = cnt0; int a2 = 4 - cnt0;\n                    ans += min(a1, a2);\n                }\n                else if(distinct.size() == 2){\n                    int cnt0 = 0;\n                    for(auto it: distinct){\n                        cnt0 += (grid[it.first][it.second] == 0);\n                    }\n                    if(cnt0 == 2) bothZero++;\n                    else if(cnt0 == 1) oneZero++;\n                    else bothOne++;\n                }\n                else{\n                    ans += (grid[i][j] != 0);\n                }\n                \n                for(auto it: v){\n                    vis[it.first][it.second] = true;\n                }\n            }\n        }\n    \n        if(bothOne % 2 == 0){\n            // rem = 0, so make all one pairs 0s\n            ans += oneZero;\n        }\n        else{\n            // rem = 2\n            if(oneZero > 0){\n                ans += oneZero;\n            }\n            else{\n                // no pairs, so just decrease the 1s\n                ans += 2;\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722696932",
    "subm_id": "1343127801"
}