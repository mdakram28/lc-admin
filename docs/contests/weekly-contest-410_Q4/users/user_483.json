{
    "username": "bightguy",
    "submission": "class Solution {\n    const int MOD = 1'000'000'000 + 7;\n    \n    void print_dyn(const vector<vector<long long>> &dyn) {\n        cout << \"DYN START\" << endl;\n        for (auto row: dyn) {\n            for (auto col: row) {\n                cout << col << \" \";\n            }\n            cout << endl;\n        }\n        cout << \"DYN END\" << endl;\n    }\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        vector<vector<long long>> dyn(n);\n        \n        int cnt = 0;\n        for (int i = 1; i < n; i++) {\n            if (nums[i] - nums[i - 1]> cnt) {\n                cnt = nums[i] - nums[i - 1];\n            }\n            if (cnt > nums[i]) return 0;\n            nums[i] -= cnt;\n        }\n\n        cnt = nums[n - 1];\n        dyn[n - 1] = vector<long long>(nums[n - 1] + 1, 1);\n        for (int i = n - 2; i >= 0; i--) {\n            cnt = min(cnt, nums[i]);\n            dyn[i] = vector<long long>(cnt + 1, 0);\n        }\n\n        // print_dyn(dyn);\n\n        for (int i = n - 2; i >= 0; i--) {\n            long long s = 0;\n            for (int j = dyn[i + 1].size() - 1; j >= 0; j--) {\n                s += dyn[i + 1][j];\n                s %= MOD;\n                if (j < dyn[i].size()) dyn[i][j] = s;\n            }\n        }\n        // print_dyn(dyn);\n        long long ret = 0;\n        for (int i = 0; i < dyn[0].size(); i++) {\n            if (dyn[0][i] != -1) {\n                ret += dyn[0][i];\n                ret %= MOD;\n            }\n        }\n        return ret;\n    }\n};",
    "submit_ts": "1723347605",
    "subm_id": "1351602058"
}