{
    "username": "Citypop",
    "submission": "class Solution {\n    const int INF = (int)1e9;\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        int64_t ans = 0;\n        \n        std::array<int, 30> a;\n        for(int i = 0; i < 30; i++) {\n            a[i] = INF;\n        }\n        \n        for(int l = 0, r = 0; r < n; r++) {\n            bool ok = true;\n            for(int i = 0; i < 30; i++) {\n                if((k & (1 << i)) && !(nums[r] & (1 << i))) {\n                    ok = false;\n                    break;\n                }\n            }\n            \n            if(!ok) {\n                l = r + 1;\n                for(int i = 0; i < 30; i++) {\n                    a[i] = INF;\n                }\n            } else {\n                int j = INF;\n                \n                \n                \n                for(int i = 0; i < 30; i++) {\n                    if(!(nums[r] & (1 << i))) {\n                        a[i] = r;\n                    }\n                }\n                \n                bool good = true;\n                for(int i = 0; i < 30; i++) {\n                    if((nums[r] & (1 << i)) && !(k & (1 << i))) {\n                        if(a[i] == INF) {\n                            j = INF;\n                            good = false;\n                            break;\n                        }\n                        j = std::min(j, a[i]);\n                        good = false;\n                    }\n                }\n                //std::cout << l << ' ' << r << ' ' << j << '\\n';\n                if(good) {\n                    ans += r - l + 1;\n                } else {\n                    if(j != INF) {\n                        ans += r - l + 1 - (r - j);\n                    }\n                }\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1720278219",
    "subm_id": "1311699671"
}