{
    "username": "grainmad",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size()+1;\n        vector<vector<int>> g(n);\n        for (auto& i:edges) {\n            g[i[0]].push_back(i[1]);\n            g[i[1]].push_back(i[0]);\n        }\n        vector<int> f(n);\n        function<int(int,int)> dfs = [&](int x, int fa) {\n            for (int y:g[x]) {\n                if (y == fa) continue;\n                f[x] = max(f[x], dfs(y, x));\n            }\n            return f[x] += (x%2?1:2);\n        };\n        dfs(0, -1);\n        vector<int> ans(n);\n        function<void(int,int,int)> dfs1 = [&](int x, int fa, int u) {\n            int mx = -1, mx2 = -1;\n            for (int y:g[x]) {\n                if (y == fa) continue;\n                if (mx == -1 || f[y] > f[mx]) {\n                    mx2 = mx;\n                    mx = y;\n                } else if (mx2 == -1 || f[y] > f[mx2]) {\n                    mx2 = y;\n                }\n            } \n            ans[x] = max(mx==-1?0:f[mx], u);\n            for (int y:g[x]) {\n                if (y == fa) continue;\n                if (y == mx) {\n                    if (mx2 != -1) {\n                        dfs1(y, x, (x%2?1:2)+max(f[mx2], u));\n                    } else {\n                        dfs1(y, x, (x%2?1:2)+u);\n                    }\n                } else {\n                    if (mx != -1) {\n                        dfs1(y, x, (x%2?1:2)+max(f[mx], u));\n                    }\n                }\n            }\n        };\n        dfs1(0, -1, 0);\n        return ans;\n    }\n};",
    "submit_ts": "1722699065",
    "subm_id": "552273903"
}