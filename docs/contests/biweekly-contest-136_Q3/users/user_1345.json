{
    "username": "shaywang",
    "submission": "class Solution {\n    int minFlipsHV(vector<vector<int>>& grid, int i, int j) {\n        int m = grid.size();\n        int n = grid[0].size();\n        int cnt1 = 0;\n        int f = 0;\n        if (i >= 0) {\n            int p = 0;\n            int q = n - 1;\n            while (p < q) {\n                if (grid[i][p] != grid[i][q]) {\n                    f++;\n                }\n                cnt1 += grid[i][p] + grid[i][q];\n                p++;\n                q--;\n            }\n            if (p == q) cnt1 += grid[i][p];\n        }\n        if (j >= 0) {\n            int p = 0;\n            int q = m - 1;\n            while (p < q) {\n                if (grid[p][j] != grid[q][j]) {\n                    f++;\n                }\n                cnt1 += grid[p][j] + grid[q][j];\n                p++;\n                q--;\n            }\n            if (p == q) cnt1 += grid[p][j];\n        }\n        if (i >= 0 && j >= 0 && (m % 2 == 1) && (n % 2 == 1)) {\n            cnt1 -= grid[m / 2][n / 2];\n        }\n\n        int ones = cnt1 + f;\n        if (ones % 4 == 1) {\n            return f + 1;\n        } else if (ones % 4 == 2) {\n            if (f >= 1) return f;\n            else return 2;\n        } else if (ones % 4 == 3) {\n            if (f >= 1) return f + 1;\n            else return 3;\n        }\n        return f;\n    }\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int m = grid.size();\n        int n = grid[0].size();\n        if (m == 1) return minFlipsHV(grid, 0, -1);\n        if (n == 1) return minFlipsHV(grid, -1, 0);\n        int f = 0;\n        for (int i = 0; i < m / 2; i++) {\n            for (int j = 0; j < n / 2; j++) {\n                int a = grid[i][j];\n                int b = grid[i][n - 1 - j];\n                int c = grid[m - 1 - i][n - 1 - j];\n                int d = grid[m - 1 - i][j];\n                f += min(a + b + c + d, 4 - a - b - c - d);\n            }\n        }\n        int x = -1;\n        int y = -1;\n        if (m % 2 == 1) {\n            x = m / 2;\n        }\n        if (n % 2 == 1) {\n            y = n / 2;\n        }\n        return f + minFlipsHV(grid, x, y);\n    }\n};",
    "submit_ts": "1722699211",
    "subm_id": "552274627"
}