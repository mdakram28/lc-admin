{
    "username": "sagnik_1729",
    "submission": "class Solution {\npublic:\n    #define f(i,a,b) for(long long i=a;i<=b;i++)\n    #define fr(i,a,b) for(long long i=a;i>=b;i--)\n\n    typedef long long ll;\n    class SP_table{\npublic:\n    function<ll(ll,ll)> fun;\n    vector<vector<ll>> st;\n    vector<ll> floorlog;\n    ll n;\n    SP_table(ll size,vector<ll> &a,function<ll(ll,ll)> fun1):fun(fun1),n(size)\n    {\n        st.assign(size+1,vector<ll>(32,0));\n        floorlog.assign(size+1,0ll);\n        f(i,0,size-1)\n        st[i][0]=a[i];\n\n        f(i,1,31)\n        {\n            f(j,0,size-1)\n            {\n                if(j+(1ll<<(i-1))<size)\n                st[j][i]=fun(st[j][i-1],st[j+(1ll<<(i-1))][i-1]);\n            }\n        }\n        for(ll i=0;(1ll<<i)<=size;i++)\n        {\n            for(ll j=(1<<i);j<=size && j<(1<<(i+1)); j++)\n                floorlog[j]=i;\n        }\n    }\n    //for non-idempotent functions\n    ll query(ll l,ll r,ll init)\n    {\n        ll ans=init;\n        fr(i,31,0)\n        {\n            if(l+(1ll<<i)-1<=r)\n            {\n                ans=fun(ans,st[l][i]);\n                l+=(1ll<<i);\n            }\n        }\n        return ans;\n    }\n    //for idempotent funcs.eg:-gcd,min,max\n    ll rmq(ll l,ll r)\n    {\n        ll k=floorlog[r-l+1];\n        return fun(st[l][k],st[r-(1ll<<k)+1][k]);\n    }\n\n\n\n};\n    int minimumDifference(vector<int>& nums1, int k1) {\n        vector<ll> nums;\n        for(int x:nums1)\n            nums.push_back(x);\n        ll k=k1;\n        ll n=nums.size();\n        SP_table sp(n,nums,[&](ll a,ll b){return a&b;});\n        ll cc=1e9;\n        for(ll i=0;i<n;i++)\n        {\n            ll lo=i,hi=n-1;\n            //lower bar korchi\n            ll ans=n-1;\n            while(lo<=hi)\n            {\n                ll mid=(lo+hi)/2;\n                if(sp.rmq(i,mid)<=k)\n                {\n                    ans=mid;\n                    hi=mid-1;\n                    \n                }\n                else\n                    lo=mid+1;\n\n            }\n            cc=min(cc,abs(sp.rmq(i,ans)-k));\n            lo=i,hi=n-1;\n            ans=i;\n            //higher korbi\n            while(lo<=hi)\n            {\n                ll mid=(lo+hi)/2;\n                if(sp.rmq(i,mid)>=k)\n                {\n                    ans=mid;\n                    lo=mid+1;\n                }\n                else\n                    hi=mid-1;\n            }\n            cc=min(cc,abs(sp.rmq(i,ans)-k));\n\n        }\n        return cc;\n        \n        \n    }\n};",
    "submit_ts": 1717298902.0
}