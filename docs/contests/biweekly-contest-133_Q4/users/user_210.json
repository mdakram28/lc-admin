{
    "username": "Romy67",
    "submission": "#define rep(i, a, b) for(int i = a; i < (b); ++i)\n#define per(i, a, b) for(int i = a; i > (b); --i)\n#define ar array\n#define sz(x) (int) (x).size()\n#define pii pair<int,int>\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<ll,ll> pll;\ntypedef pair<double,double> pdd;\ntypedef pair<double,int> pdi;\ntypedef vector<int> vi;\n\ntemplate<typename T>\nvoid min_self(T& A, T B) {\n    A = min(A,B);\n}\ntemplate<typename T>\nvoid max_self(T& A, T B) {\n    A = max(A,B);\n}\n\nclass Solution {\npublic:\n    vector<ll> mul(vector<ll>& pol1, vector<ll>& pol2, int bts) {\n        int szi = min(sz(pol1)+sz(pol2)-1, bts+1);\n        const ll mod = 1e9+7;\n        vector<ll> res(szi,0ll);\n        rep(i,0,sz(pol1)) {\n            if(i>=szi) continue;\n            rep(j,0,min(sz(pol2), szi-i)) {\n                res[i+j] = (res[i+j] + pol1[i]*pol2[j]%mod)%mod;\n            }\n        }\n        return res;\n    } \n\n    ll getCt(int l, int r, ll sum) {\n        vector<ll> res(l+1,1ll);\n        rep(i,l+1,r+1) {\n            vector<ll> pol2(i+1,1ll);\n            res = mul(res, pol2, sum);\n        }\n        if(sum<sz(res)) {\n            return res[sum];\n        } else {\n            return 0ll;\n        }\n    }\n\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        const ll mod = 1e9+7;\n        vector<pii> req;\n        rep(i,0,sz(requirements)) {\n            req.push_back({requirements[i][0],requirements[i][1]});\n        }\n        sort(req.begin(),req.end());\n        ll ans = 1;\n        ll cur = 0;\n        int ls = 0;\n        rep(i,0,sz(req)) {\n            if(i==0 && req[i].fi==0) {\n                if(req[i].se!=0) {\n                    return 0;\n                }\n                continue;\n            }\n            ll now = req[i].se - cur;\n            if(now<0ll) {\n                return 0;\n            }\n            ans = ans*getCt(ls+1,req[i].fi, now)%mod;\n            ls = req[i].fi;\n            cur = req[i].se;\n        }\n        return ans;\n    }\n};\n",
    "submit_ts": "1719069590",
    "subm_id": "1296800962"
}