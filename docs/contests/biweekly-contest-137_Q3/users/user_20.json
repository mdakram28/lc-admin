{
    "username": "jwpassion1",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = (int)board.size(), m = (int)board[0].size();\n        vector<vector<pair<long long, int>>> toprook(n, vector<pair<long long, int>>(m)), botrook(n, vector<pair<long long, int>>(m));\n        \n        for (int i = 0; i < n; i++){\n            for (int j = 0; j < m; j++){\n                toprook[i][j] = {board[i][j], j};\n                if (i) toprook[i][j].first = max(toprook[i][j].first, toprook[i - 1][j].first);\n            }\n        }\n        for (int i = n - 1; i >= 0; i--){\n            for (int j = 0; j < m; j++){\n                botrook[i][j] = {board[i][j], j};\n                if (i + 1 < n) botrook[i][j].first = max(botrook[i][j].first, botrook[i + 1][j].first);\n            }\n        }\n        for (int i = 0; i < n; i++){\n            sort(toprook[i].rbegin(), toprook[i].rend());\n            sort(botrook[i].rbegin(), botrook[i].rend());\n        }\n        \n        long long ans = (long long)-10000000000;\n        \n        for (int i = 1; i + 1 < n; i++){\n            for (int j = 0; j < m; j++){\n                pair<long long, int> t1 = toprook[i - 1][0], t2 = toprook[i - 1][1], b1 = botrook[i + 1][0], b2 = botrook[i + 1][1];\n                if (t1.second == j){\n                    t1 = t2;\n                    t2 = toprook[i - 1][2];\n                }\n                else if (t2.second == j) t2 = toprook[i - 1][2];\n                if (b1.second == j){\n                    b1 = b2;\n                    b2 = botrook[i + 1][2];\n                }\n                else if (b2.second == j) b2 = botrook[i + 1][2];\n                long long tmp;\n                if (t1.second == b1.second) tmp = board[i][j] + max(t1.first + b2.first, t2.first + b1.first);\n                else tmp = board[i][j] + t1.first + b1.first;\n                \n                ans = max(ans, tmp);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723906398",
    "subm_id": "1359051181"
}