{
    "username": "1234ankitgarg",
    "submission": "class Solution {\npublic:\nvector<vector<int>>tree;\nvector<int>store,ans,timer;\nvoid dfs(int node,int par,int val)\n{  store[node]=val;\n   timer[node]=val;\n   for(auto x:tree[node])\n   {\n    if(x==par) continue;\n    if(x%2==0) dfs(x,node,val+2);\n    else dfs(x,node,val+1);\n      store[node]=max(store[node],store[x]);\n   }\n}\nvoid dfs2(int node,int par,int top)\n{     \n     ans[node]=max(store[node]-timer[node],top);\n   vector<int>save;\n  \n for(auto x:tree[node])\n   {\n    \n    if(x==par) continue;\n    // cout<<x<<\" \"<<store[x]<<endl;\n     save.push_back(store[x]);\n   }\n   int n=save.size();\n    //  cout<<n<<endl;\n   vector<int>prefix(n),suffix(n);\n   if(n>=1)\n   {\n    prefix[0]=save[0];\n    suffix[n-1]=save[n-1];\n    // cout<<prefix[0]<<\" \"<<suffix[n-1]<<endl;\n  \n   }\n   for(int i=1;i<n;i++) prefix[i]=max(prefix[i-1],save[i]);\n   for(int i=n-2;i>=0;i--) suffix[i]=max(suffix[i+1],save[i]);\n\n   int cnt=0;\n   for(auto x:tree[node])\n   {  if(x==par) continue;\n      int maxi=timer[node];\n    if(cnt==0 && n>1) maxi=max(maxi,suffix[cnt+1]);\n    else if(cnt==n-1 && n>1) {maxi=max(maxi,prefix[cnt-1]); }\n    else if(n>2) maxi=max(maxi,max(prefix[cnt-1],suffix[cnt+1]));\n    int extra=0;\n    if(node%2==0) extra=2;\n    else extra=1;\n    // cout<<maxi<<\" \"<<x<<\" \"<<timer[node]<<\" \"<<extra<<\" \"<<maxi-(timer[node]-extra)<<endl;\n    // cout<<maxi<<\" \"<<x<<endl;\n    maxi=max(top+extra,maxi-(timer[node]-extra));\n    dfs2(x,node,maxi);\n    cnt++;\n   }\n}\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int sz=edges.size();\n        tree.clear();\n        store.clear();\n        ans.clear();\n        timer.clear();\n        store.resize(sz+1);\n        timer.resize(sz+1);\n        ans.resize(sz+1);\n        tree.resize(sz+1);\n        for(int i=0;i<sz;i++)\n        {\n            int u,v;\n           u= edges[i][0];\n            v=edges[i][1];\n            tree[u].push_back(v);\n            tree[v].push_back(u);\n        }\n        dfs(0,-1,0);\n        dfs2(0,-1,0);\n        return ans;\n    }\n};",
    "submit_ts": "1722700011",
    "subm_id": "1343229017"
}