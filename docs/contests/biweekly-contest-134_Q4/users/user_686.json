{
    "username": "prerakagarwal2004",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        int m=0;\n        for(auto x:nums)\n        m=max(m,x);\n        int c=0;\n        while(m)\n        {\n            c++;\n            m=m/2;\n        }\n        vector<vector<int>>brr(n+1,vector<int>(c));\n        int i,j;\n        for(i=0;i<n;i++)\n        {\n            int x=nums[i];\n            for(j=0;j<c;j++)\n            {\n                brr[i+1][j]=x%2;\n                x=x/2;\n            }\n        }\n        for(j=0;j<c;j++)\n        {\n            int sum=0;\n            for(i=1;i<=n;i++)\n            {\n                sum=sum+brr[i][j];\n                brr[i][j]=sum;\n            }\n        }\n        long long ans=0;\n        for(i=1;i<=n;i++)\n        {\n            if(nums[i-1]<k)\n            continue;\n            int l=i-1,r=n+1,mid;\n            while(l<r-1)\n            {\n                mid=(l+r)/2;\n                int sum=0;\n                for(j=0;j<c;j++)\n                {\n                    int p=brr[mid][j]-brr[i-1][j];\n                    if(p==(mid-i+1))\n                    sum=sum+pow(2,j);\n                }\n                if(sum>=k)\n                l=mid;\n                else\n                r=mid;\n            }\n            int l1=l;\n            l=i-1;r=n+1;\n            while(l<r-1)\n            {\n                mid=(l+r)/2;\n                int sum=0;\n                for(j=0;j<c;j++)\n                {\n                    int p=brr[mid][j]-brr[i-1][j];\n                    if(p==(mid-i+1))\n                    sum=sum+pow(2,j);\n                }\n                if(sum>k)\n                l=mid;\n                else\n                r=mid;\n            }\n            // cout << l1-l;\n            // cout << l1 << l;\n            ans=ans+l1-l;\n        }\n        // return 0;\n        return ans;\n    }\n};",
    "submit_ts": "1720278684",
    "subm_id": "1311719834"
}