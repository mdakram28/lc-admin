{
    "username": "shreyas_2505",
    "submission": "#define ll long long\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n\n        vector<int> bits(32);\n        ll n =nums.size();\n\n        ll ans = 0;\n\n        int x = k;\n\n        for(int i=0; i< 32; i++)\n        {\n          int bit = ( x >> i) & 1;\n          bits[i] = bit;\n        //   cout<<bits[i]<<\" \";\n        }\n        \n        vector<vector<ll> > v(n, vector<ll> (32));\n\n        for(int i = 0; i< n; i++)\n        {\n            ll num = nums[i];\n\n            for(ll j = 0; j< 32; j++)\n            {\n                ll bit = (num >> j) & 1;\n                v[i][j] = bit;\n                // cout<<v[i][j]<<\" \";\n            }\n            // cout<<\"\\n\";\n\n        }\n        // return 1;\n\n        vector<vector<ll> > hash(n, vector<ll> (32));\n\n        for(ll i = 0; i < 32; i++)\n        {\n          hash[n-1][i] = n;\n\n          if( v[n-1][i] == 0)\n          {\n            hash[n-1][i] = n-1;\n          }\n\n          for(ll j = n-2; j >= 0; j--)\n          {\n            if( v[j][i] == 0)\n            {\n                hash[j][i] = j;\n            }\n\n            else{\n                hash[j][i] = hash[j+1][i]; \n            }\n          }\n\n        }\n\n        //   for(int i = 0; i< n; i++)\n        // {\n            \n\n        //     for(ll j = 0; j< 32; j++)\n        //     {\n        //        cout<<hash[i][j]<<\" \";\n        //     }\n\n        //     cout<<\"\\n\";\n           \n\n        // }\n\n        for(ll i = 0; i< n; i++)\n        {\n\n            ll one = n;\n            ll zero = i;\n            \n\n            for(ll j = 0; j< 32; j++)\n            {\n                // cout<<hash[i][j]<<\" \";\n              if( bits[j] == 0)\n              {\n                zero = max( zero, hash[i][j]);\n              }\n\n              else{\n                one = min( one, hash[i][j]);\n              }\n            }\n            // cout<<\"\\n\";\n\n            one--;\n\n            ll len = one - zero + 1;\n\n            if( len <= 0)\n            {\n                continue;\n            }\n\n            ans += len;\n\n        \n        }\n\n        return ans;\n\n\n        \n    }\n};",
    "submit_ts": "1720279744",
    "subm_id": "1311763420"
}