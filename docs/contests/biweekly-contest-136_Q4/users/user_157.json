{
    "username": "jamshedmd1111",
    "submission": "#define ll int\n\n\nll func(ll par, ll child, vector<vector<ll>> &a, vector<ll> &ans){\n    for (auto i:a[child])\n    {\n        if(i != par){\n            ll sa = func(child, i, a, ans);\n            \n            ll c = 1;\n            \n            if((i % 2) == 0){\n                c = 2;\n            }\n            \n            ans[child] = max(ans[child], sa + c);\n        }\n    }\n\n    return ans[child];\n}\n\nll func2(ll par, ll child, vector<vector<ll>> &a, vector<ll> &ans, ll ansFromParent){\n    ans[child] = max(ans[child], ansFromParent);\n\n    multiset<ll> s;\n\n    s.insert(ansFromParent);\n\n    for (auto i:a[child])\n    {\n        if(i != par){\n            ll c = 1;\n            \n            if((i % 2) == 0){\n                c = 2;\n            }\n\n            s.insert(ans[i] + c);\n            if(s.size() > 2){\n                s.erase(s.begin());\n            }\n        }\n    }\n    \n    for (auto i:a[child])\n    {\n        if(i != par){\n            ll cc = 1;\n            \n            if((child % 2) == 0){\n                cc = 2;\n            }\n\n            ll c = 1;\n            \n            if((i % 2) == 0){\n                c = 2;\n            }\n\n            bool erased = false;\n\n            ll val = ans[i] + c;\n\n            if(s.count(val)){\n                s.erase(s.find(val));\n                erased = true;\n            }\n            \n            ll sa = func2(child, i, a, ans, *(--s.end()) + cc);\n\n            if(erased){\n                s.insert(val);\n            }\n        }\n    }\n\n    return ans[child];\n}\n\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        ll n = edges.size() + 1, e = edges.size();\n\n        vector<vector<ll>> a (n);\n\n        for (ll i = 0; i < e; i++)\n        {\n            ll u = edges[i][0], v = edges[i][1];\n            a[u].push_back(v);\n            a[v].push_back(u);\n        }\n        \n        vector<ll> ans (n);\n\n        func(0, 0, a, ans);\n        func2(0, 0, a, ans, 0);\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722699075",
    "subm_id": "1343200750"
}