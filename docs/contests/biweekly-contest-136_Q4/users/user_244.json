{
    "username": "t5R5aAmxlt",
    "submission": "class Solution {\npublic:\n    \n    void dfs(int cur,int par,vector<int> adj[],vector<pair<int,int>> &time,int t){\n        \n        time[cur].first = t;\n        \n        time[cur].second = t;\n        \n        for(auto it:adj[cur]){\n            if(it!=par){\n                int next = t+1;\n                if(it%2==0) next++;\n                dfs(it,cur,adj,time,next);\n                time[cur].second = max(time[cur].second,time[it].second);\n            } \n        }\n    }\n    \n    \n    void dfs1(int cur,int par,vector<int> adj[],vector<pair<int,int>> &time,int t,vector<int> &ans){\n        \n        int diff = time[cur].second-time[cur].first; \n        \n        ans[cur] = max(diff,t);\n        \n        \n        \n        vector<pair<int,int>> temp;\n        \n        temp.push_back({t,par});\n        \n        for(auto it:adj[cur]){\n            \n           if(it!=par) {\n              if(it&1)   temp.push_back({time[it].second-time[it].first+1,it});\n               else temp.push_back({time[it].second-time[it].first+2,it});\n        \n           }\n            \n        }\n        \n        sort(temp.rbegin(),temp.rend());\n    \n        \n        for(auto it:adj[cur]){\n            \n            if(it!=par){\n                \n                if(temp[0].second==it){\n                    \n                    if(cur%2==0) dfs1(it,cur,adj,time,temp[1].first+2,ans);\n                    else dfs1(it,cur,adj,time,temp[1].first+1,ans);\n                    \n                }\n                else{\n                    \n                    if(cur%2==0) dfs1(it,cur,adj,time,temp[0].first+2,ans);\n                    else dfs1(it,cur,adj,time,temp[0].first+1,ans);\n                }\n                \n            }\n        }\n        \n        \n    }\n    \n    vector<int> timeTaken(vector<vector<int>>& v) {\n        int n = v.size() + 1;\n        \n        vector<int> adj[n];\n        \n        for(auto it:v){\n            adj[it[0]].push_back(it[1]);\n            adj[it[1]].push_back(it[0]);\n        }\n        \n        \n        vector<pair<int,int>> time(n);\n        vector<int> ans(n);\n        \n        dfs(0,-1,adj,time,0);\n        dfs1(0,-1,adj,time,0,ans);\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722699901",
    "subm_id": "1343225736"
}