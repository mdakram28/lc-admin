{
    "username": "Imadra",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> pref(31, vector<int>(n + 1, 0));\n        for(int i=0;i<n;i++) {\n            for(int j=0;j<31;j++) {\n                pref[j][i + 1] = pref[j][i];\n                if((1<<j) & nums[i])\n                    pref[j][i + 1]++;\n            }\n        }\n        int ans = INT_MAX;\n        vector<pair<int, int> > v;\n        for(int i=0;i<n;i++) {\n            // cout<<i<<\" \"<<nums[i]<<\":\\n\";\n            int cur = nums[i];\n            ans = min(ans, abs(cur - k));\n            if(i && cur > k) {\n                v.clear();\n                for(int j=0;j<31;j++) {\n                    if((1<<j) & cur) {\n                        int l = 0, r = i - 1;\n                        while(l <= r) {\n                            int m = (l + r) / 2;\n                            if(pref[j][i + 1] - pref[j][m] != i - m + 1)\n                                l = m + 1;\n                            else\n                                r = m - 1;\n                        }\n                        // l - 1\n                        if(l != 0)\n                            v.push_back({l - 1, j});\n                        // cout<<l - 1<<\" \";\n                    }\n                }\n                // [1000000000, 1238762]\n                sort(v.begin(), v.end());\n                int sz = v.size();\n                for(int ii = sz - 1; ii >= 0; ii--) {\n                    int curPlace = v[ii].first;\n                    while(ii >=0 && v[ii].first == curPlace) {\n                        cur &= ~(1 << v[ii].second);\n                        ii--;\n                    }\n                    ii++;\n                    // cout<<v[ii].first<<\" \"<<v[ii].second<<\" \"<<cur<<endl;\n                    ans = min(ans, abs(cur - k));\n                    if(cur < k)\n                        break;\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717299838.0
}