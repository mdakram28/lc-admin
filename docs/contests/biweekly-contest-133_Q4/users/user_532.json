{
    "username": "Lahir_17",
    "submission": "class Solution:\n    def numberOfPermutations(self, n: int, reqs: List[List[int]]) -> int:\n        MOD = 1_000_000_007\n        MAX_INV = 400\n\n        r = {}\n        for req in reqs:\n            r[req[0] + 1] = req[1]\n\n        # Initialize the 2D dp array with zeroes\n        pc = [[0] * (MAX_INV + 1) for _ in range(n + 1)]\n        pc[0][0] = 1\n\n        # Fill the dp table\n        for length in range(1, n + 1):\n            for inv in range(MAX_INV + 1):\n                for pos in range(length):\n                    prev_inv = inv - pos\n                    if prev_inv >= 0:\n                        pc[length][inv] = (pc[length][inv] + pc[length - 1][prev_inv]) % MOD\n\n            # Apply constraints based on requirements\n            if length in r:\n                target_inv = r[length]\n                for inv in range(MAX_INV + 1):\n                    if inv != target_inv:\n                        pc[length][inv] = 0\n\n        # Sum up all valid permutations for the full length\n        res = sum(pc[n]) % MOD\n\n        return res\n",
    "submit_ts": 1719070329.0
}