{
    "username": "lucifer1006",
    "submission": "class Solution:\n    def minFlips(self, grid: List[List[int]]) -> int:\n        n = len(grid)\n        m = len(grid[0])\n\n        ans = 0\n\n        # Handle normal cells\n        for i in range(n // 2):\n            for j in range(m // 2):\n                s = grid[i][j] + grid[i][m - j - 1] + \\\n                    grid[n - i - 1][j] + grid[n - i - 1][m - j - 1]\n                ans += min(s, 4 - s)\n\n        ones = 0\n        optional = 0\n        # Handle middle row\n        if n % 2 == 1:\n            for j in range(m // 2):\n                s = grid[n // 2][j] + grid[n // 2][m - j - 1]\n                if s == 1:\n                    optional += 1\n                    ans += 1\n                elif s == 2:\n                    ones += 2\n\n        # Handle middle column\n        if m % 2 == 1:\n            for i in range(n // 2):\n                s = grid[i][m // 2] + grid[n - i - 1][m // 2]\n                if s == 1:\n                    optional += 1\n                    ans += 1\n                elif s == 2:\n                    ones += 2\n\n        # Handle middle cell\n        if m % 2 == 1 and n % 2 == 1:\n            if grid[n // 2][m // 2] == 1:\n                ans += 1\n\n        # Handle ones\n        if ones % 4 == 2:\n            if optional == 0:\n                ans += 2\n\n        return ans\n",
    "submit_ts": "1722695991",
    "subm_id": "552258214"
}