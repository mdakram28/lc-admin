{
    "username": "ms0686714",
    "submission": "#define MOD 1000000007\n\nint numberOfPermutations(int n, int** requirements, int requirementsSize, int* requirementsColSize) {\n    // Sort requirements based on endi\n    for (int i = 0; i < requirementsSize - 1; i++) {\n        for (int j = 0; j < requirementsSize - i - 1; j++) {\n            if (requirements[j][0] > requirements[j + 1][0]) {\n                int temp[2];\n                temp[0] = requirements[j][0];\n                temp[1] = requirements[j][1];\n                requirements[j][0] = requirements[j + 1][0];\n                requirements[j][1] = requirements[j + 1][1];\n                requirements[j + 1][0] = temp[0];\n                requirements[j + 1][1] = temp[1];\n            }\n        }\n    }\n\n    // Initialize dp array\n    int size = n + 1;\n    // long long dp[size][401] = {0};\n    long long int **dp = calloc(size, sizeof(long long int *));\n    for(int i = 0; i < size; i++){\n        dp[i] = calloc(401, sizeof(long long int));\n    }\n    dp[0][0] = 1;\n\n    int req_index = 0;\n    for (int i = 1; i <= n; i++) {\n        for (int j = 0; j <= 400; j++) {\n            for (int k = 0; k < i; k++) {\n                if (j >= i - 1 - k) {\n                    dp[i][j] = (dp[i][j] + dp[i - 1][j - (i - 1 - k)]) % MOD;\n                }\n            }\n        }\n\n        if (req_index < requirementsSize && requirements[req_index][0] == i - 1) {\n            int cnt = requirements[req_index][1];\n            for (int j = 0; j <= 400; j++) {\n                if (j != cnt) {\n                    dp[i][j] = 0;\n                }\n            }\n            req_index++;\n        }\n    }\n\n    return dp[n][requirements[requirementsSize - 1][1]];\n}",
    "submit_ts": 1719067882.0
}