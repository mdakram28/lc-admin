{
    "username": "GodOfHacking",
    "submission": "class Solution {\n    public int minFlips(int[][] g) {\n         int n=g.length,m=g[0].length;\n        int[][][] dp=new int[n][m][4];\n\n        for(int[][] mat:dp){\n            for(int[] r:mat) Arrays.fill(r,-1);\n        }\n\n        return f(g,0,0,0,dp);\n    }\n\n    public int f(int[][] g,int i,int j,int mod,int[][][] dp){\n        int n=g.length,m=g[0].length;\n        \n        if(j>m-j-1){\n            i++;\n            j=0;\n        }\n        if(i==(n+1)/2){\n            if(mod==0) return 0;\n            return 1<<30;\n        }\n\n        if(dp[i][j][mod]!=-1) return dp[i][j][mod];\n        int ans=0;\n        if(i==n-i-1 && j==m-j-1){\n            int sum=g[i][j];\n            int tmp=(mod+1)%4;\n            int t1=1-sum+f(g,i,j+1,tmp,dp);\n            int t0=sum+f(g,i,j+1,mod,dp);\n\n            ans=Math.min(t1,t0);\n        }\n        else if(i==n-i-1){\n            int sum=g[i][j]+g[i][m-j-1];\n            int tmp=(mod+2)%4;\n            int t1=2-sum+f(g,i,j+1,tmp,dp);\n            int t0=sum+f(g,i,j+1,mod,dp);\n             ans=Math.min(t1,t0);\n        }\n        else if(j==m-j-1){\n            int sum=g[i][j]+g[n-i-1][j];\n            int tmp=(mod+2)%4;\n            int t1=2-sum+f(g,i,j+1,tmp,dp);\n            int t0=sum+f(g,i,j+1,mod,dp);\n             ans=Math.min(t1,t0);\n        }\n        else{\n            int sum=g[i][j]+g[i][m-j-1]+g[n-i-1][j]+g[n-i-1][m-j-1];\n            //System.out.println(sum);\n            int tmp=(mod+4)%4;\n         //   System.out.println(mod);\n            int t1=4-sum+f(g,i,j+1,tmp,dp);\n            int t0=sum+f(g,i,j+1,mod,dp);\n             ans=Math.min(t1,t0);\n        }\n\n        return dp[i][j][mod]=ans;\n        \n    }\n}",
    "submit_ts": "1722699337",
    "subm_id": "1343208565"
}