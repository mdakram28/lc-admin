{
    "username": "orz-23",
    "submission": "class Solution {\npublic:\n    const static int N = 1e5+5;\n    int f[N][32];\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        memset(f, 0, sizeof f);\n        for(int i=0;i<n;i++){\n            for(int j=0;j<31;j++){\n                f[i+1][j] = f[i][j] + ((nums[i]>>j)&1); \n            }\n        }\n        auto ck = [&](int l, int r){\n            for(int i=0;i<31;i++){\n                if(((k>>i)&1)){\n                    if(f[r+1][i] - f[l][i] == r-l+1)\n                    continue;\n                    else{\n                        return false;\n                    }\n                }\n                \n            }\n            return true;\n        };\n        long long ans=0;\n        for(int i=0;i<n;i++){\n            int l=0, r=i;\n            while(l<=r){\n                int mid=(l+r)>>1;\n                if(ck(mid, r)){\n                    r = mid-1;\n                }else{\n                    l = mid+1;\n                }\n            }\n            r = i;\n            for(int j=0;j<31;j++){\n                if(!((k>>j)&1)){\n                    int l1 = 0, r1 = i;\n                    while(l1<=r1){\n                        int mid=(l1+r1)>>1;\n                        if(f[r1+1][j]  -f[mid][j] != r1-mid+1){\n                            l1=mid+1;\n                        }else{\n                            r1=mid-1;\n                        }\n                    }\n                    r=min(r1,r);\n                }\n            }\n            // cout<<l<<\" \"<<r<<endl;\n            if(r>=l)\n            ans += r-l+1;\n            \n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279242",
    "subm_id": "544566592"
}