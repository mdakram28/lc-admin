{
    "username": "LeviAckerman616",
    "submission": "#define MOD 1000000007\n#define MAX 400\n\nvoid fun1(int* e, int n, int** r, int s) {\n    int i = 0;\n    while (i < s) {\n        int* req = r[i];\n        e[req[0] + 1] = req[1];\n        ++i;\n    }\n}\n\nvoid fun2(long long d[][MAX + 1], int n, int* e) {\n    int l = 0;\n    while (l <= n) {\n        if (e[l] != -1) {\n            int ri = e[l];\n            int c = 0;\n            while (c <= MAX) {\n                if (c != ri) \n                    d[l][c] = 0;\n                ++c;\n            }\n        }\n        ++l;\n    }\n}\n\nvoid fun3(long long d[][MAX + 1], int n, int* e) {\n    int l = 0;\n    while (l <= n) {\n        fun4(d, n);\n        ++l;\n    }\n}\n\nvoid fun4(long long d[][MAX + 1], int n) {\n    int c = 0;long long result = 0;\n    while (c <= MAX) {\n        result = (result + d[n][c]) % MOD;\n        ++c;\n    }\n}\n\nint fun5(long long d[][MAX + 1], int n) {\n    int c = 0;long long result = 0;\n    while (c <= MAX) {\n        result = (result + d[n][c]) % MOD;\n        ++c;\n    }\n    return (int)result;\n}\nint numberOfPermutations(int n, int** r, int s, int* cs) {\n    int i = 0;int e[n + 1];\n    while (i <= n) {\n        e[i] = -1;\n        ++i;\n    }\n    int j = 0;\n    fun1(e, n, r, s);\n    long long d[n + 1][MAX + 1];  \n    while (j <= n) {\n        int k = 0;\n        while (k <= MAX) {\n            d[j][k] = 0;\n            ++k;\n        }\n        ++j;\n    }\n    d[0][0] = 1;\n    int l = 1;\n    while (l <= n) {\n        int c = 0;\n        while (c <= MAX) {\n            int np = 0;\n            while (np < l) {\n                int pi = c - np;\n                if (pi >= 0) \n                    d[l][c] = (d[l][c] + d[l - 1][pi]) % MOD;\n                ++np;\n            }\n            ++c;\n        }\n        fun2(d, n, e);\n        ++l;\n    }\n    fun3(d, n, e);\n    return fun5(d, n);\n}",
    "submit_ts": "1719070914",
    "subm_id": "1296834768"
}