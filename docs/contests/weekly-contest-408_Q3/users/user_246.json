{
    "username": "ASHLER66",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int ans=0;\n        int n=s.length();\n        int ps0[n+1],ps1[n+1];\n        ps0[0]=0;\n        ps1[0]=0;\n        vector<int>c0;\n        for(int i=0;i<n;i++){\n            ps0[i+1]=ps0[i];\n            ps1[i+1]=ps1[i];\n                 if(s[i]=='0'){\n                   ps0[i+1]++;\n                     c0.push_back(i+1);\n                 }\n            else{\nps1[i+1]++;}\n        }\n        int cur=0;\n        for(int i=0;i<n;i++){\n          int curx=ps0[i];\n            int cury=ps1[i];\n            int x=i,y=i;\n            int op=lower_bound(ps0,ps0+n+1,ps0[i]+1)-ps0;\n            ans+=op-i-1;\n            int idx2=lower_bound(c0.begin(),c0.end(),i+1)-c0.begin();\n            for(int j=1;i+j*j<=(n);j++){\n             \n              \n                   int x=n+1;\n                int y=n+1;\n                if(c0.size()>idx2){\n                 x=c0[idx2];\n                }\n                if(c0.size()>idx2+1){\n                    y=c0[idx2+1];\n                }\n                idx2++;\n              \n                if(x==n+1){\n                     break;\n                }\n             \n                    int cnth=ps1[x]-ps1[i];\n                    int totcnt=y-x-1;\n              \n                    if(cnth>=j*j){\n                        if(j!=0){\n                        ans+=totcnt+1;}\n                        else{\n                            ans+=totcnt;\n                        }\n                    }\n                else{\n                    cnth+=totcnt;\n                    ans+=max(0,cnth-j*j+1);\n\n                }\n              \n                if(y==n+1){\n                 break;\n                }\n                \n               \n                \n                 \n                 \n               \n             \n            }\n           \n           \n            \n        }\n        return ans;\n        \n            \n    }\n};",
    "submit_ts": "1722137733",
    "subm_id": "1335772188"
}