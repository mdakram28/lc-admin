{
    "username": "Mayawan",
    "submission": "#define ll long long\n#define ull unsigned ll\n#define vs vector<string>\n#define dd int\n#define ii pair<dd, dd>\n#define vi vector<dd>\n#define vii vector<ii>\n#define vvi vector<vi>\n#define vvii vector<vii>\n#define umap unordered_map\n#define uset unordered_set\n\nint m[100000 + 2][20];\n\nint query(int l, int r) {\n    int len = r - l + 1;\n    int k = __lg(len);\n    return m[l][k] & m[r-(1<<k)+1][k];\n}\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        long long ans = 0;\n\n        int LOG = __lg(n) + 1;\n        for (int i = 0; i < n; i++) {\n            m[i][0] = nums[i];\n        }\n\n        for (int j = 1; j < LOG; j++) {\n            for (int i = 0; i + (1 << j) - 1 < n; i++) {\n                m[i][j] = m[i][j - 1] & m[i+(1<<(j-1))][j - 1];\n            }\n        }\n\n        int j = 0, l = 0;\n        for (int i = 0; i < n; i++) {\n            if (j < i) j = i;\n            if (l < i) l = i;\n            while (j < n && query(i, j) > k) j++;\n            while (l < n && query(i, l) >= k) l++;\n            ans += l - j;\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1720280043",
    "subm_id": "1311774814"
}