{
    "username": "sanketjaipuriar",
    "submission": "class Solution {\npublic:\n    typedef pair<int, int> ii;\n    int n;\n    vector<vector<ii>> e;\n    vector<vector<ii>> down;\n    vector<int> up;\n    void d2(int u, int p, int b) {\n        up[u] = b;\n        int t = 2;\n        if (u % 2) {\n            t = 1;\n        }\n        for (auto [v, c]: e[u]) {\n            if (v == p) {\n                continue;\n            }\n            int best = down[u][0].first;\n            if (down[u][0].second == v) {\n                best = down[u][1].first;\n            }\n            int tmp = max(t + b, t + best);\n            d2(v, u, tmp);\n        }\n    }\n    int dfs(int u, int p) {\n        for (auto [v, c]: e[u]) {\n            if (v == p) {\n                continue;\n            }\n            down[u].push_back({c + dfs(v, u), v});\n        }\n        sort(down[u].begin(), down[u].end(), greater<ii> ());\n        return down[u][0].first;\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n = edges.size() + 1;\n        up.assign(n, 0);\n        down.assign(n, vector<ii> (1, {0, -1}));\n        e.assign(n, vector<ii> (0, {1, 1}));\n        for (int i = 0; i < edges.size(); i++) {\n            int x = edges[i][0], y = edges[i][1];\n            if (x % 2) {\n                e[y].push_back({x, 1});\n            }\n            else {\n                e[y].push_back({x, 2});\n            }\n            if (y % 2) {\n                e[x].push_back({y, 1});\n            }\n            else {\n                e[x].push_back({y, 2});\n            }\n        }\n        dfs(0, -2);\n        d2(0, -2, 0);\n        vector<int> ans(n);\n        for (int i = 0; i < n; i++) {\n            ans[i] = max(up[i], down[i][0].first);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722699416",
    "subm_id": "1343210931"
}