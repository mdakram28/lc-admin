{
    "username": "cha-na-yong-heng-8u",
    "submission": "class Solution {\npublic:\n    vector<int> tree;\n    void update(int k,int l,int r,int index,int val)\n    {\n        if(l==r)\n        {\n            tree[k]=val;\n            return;\n        }\n        int mid=(l+r)>>1;\n        if(index<=mid)\n            update(k+k,l,mid,index,val);            \n        else\n            update(k+k+1,mid+1,r,index,val);\n        tree[k]=max(tree[k+k],tree[k+k+1]);\n    }\n    int query(int k,int l,int r,int begin,int end)\n    {\n        if(begin==l && end==r)\n            return tree[k];\n        int mid=(l+r)>>1;\n        if(end<=mid)\n            return query(k+k,l,mid,begin,end);\n        if(begin>mid)\n            return query(k+k+1,mid+1,r,begin,end);\n        return max(query(k+k,l,mid,begin,mid),query(k+k+1,mid+1,r,mid+1,end));\n    }\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        int n=queries.size(),maxval=0;\n        vector<int> nums({0});\n        for(auto& v:queries)\n            if(v[0]==1)\n                maxval=max(maxval,v[1]),nums.push_back(v[1]);\n        sort(nums.begin(),nums.end());\n        tree.resize(4*maxval+5);\n        vector<bool> answer;\n        set<int> s;\n        s.insert(0);\n        for(int i=1;i<nums.size();i++)\n            s.insert(nums[i]),update(1,1,maxval,nums[i],nums[i]-nums[i-1]);\n        for(int i=n-1;i>=0;i--)\n        {\n            auto& v=queries[i];\n            int x=v[1];\n            if(v[0]==1)\n            {\n                auto it=s.upper_bound(x);\n                auto it2=s.lower_bound(x);\n                it2--;\n                if(it!=s.end())\n                    update(1,1,maxval,*it,*it-*it2);\n                it--;\n                s.erase(it);\n            }\n            else\n            {\n                auto it=s.upper_bound(x);\n                it--;\n                int count=0;\n                if(*it>0)\n                    count=query(1,1,maxval,1,*it);\n                if(count>=v[2] || x-*it>=v[2])\n                    answer.push_back(true);\n                else\n                    answer.push_back(false);\n            }\n        }\n        reverse(answer.begin(),answer.end());\n        return answer;\n    }\n};",
    "submit_ts": "1716651406",
    "subm_id": "534774932"
}