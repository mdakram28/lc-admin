{
    "username": "osxyz",
    "submission": "class Solution:\n    def minimumSum(self, g: List[List[int]]) -> int:\n        rn, cn = len(g), len(g[0])\n        rr = [[0]*cn for x in range(rn)]\n        cc = [[0]*cn for x in range(rn)]\n        \n        for i in range(rn):\n            for j in range(cn):\n                rr[i][j] = (g[i][j] + (rr[i-1][j] if i>=1 else 0))\n                cc[i][j] = (g[i][j] + (cc[i][j-1] if j>=1 else 0))\n                \n        def row1(i,a,b):\n            return (cc[i][b]-(cc[i][a-1] if a>=1 else 0))>=1\n\n        def col1(j,a,b):\n            assert b>=0 and b<rn, b\n            #print(i,a,b)\n            return (rr[b][j]-(rr[a-1][j] if a>=1 else 0))>=1\n\n        \n        @cache\n        def solve1(a,b,c,d):\n            r1,r2=rn,0\n            c1,c2=cn,0\n            v = False\n            for i in range(a,c+1):\n                if row1(i,b,d):\n                    r1=min(r1,i)\n                    r2=max(r2,i)\n                    v = True\n            for j in range(b,d+1):\n                if col1(j,a,c):\n                    c1=min(c1,j)\n                    c2=max(c2,j)\n                    v = True\n            if v:\n                res = (r2-r1+1)*(c2-c1+1)\n                assert res>=0, f\"solve11 {r1},{r2},{c1},{c2} --> {res}\"\n                assert res>=0, f\"solve12 {a},{b},{c},{d} --> {res}\"\n                return res\n            return 0\n        \n        \n        def solve2(a,b,c,d):\n            res = rn*cn\n            for i in range(a,c):\n                res = min(res, solve1(a,b,i,d)+solve1(i+1,b,c,d))\n            for j in range(b,d):\n                res = min(res, solve1(a,b,c,j)+solve1(a,j+1,c,d))\n            assert res>=0, f\"solve2 {a},{b},{c},{d} --> {res}\"\n            return res\n        \n        \n        res = rn*cn\n        for i in range(rn-1):\n            res = min(res, solve2(0,0,i,cn-1)+solve1(i+1,0,rn-1,cn-1))\n            res = min(res, solve1(0,0,i,cn-1)+solve2(i+1,0,rn-1,cn-1))\n        for j in range(cn-1):\n            res = min(res, solve2(0,0,rn-1,j)+solve1(0,j+1,rn-1,cn-1))\n            res = min(res, solve1(0,0,rn-1,j)+solve2(0,j+1,rn-1,cn-1))\n        \n        return res\n        \n                        \n                ",
    "submit_ts": "1719113907",
    "subm_id": "1297335664"
}