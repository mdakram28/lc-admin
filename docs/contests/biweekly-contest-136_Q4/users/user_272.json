{
    "username": "0222_",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& G) {\n        int n = 0;\n        for (auto it : G) n = max(n, max(it[0], it[1]));\n        n++;\n        vector<vector<int>> g(n);\n        for (auto it : G) {\n            int u = it[0], v = it[1];\n            g[u].push_back(v);\n            g[v].push_back(u);\n        }\n        \n        vector<int> f1(n), f2(n);\n        function<void(int, int)> dfs = [&](int u, int fa) {\n            f1[u] = 0, f2[u] = -1;\n            for (int v : g[u]) if (v != fa) {\n                dfs(v, u);\n                int tmp = f1[v] + (v % 2 ? 1 : 2);\n                if (tmp > f1[u]) f2[u] = f1[u], f1[u] = tmp;\n                else if (tmp > f2[u]) f2[u] = tmp;\n            }\n        };\n        dfs(0, -1);\n        // for (int i = 0; i < n; i++) cout << \"i= \" << i << \", f1= \" << f1[i] << \", f2= \" << f2[i] << '\\n';\n        \n        function<void(int, int)> gao = [&](int u, int fa) {\n            int tmp = f1[fa] + (fa % 2 ? 1 : 2);\n            if (f1[fa] == f1[u] + (u % 2 ? 1 : 2)) tmp =  f2[fa] + (fa % 2 ? 1 : 2);\n            if (tmp > f1[u]) f2[u] = f1[u], f1[u] = tmp;\n            else if (tmp > f2[u]) f2[u] = tmp;            \n            for (int v : g[u]) if (v != fa) gao(v, u);\n        };         \n        for (int v : g[0]) gao(v, 0);  \n        // cout << \"over\" << '\\n';\n        return f1;\n    }\n};",
    "submit_ts": "1722699797",
    "subm_id": "552277182"
}