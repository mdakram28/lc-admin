{
    "username": "l_returns",
    "submission": "class Solution {\npublic:\n    long long numberOfSubstrings(string s) {\n        long long ans = 0;\n        int nextzero[s.size()+1];\n        int val = s.size();\n        for(int i=s.size()-1;i>=0;i--) {\n            nextzero[i]=val;\n            if(s[i]=='0')\n                val=i;\n        }\n        long long cnt=0;\n        for(char c:s) {\n            if(c=='0') {\n                ans+=(cnt*(cnt+1))/2;\n                cnt=0;\n            } else\n                cnt++;\n        }\n        ans+=(cnt*(cnt+1))/2;\n\n        for(int zeroes = 1;zeroes*zeroes<=s.size();zeroes++) {\n            int i=0, j=0;\n            int zo=0,on=0;\n            for(int i=0;i<s.size();i++) {\n                while(j<s.size() && zo<zeroes) {\n                    if(s[j]=='0')\n                        zo++;\n                    else\n                        on++;\n                    j++;\n                }\n                if(zo<zeroes)\n                    break;\n                while(j<s.size() && s[j]=='1' && on<zeroes*zeroes) {\n                    on++;\n                    j++;\n                }\n                //cout << zeroes << \" \" << i << \" \" << j << \" \" << on << \" \" << zo <<\"\\n\";\n                if((on+zo)>0 && on>=zeroes*zeroes) {\n                    ans+=(nextzero[j-1]-(j-1));\n                }\n                if(s[i]=='1')\n                    on--;\n                else\n                    zo--;\n           }\n        }\n        return ans;\n    }\n};\n\n/*\n\ny^2 + x^2 -2yx  <= (y2-x2)\n\n\n*/",
    "submit_ts": "1722138888",
    "subm_id": "1335802246"
}