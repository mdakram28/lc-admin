{
    "username": "hkhzzz",
    "submission": "using ll = long long;\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        int size = *max_element(nums.begin(), nums.end()) + 1;\n        size = min(1001, size);\n        vector<ll> pv1(size, 0);\n        vector<ll> pv2(size, 0); \n        vector<ll> cur_pv1(size, 0);\n        vector<ll> cur_pv2(size, 0);\n\n        // vector<ll> vec1(size, 0);\n        // vector<ll> vec2(size, 0);\n        // vector<ll> cur_1(size, 0);\n        // vector<ll> cur_2(size, 0);\n        \n        ll MOD = 1e9+7;\n        // initial should be same\n        for (int v1 = 0; v1 <= nums[0]; v1 ++) { // set the initial position\n            pv1[v1] = 1 + ((v1 > 0) ? pv1[v1-1]: 0); \n            pv2[v1] = 1 + ((v1 > 0) ? pv2[v1-1]: 0); \n        }\n        fill(pv1.begin() + nums[0] + 1, pv1.end(), pv1[nums[0]]); // start with <= those numbers count\n        fill(pv2.begin() + nums[0] + 1, pv2.end(), pv2[nums[0]]); \n\n        for (int i = 1; i < nums.size(); i ++) {\n            // cout << i << \" \" << nums[i] << endl;\n            for (int v1 = 0; v1 <= nums[i]; v1 ++) {\n                int v2 = nums[i] - v1; \n                // fill vec1 with v1, vec2 with v2\n                ll cur1 = min(pv1[v1], pv2.back() - ((v2 > 0) ? pv2[v2-1]: 0)) % MOD;\n                cur_pv1[v1] = cur1 + ((v1 > 0) ? cur_pv1[v1-1]: 0);\n                // cout << v1 << \" vec1: # = \" << cur1 << \" -> \" << cur_pv1[v1] << endl;\n                \n                // fill vec2 with v1, vec1 with v2\n                ll cur2 = min(pv1[v2], pv2.back() - ((v1 > 0) ? pv2[v1-1]: 0)) % MOD;\n                cur_pv2[v1] = cur2 + ((v1 > 0) ? cur_pv2[v1-1] : 0);\n            }\n            // set to new vec\n            pv1 = cur_pv1;\n            pv2 = cur_pv2;\n            // fill impossible\n            fill(pv1.begin() + nums[i] + 1, pv1.end(), pv1[nums[i]]);\n            fill(pv2.begin() + nums[i] + 1, pv2.end(), pv2[nums[i]]);\n            // for (auto& x: pv1) cout << x << \",\";\n            // cout << endl;\n            // for (auto& x: pv2) cout << x << \",\";\n            // cout << endl;\n        }\n        // ll ret = pv1.back();\n        return pv1.back() % MOD;\n\n    }\n    // [40,40,40,41,41,42,42,44,46,49]: 272278100\n};",
    "submit_ts": "1723346205",
    "subm_id": "1351572519"
}