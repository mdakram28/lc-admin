{
    "username": "RuchitJagodara",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        vector<int> ans;\n        set<pair<int, int>> st;\n        map<int, int> mp;\n        int temp = 0;\n        for(int i=0; i<queries.size(); i++){\n            // cout<<st.size()<<endl;\n            int l=queries[i][0], r=queries[i][1];\n\n            if(!st.size()){\n                st.insert({l,r});\n                mp[l] = r;\n                temp+=r-l-1;\n                ans.push_back(n-temp-1);\n                continue;\n            }\n            auto itt = st.lower_bound({l,-1});\n            if (itt!=st.end()){\n                auto val = *itt;\n                if(val.first==l){\n                    if(val.second>r){\n                        ans.push_back(n-1-temp);\n                    }\n                    else{\n                        auto timepass = *itt;\n                        mp[l] = r;\n                        temp += r-l-1;\n                        while(itt!=st.end()&&timepass.first>=l&&timepass.second<=r){\n                            st.erase(itt);\n                            temp -= timepass.second-timepass.first-1;\n                            itt = st.lower_bound({l,-1});\n                            timepass = *itt;\n                        }\n                            ans.push_back(n-1-temp);\n                        st.insert({l,r});\n                    }\n                }\n                else if(val.first>l){\n                    if(val.second<=r){\n                        auto timepass = *itt;\n                        mp[l] = r;\n                        temp += r-l-1;\n                        while(itt!=st.end()&&timepass.first>=l&&timepass.second<=r){\n                            st.erase(itt);\n                            temp -= timepass.second-timepass.first-1;\n                            itt = st.lower_bound({l,-1});\n                            timepass = *itt;\n                        }\n                            ans.push_back(n-1-temp);\n                        st.insert({l,r});\n                    }\n                    else{\n                        if(itt==st.begin()){\n                                                    st.insert({l,r});\n                        mp[l] = r;\n                        temp += r-l-1;\n                        ans.push_back(n-1-temp);\n                            continue;\n                        }\n                        itt = prev(itt);\n                        val = *itt;\n                        if(val.second>=r){\n                            ans.push_back(n-temp-1);\n                            continue;\n                        }\n                        st.insert({l,r});\n                        mp[l] = r;\n                        temp += r-l-1;\n                        ans.push_back(n-1-temp);\n                    }\n                }\n            }\n            else{\n\n                        if(itt==st.begin()){\n                        st.insert({l,r});\n                        mp[l] = r;\n                        temp += r-l-1;\n                        ans.push_back(n-1-temp);\n                            continue;\n                        }\n                \n                        itt = prev(itt);\n                        auto val = *itt;\n                        if(val.second>=r){\n                            ans.push_back(n-temp-1);\n                            continue;\n                        }\n                        st.insert({l,r});\n                        mp[l] = r;\n                        temp += r-l-1;\n                        ans.push_back(n-1-temp);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722741496",
    "subm_id": "1343746430"
}