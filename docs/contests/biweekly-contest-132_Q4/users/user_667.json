{
    "username": "dip_is_trend",
    "submission": "\n\nint solve(int i,vector<int> &nums,int p,int k,int prev,map<vector<int>,int> &m){\n    if(i>=nums.size()) return 0;\n    if(p>=k) return 0;\n    auto it=m.find({i,p,prev});\n    if(it!=m.end()) return it->second;\n    \n    int ans=0;\n    ans=max(ans,1+solve(i+1,nums,(prev==nums[i])?p+1:p,k,nums[i],m));\n    ans=max(ans,solve(i+1,nums,p,k,prev,m));\n    // cout<<i<<\"->\"<<ans<<endl;\n    m[{i,p,prev}]=ans;\n    return ans;\n}\n\n\nclass Solution {\npublic:\n  \nint maximumLength(vector<int>& arr, int k) {\n\n\n    int n=arr.size();\n\n    vector<vector<int>>  ans(n,vector<int>(k+1,1));\n\n    int cnt=1;\n    vector<int>  mp(k+1,-1);\n\n    vector<map<int,int>>  aux(k+1);\n\n    for(int i=0;i<n;i++){\n        for(int j=0; j<=k;j++){\n            \n            \n            for(int l=0; l<j;l++){\n\n                ans[i][j]=max({ans[i][j],1+mp[l]});\n            }\n\n\n            if(aux[j].find(arr[i])!=aux[j].end()){\n\n                ans[i][j]=max({ans[i][j],1+aux[j][arr[i]]});\n            }\n\n\n            \n            cnt=max(cnt,ans[i][j]);\n        }\n        \n        \n        for(int j=0;j<=k;j++){\n            mp[j]=max(mp[j],ans[i][j]);\n\n            \n            aux[j][arr[i]]= max({aux[j][arr[i]],ans[i][j]});\n        }\n        \n        \n    }\n    return cnt;\n}\n\n\n};\n\n\n\n//\n//int32_t main()\n//{\n//     ios_base::sync_with_stdio(false);\n//    cin.tie(NULL);\n//    #ifndef ONLINE_JUDGE\n//    freopen(\"input.txt\",\"r\",stdin);\n//    freopen(\"output.txt\",\"w\",stdout);\n//    freopen(\"error.txt\",\"w\",stderr);\n//\n//    #endif\n//\n//\n//\n//\n//\n//\n//\n//}",
    "submit_ts": 1717862102.0
}