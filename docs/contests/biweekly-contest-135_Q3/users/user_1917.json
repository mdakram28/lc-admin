{
    "username": "211220058",
    "submission": "#include <vector>\n#include <map>\n#include <algorithm>\n#include <cmath>\n#include <limits>\n\nauto fastio = []() {\n    std::ios::sync_with_stdio(false);\n    cin.tie(nullptr);\n    cout.tie(nullptr);\n    return nullptr;\n}();\n\nclass Solution {\npublic:\n    int minChanges(std::vector<int>& nums, int k) {\n        std::map<int, std::vector<int>> diffMap;\n        std::vector<int> values;\n\n        populateMapsAndValues(nums, k, diffMap, values);\n\n        int minChangesCount = calculateMinChanges(nums, values, diffMap);\n\n        return minChangesCount;\n    }\n\nprivate:\n    void populateMapsAndValues(const std::vector<int>& nums, int k, \n                               std::map<int, std::vector<int>>& diffMap, \n                               std::vector<int>& values) {\n        for (int idx = 0; idx < nums.size() / 2; ++idx) {\n            int num1 = nums[idx];\n            int num2 = nums[nums.size() - idx - 1];\n            int difference = std::abs(num1 - num2);\n\n            int maxChange = std::max({num1, num2, k - num1, k - num2});\n\n            diffMap[difference].push_back(maxChange);\n            values.push_back(maxChange);\n        }\n    }\n\n    int calculateMinChanges(const std::vector<int>& nums, const std::vector<int>& values,\n                            const std::map<int, std::vector<int>>& diffMap) {\n        int minChangesCount = nums.size();\n\n        std::vector<int> sortedValues = values;\n        std::sort(sortedValues.begin(), sortedValues.end());\n\n        for (const auto& [diff, maxChanges] : diffMap) {\n            int T = std::lower_bound(sortedValues.begin(), sortedValues.end(), diff) - sortedValues.begin();\n            T = T * 2 + (nums.size() / 2 - T);\n\n            for (const auto& maxChange : maxChanges) {\n                if (maxChange < diff) {\n                    T -= 2;\n                } else {\n                    T -= 1;\n                }\n            }\n\n            minChangesCount = std::min(minChangesCount, T);\n        }\n\n        return minChangesCount;\n    }\n};\n",
    "submit_ts": "1721489349",
    "subm_id": "1327450659"
}