{
    "username": "Zakhar Tsvirka",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = (int)board.size(), m = (int)board[0].size();\n\n        vector<vector<int>> a(n, vector<int>(3));\n        for (int i = 0; i < n; i++) {\n            vector<pair<int, int>> vals;\n            for (int j = 0; j < m; j++) {\n                vals.push_back({board[i][j], j});\n            }\n\n            sort(vals.rbegin(), vals.rend());\n            for (int j = 0; j < 3; j++) {\n                a[i][j] = vals[j].second;\n            }\n        }\n\n        vector<vector<int>> best(3);\n        for (int j = 0; j < 3; j++) {\n            vector<pair<int, int>> vals;\n            for (int i = 0; i < n; i++) {\n                vals.push_back({board[i][a[i][j]], i});\n            }\n\n            sort(vals.rbegin(), vals.rend());\n            vector<int> cnt(m);\n            for (int i = 0; i < n; i++) {\n                if ((int)best[j].size() > 10) break;\n                if (cnt[a[vals[i].second][j]] > 2) continue;\n                cnt[a[vals[i].second][j]]++;\n                best[j].push_back(vals[i].second);\n            }\n        }\n\n        long long ans = -1e10;\n        for (int i1 = 0; i1 < n; i1++) {\n            for (int i2 = i1 + 1; i2 < n; i2++) {\n                for (int j1 = 0; j1 < 3; j1++) {\n                    for (int j2 = 0; j2 < 3; j2++) {\n                        if (a[i1][j1] != a[i2][j2]) {\n                            for (int j3 = 0; j3 < 3; j3++) {\n                                for (int &i3 : best[j3]) {\n                                    if (i3 != i1 && i3 != i2 && a[i3][j3] != a[i1][j1] && a[i3][j3] != a[i2][j2]) {\n                                        ans = max(ans, board[i1][a[i1][j1]] * 1LL + board[i2][a[i2][j2]]\n                                                       + board[i3][a[i3][j3]]);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1723908089",
    "subm_id": "1359137689"
}