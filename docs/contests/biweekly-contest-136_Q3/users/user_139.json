{
    "username": "xymabinogi",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid[0].size();\n        vector<vector<int>> visited(n, vector<int>(m, 0));\n        int res = 0;\n        vector<int> added(4, INT_MAX / 2);\n        added[0] = 0;\n        \n        for (int i = 0; i < n; i++){\n            for (int j = 0; j < m; j++){\n                if (visited[i][j]) continue;\n                //[i, j], [i, m - 1 - j], [n - 1 - i, j], [n - 1 - i, m - 1 - j]\n                set<pair<int,int>> s;\n                int cnt = 0;\n                s.insert({i, j});\n                s.insert({i, m - 1 - j});\n                s.insert({n - 1 - i, j});\n                s.insert({n - 1 - i, m - 1 - j});\n                \n               \n                int sz = s.size();\n                if (sz < 4){\n                    for (auto &[x, y] : s){\n                        if (grid[x][y]) cnt++;\n                    }\n                    vector<int> tmp(4, INT_MAX / 2);\n                    \n                    //all 1 to zero\n                    for (int k = 0; k < 4; k++) if (added[k] < INT_MAX / 2){\n                        tmp[k] = min(tmp[k], added[k] + cnt);\n                    }\n                    // all zero to 1\n                    int extra = sz - cnt;\n                    for (int k = 0; k < 4; k++) if (added[k] < INT_MAX / 2){\n                        tmp[(k + sz) % 4] = min(tmp[(k + sz) % 4], added[k] + extra);\n                    }\n                    \n                    \n                    \n                    \n                    \n                    \n                    //cout << cnt <<\" \"<< extra << \"---\\n\";\n                    swap(tmp, added);\n                    \n                    // for (int k = 0; k < 4; k++){\n                    //     cout << added[k] << \" \";\n                    // }\n                    // cout << \"\\n\";\n                    \n                }\n                else {\n                    for (auto &[x, y] : s){\n                        if (grid[x][y]) cnt++;\n                    }\n                    res += min(cnt, 4 - cnt);\n                }\n                for (auto &[x, y] : s){\n                    //cout << x <<\" \"<< y << \"--\\n\";\n                    visited[x][y] = 1;\n                }\n               // cout << res << \"\\n\";\n               // cout << \"\\n\";\n            }\n        }\n        //cout << added[0] << \"---\\n\";\n        return res + added[0];\n        \n    }\n};",
    "submit_ts": "1722697687",
    "subm_id": "1343155314"
}