{
    "username": "weirdsmoothie",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string& s) {\n        int i, j, k, n = s.size(), ans = 0, cnt[3]{};\n        for (i = n; i--;) s[i] -= '0';\n        for (k = sqrt(n); k >= 1; k--) {\n            cnt[0] = cnt[1] = cnt[2] = 0;\n            for (i = j = 0; i < n; i++) {\n                cnt[s[i]]++;\n                if (cnt[0] < k) continue;\n                if (cnt[0] > k) cnt[2] = 0;\n                while (cnt[0] > k) cnt[2] += s[j], cnt[s[j++]]--;\n                while (j < i && s[j]) cnt[2]++, j++;\n                ans += min(cnt[2] + 1, max(i - j + 1 - k - k * k + cnt[2] + 1, 0));\n            }\n        };\n        cnt[1] = 0;\n        for (i = 0; i < n; i++) {\n            if (!s[i]) cnt[1] = 0;\n            else ans += ++cnt[1];\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722137683",
    "subm_id": "1335770762"
}