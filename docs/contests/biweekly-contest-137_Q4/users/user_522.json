{
    "username": "nikhilkasaudhan",
    "submission": "typedef long long ll;\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& a) {\n        ll n=a.size();\n        ll m=a[0].size();\n        vector<pair<ll,pair<ll,ll>>> mx;\n        if(n<m){\n        for(int i=0;i<n;i++){\n            ll mx1=-1e12,mx2=-1e12,mx3=-1e12;\n            pair<ll,ll> p1={-1,-1},p2={-1,-1},p3={-1,-1};\n            for(int j=0;j<m;j++){\n                if(a[i][j]>=mx1){\n                    mx3=mx2;\n                    mx2=mx1;\n                    mx1=a[i][j];\n                    p3=p2;p2=p1;p1={i,j};\n                }\n                else if(a[i][j]>=mx2){\n                    mx3=mx2;\n                    mx2=a[i][j];\n                    p3=p2;p2={i,j};\n                }\n                else if(a[i][j]>=mx3){\n                    p3={i,j};\n                    mx3=a[i][j];\n                }\n            }\n            mx.push_back({mx1,p1});\n            mx.push_back({mx2,p2});\n            mx.push_back({mx3,p3});\n        }\n        }\n        else{\n             for(int j=0;j<m;j++){\n            ll mx1=-1e12,mx2=-1e12,mx3=-1e12;\n            pair<ll,ll> p1={-1,-1},p2={-1,-1},p3={-1,-1};\n            for(int i=0;i<n;i++){\n                if(a[i][j]>=mx1){\n                    mx3=mx2;\n                    mx2=mx1;\n                    mx1=a[i][j];\n                    p3=p2;p2=p1;p1={i,j};\n                }\n                else if(a[i][j]>=mx2){\n                    mx3=mx2;\n                    mx2=a[i][j];\n                    p3=p2;p2={i,j};\n                }\n                else if(a[i][j]>=mx3){\n                    p3={i,j};\n                    mx3=a[i][j];\n                }\n            }\n            mx.push_back({mx1,p1});\n            mx.push_back({mx2,p2});\n            mx.push_back({mx3,p3});\n        }\n        }\n        sort(mx.rbegin(),mx.rend());\n\n        ll ans=-1e12;\n        ll len=mx.size();\n       \n        for(ll i=0;i<len;i++){\n            ll sum=0;\n            vector<ll> r(n,0),c(m,0);\n            sum+=mx[i].first;\n            r[mx[i].second.first]=1;\n            c[mx[i].second.second]=1;\n            for(ll j=i+1;j<len;j++){\n                if(r[mx[j].second.first]==1 || c[mx[j].second.second]==1 || i==j) continue;\n                sum+=mx[j].first;\n            r[mx[j].second.first]=1;\n            c[mx[j].second.second]=1;\n                for(ll k=j+1;k<len;k++){\n                     if(r[mx[k].second.first]==1 || c[mx[k].second.second]==1 || i==k || k==j) continue;\n                    ans=max(sum+mx[k].first,ans);\n                }\n                r[mx[j].second.first]=0;\n            c[mx[j].second.second]=0;\n             sum-=mx[j].first;\n            }\n           \n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723909615",
    "subm_id": "1359199284"
}