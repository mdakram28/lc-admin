{
    "username": "Pacificator",
    "submission": "typedef long long ll;\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        ll ans=LLONG_MIN;\n        int m=board.size();int n=board[0].size();\n        vector<vector<pair<int,int>>> v;\n        for(int i=0;i<m;i++){\n            vector<pair<int,int>> v1;\n            for(int j=0;j<n;j++){\n                v1.push_back(make_pair(board[i][j],j));\n            }\n            sort(v1.begin(),v1.end(),greater<pair<int,int>>());\n            while(v1.size()>3){\n                v1.pop_back();\n            }\n            v.push_back(v1);\n        }\n        vector<ll> a(n,-3e9);\n        vector<vector<pair<ll,int>>> w;\n        for(int k=m-1;k>=0;k--){\n            vector<pair<ll,int>> w1;\n            for(pair<int,int> p:v[k]){\n                a[p.second]=max(a[p.second],0ll+p.first);\n            }\n            for(int j=0;j<n;j++){\n                w1.push_back(make_pair(a[j],j));\n            }\n            sort(w1.begin(),w1.end(),greater<pair<ll,int>>());\n            while(w1.size()>3){\n                w1.pop_back();\n            }\n            w.push_back(w1);\n        }\n        reverse(w.begin(),w.end());\n        for(int i=0;i<m;i++){\n            for(int j=i+1;j<m-1;j++){\n                ll med=LLONG_MIN;\n                for(pair<int,int> p:v[i]){\n                    for(pair<int,int> q:v[j]){\n                        for(pair<ll,int> r:w[j+1]){\n                            set<int> s({p.second,q.second,r.second});\n                            if(s.size()==3){\n                                ll val=0ll+p.first+q.first+r.first;\n                                med=max(med,val);\n                            }\n                        }\n                    }\n                }\n                ans=max(med,ans);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723910359",
    "subm_id": "1359227389"
}