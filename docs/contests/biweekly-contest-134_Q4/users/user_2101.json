{
    "username": "tyapochkin",
    "submission": "class Solution:\n    def countSubarrays(self, nums: List[int], k: int) -> int:\n        ci = None\n        r = 0\n        s = 0\n        j = None\n        ss = None\n        for i, n in enumerate(nums):\n            if n & k == k:\n                if ci is not None:\n                    s = s & n\n                    if s == k:\n                        r += i - ci\n                        if j is None:\n                            j = i - 1\n                            ss = n\n                            while j >= 0 and ss & nums[j] != k:\n                                ss = ss & nums[j]\n                                j -= 1\n                            r -= i - j - 1\n                        # j = None\n                        else:\n                            if n & ss != k:\n                                ss = ss & n\n                                r -= i - j - 1\n                            else:\n                                j = i - 1\n                                ss = n\n                                while j >= 0 and ss & nums[j] != k:\n                                    ss = ss & nums[j]\n                                    j -= 1\n                                r -= i - j - 1\n\n                    if n == k:\n                        r += 1\n                        j = None\n                else:\n                    ci = i\n                    s = n\n                    if n == k:\n                        r += 1\n                    j = None\n            else:\n                ci = None\n                s = 0\n                j = None\n        return r",
    "submit_ts": "1720281450",
    "subm_id": "1311825625"
}