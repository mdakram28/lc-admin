{
    "username": "CAELO",
    "submission": "#include <bits/stdc++.h>\n#define sz size()\n#define bk back()\n#define fi first\n#define se second\n\nusing namespace std;\ntypedef long long ll;\ntypedef pair<int, int> pii;\n\nclass Solution {\n  public:\n    ll maximumValueSum(vector<vector<int>> &v) {\n        int n = v.sz;\n        int m = v[0].sz;\n\n        vector<vector<pii>> row(n);\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < m; j++) {\n                row[i].push_back({v[i][j], j});\n                sort(row[i].begin(), row[i].end(), greater<>());\n\n                if (row[i].sz == 4)\n                    row[i].pop_back();\n            }\n        }\n\n        vector<int> col(m);\n        for (int j = 0; j < m; j++)\n            col[j] = v[0][j];\n\n        ll ret = LLONG_MIN;\n\n        for (int a = 1; a < n; a++) {\n            vector<pii> mx;\n            for (int j = 0; j < m; j++) {\n                mx.push_back({col[j], j});\n                sort(mx.begin(), mx.end(), greater<>());\n\n                if (mx.sz == 4)\n                    mx.pop_back();\n            }\n\n            for (int b = a + 1; b < n; b++) {\n                for (pii p : row[a]) {\n                    for (pii q : row[b]) {\n                        if (p.se == q.se)\n                            continue;\n\n                        for (pii r : mx) {\n                            if (p.se == r.se || q.se == r.se)\n                                continue;\n\n                            ret = max(ret, (ll)p.fi + q.fi + r.fi);\n                        }\n                    }\n                }\n            }\n\n            for (int j = 0; j < m; j++)\n                col[j] = max(col[j], v[a][j]);\n        }\n\n        return ret;\n    }\n};",
    "submit_ts": "1723909585",
    "subm_id": "1359198128"
}