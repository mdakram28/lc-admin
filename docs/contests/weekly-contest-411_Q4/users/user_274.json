{
    "username": "Sudhanshu Pandey",
    "submission": "class Solution {\npublic:\n    #define ll long long\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        \n        int q = queries.size();\n        int n = s.size();\n        vector<ll> ans;\n        \n        int z = 0 , f = 0;\n        int pos = 0;\n        vector<ll> dp(n);\n        vector<ll> pre(n);\n        \n        ll sum = 0;\n        for(int i=0; i<s.size(); i++){\n            if(s[i] == '0') z++;\n            else f++;\n            \n            while(z > k && f > k){\n                if(s[pos] == '0'){z--;}\n                else f--;\n                pos++;\n            }\n            \n            dp[i] = pos;\n            sum += (i-pos+1);\n            \n            pre[i] = sum;\n            \n        }\n        ;\n        for(auto it: queries){\n            ll l = it[0] , r = it[1];\n            ll cnt = 0;\n            \n            int s = l , e = r;\n            int mid = (s+e)/2;\n            \n            while(s <= e){\n                if(dp[mid] < l){s=mid+1;}\n                else{e=mid-1;}\n                \n                mid = (s+e)/2;\n            }\n            \n            \n            int st = e;\n            ll curr = 0;\n            \n            if(s <= r){ curr += pre[r] - ((s==0)?0:pre[s-1]);}\n            \n            if(e >= l){\n                ll len = e-l+1;\n                ll sfe = l+e+2;\n                \n                ll cc = (len*sfe)/2;\n                cc -= (l*len);\n                \n                curr += cc;\n                \n            }\n            \n            \n            ans.push_back(curr);\n            \n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1723952407",
    "subm_id": "1359795573"
}