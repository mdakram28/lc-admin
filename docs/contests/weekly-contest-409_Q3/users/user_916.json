{
    "username": "wang-sun",
    "submission": "from sortedcontainers import SortedList\nclass Solution:\n    def shortestDistanceAfterQueries(self, n: int, queries: List[List[int]]) -> List[int]:\n        rmv = SortedList()\n        ans = []\n        cur = n - 1\n        for x, y in queries:\n            if len(rmv) == 0 or x > rmv[-1][1]:\n                rmv.add([x, y])\n                cur -= (y - x - 1)\n                ans.append(cur)\n            else:\n                p = rmv.bisect_right([x, y])\n                if p == 0:\n                    if rmv and rmv[0][0] == x and rmv[0][1] >= y:\n                        ans.append(cur)\n                        continue\n                    if not rmv or rmv[0][0] >= y:\n                        rmv.add([x, y])\n                        cur -= (y - x - 1)\n                        ans.append(cur)\n                        continue\n                    dis0 = 0  # \u4e4b\u524d\u51cf\u5c11\u7684\u957f\u5ea6\n                    while p < len(rmv) and rmv[p][1] <= y:\n                        dis0 += (rmv[p][1] - rmv[p][0] - 1)\n                        # rmv.remove([rmv[p][0], rmv[p][1]])\n                        del (rmv[p])\n                        # p += 1\n                    dis1 = y - x - 1  # \u73b0\u5728\u51cf\u5c11\u7684\u957f\u5ea6\n                    rmv.add([x, y])\n                    cur -= (dis1 - dis0)\n                    ans.append(cur)\n                    continue\n                if rmv[p - 1][1] >= y:\n                    ans.append(cur)\n                    continue\n                if rmv[p - 1][0] == x:\n                    p = p - 1\n                dis0 = 0  # \u4e4b\u524d\u51cf\u5c11\u7684\u957f\u5ea6\n                while p < len(rmv) and rmv[p][1] <= y:\n                    dis0 += (rmv[p][1] - rmv[p][0] - 1)\n                    # rmv.remove([rmv[p][0], rmv[p][1]])\n                    del(rmv[p])\n                    # p += 1\n                dis1 = y - x - 1  # \u73b0\u5728\u51cf\u5c11\u7684\u957f\u5ea6\n                rmv.add([x, y])\n                cur -= (dis1 - dis0)\n                ans.append(cur)\n        return ans",
    "submit_ts": "1722742924",
    "subm_id": "552347737"
}