{
    "username": "Asish",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        int n=s.size(),q=queries.size();\n        vector<long long> pref(n+1,0),summ(n+1,0);\n        vector<int> next(n,n);\n        int o=0,z=0,j=0;\n        for(int i=0;i<n;++i){\n            summ[i+1]=i;\n            if(s[i]=='0') z++;\n            else o++;\n            while(o>k && z>k){\n                pref[j+1]=i-j;\n                if(s[j]=='0') z--;\n                else o--;\n                next[j]=i;\n                j++;\n            }\n        }\n        while(j<n){\n            pref[j+1]=n-j;\n            j++;\n        }\n        for(int i=1;i<=n;++i){\n            pref[i]+=pref[i-1];\n            summ[i]+=summ[i-1];\n        }\n        vector<long long> ans;\n        for(int i=0;i<q;++i){\n            int l=queries[i][0],r=queries[i][1];\n            int low=l,high=r,mid,index=l-1;\n            while(low<=high){\n                mid=(low+high)>>1;\n                if(next[mid]<r+1){\n                    index=mid;\n                    low=mid+1;\n                }\n                else{\n                    high=mid-1;\n                }\n            }\n            long long cur=0;\n            if(index>=l){\n                cur=pref[index+1]-pref[l];\n            }\n            if(index<r){\n                cur+=1ll*(r+1)*(r-index)-(summ[r+1]-summ[index+1]);\n            }\n            ans.push_back(cur);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723953311",
    "subm_id": "1359817898"
}