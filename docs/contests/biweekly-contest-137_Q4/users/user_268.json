{
    "username": "\u9189\u91cc\u6311\u706f\u770b\u5251",
    "submission": "class Solution:\n    def maximumValueSum(self, board: List[List[int]]) -> int:\n        n, m = len(board), len(board[0])\n\n        def f(i0, i1, j0, j1):\n            g0 = [[-math.inf] * m for _ in range(n)]\n            g1 = [[-math.inf] * m for _ in range(n)]\n            di = 1 if i1 >= i0 else -1\n            dj = 1 if j1 >= j0 else -1\n            for i in range(i0, i1 + di, di):\n                for j in range(j0, j1 + dj, dj):\n                    g0[i][j] = board[i][j]\n                    if i != i0:\n                        g0[i][j] = max(g0[i][j], g0[i - di][j])\n                    if j != j0:\n                        g0[i][j] = max(g0[i][j], g0[i][j - dj])\n                    if i != i0 and j != j0:\n                        g0[i][j] = max(g0[i][j], g0[i - di][j - dj])\n            \n            col = [-math.inf] * m\n            for i in range(i0, i1 + di, di):\n                row = -math.inf\n                for j in range(j0, j1 + dj, dj):\n                    if i != i0 and j != j0:\n                        g1[i][j] = board[i][j] + g0[i - di][j - dj]\n                    g1[i][j] = max(g1[i][j], row + col[j])\n                    if i != i0:\n                        g1[i][j] = max(g1[i][j], g1[i - di][j])\n                    if j != j0:\n                        g1[i][j] = max(g1[i][j], g1[i][j - dj])\n                    if i != i0 and j != j0:\n                        g1[i][j] = max(g1[i][j], g1[i - di][j - dj])\n                    row = max(row, board[i][j])\n                    col[j] = max(col[j], board[i][j])\n            return g1\n        \n        glt = f(0, n - 1, 0, m - 1)\n        grt = f(0, n - 1, m - 1, 0)\n        glb = f(n - 1, 0, 0, m - 1)\n        grb = f(n - 1, 0, m - 1, 0)\n\n        ans = -math.inf\n        for i in range(n):\n            for j in range(m):\n                if i > 1 and j > 1:\n                    ans = max(ans, board[i][j] + glt[i - 1][j - 1])\n                if i < n - 2 and j > 1:\n                    ans = max(ans, board[i][j] + glb[i + 1][j - 1])\n                if i > 1 and j < m - 2:\n                    ans = max(ans, board[i][j] + grt[i - 1][j + 1])\n                if i < n - 2 and j < m - 2:\n                    ans = max(ans, board[i][j] + grb[i + 1][j + 1])\n        return ans",
    "submit_ts": "1723908905",
    "subm_id": "556333497"
}