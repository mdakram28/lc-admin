{
    "username": "Noobmaster_321",
    "submission": "class Solution {\npublic:\n    bool track(int n,vector<int>&cnt){\n        for(int i=0;i<=30;i++) if(cnt[i]==n) return true;\n        return false;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        vector<bool> yes(n,0);\n        for(int i=0;i<n;i++){\n            if((nums[i]&k)==k) yes[i]=1;\n        }\n        long long ans=0;\n        long long pre=0;\n        //find number of subarrays with AND>=k\n        for(int i=0;i<n;i++){\n            if(yes[i]) pre++;\n            else{\n                ans+=((pre)*(pre+1))/2;\n                pre=0;\n            }\n        }\n        ans+=((pre)*(pre+1))/2;\n\n        for(int i=0;i<n;i++) if(yes[i]) nums[i]^=k;\n        pre=0;\n        vector<int> cnt(40,0);\n        int p1=0;\n        for(int i=0;i<n;i++){\n            //subtract no. of subarrays which have yes=1 && with AND !=0\n            if(yes[i]){\n                for(int j=0;j<=30;j++) if(nums[i]&(1<<j)) cnt[j]++;\n                while(!track(i-p1+1,cnt)){\n                    for(int j=0;j<=30;j++) if(nums[p1]&(1<<j)) cnt[j]--;\n                    p1++;\n                }\n                ans-=(i-p1+1);\n            }\n            else{\n                for(int j=0;j<=32;j++) cnt[j]=0;\n                p1=i+1;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279916",
    "subm_id": "1311770126"
}