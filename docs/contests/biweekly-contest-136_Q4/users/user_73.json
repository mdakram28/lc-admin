{
    "username": "shangzhq-2",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size() + 1;\n        vector<int> ans(n);\n        vector<vector<int>> nxt(n);\n        for(auto &i : edges) nxt[i[0]].push_back(i[1]), nxt[i[1]].push_back(i[0]);\n        vector<int> mx1(n), mx2(n);\n        function<void(int, int)> dfs = [&](int u, int p) {\n            for(auto i : nxt[u]) {\n                if(i == p) continue;\n                dfs(i, u);\n                int t = mx1[i] + 1;\n                if(i % 2 == 0) t ++;\n                if(t > mx1[u]) mx2[u] = mx1[u], mx1[u] = t;\n                else if(t > mx2[u]) mx2[u] = t;\n            }\n        };\n        \n        dfs(0, -1);\n        \n        \n        function<void(int, int)> chroot = [&](int u, int p) {\n            ans[u] = mx1[u];\n            // cout << u << ' ' << mx1[u] << ' ' << mx2[u] << endl;\n            for(auto i : nxt[u]) {\n                \n                if(i == p) continue;\n                \n                int t = mx1[i] + 1;\n                if(i % 2 == 0) t ++;\n                int a = mx1[u], b = mx2[u];\n                int a1 = mx1[i], b1 = mx2[i];\n                \n                if(a == t) {\n                    mx1[u] = b;\n                }\n                \n                int tt = mx1[u] + 1;\n                if(u % 2 == 0) tt ++;\n                // cout << \"HH \" << u << ' ' << i << ' ' << tt << ' ' << mx1[u] << endl;\n                if(tt > a1) mx2[i] = a1, mx1[i] = tt;\n                else if(tt > b1) mx2[i] = tt;\n                \n                chroot(i, u);\n                \n                mx1[u] = a, mx2[u] = b;\n                mx1[i] = a1, mx2[i] = b1;\n            }\n        };\n        \n        chroot(0, -1);\n        return ans;\n    }\n};",
    "submit_ts": "1722698195",
    "subm_id": "552269789"
}