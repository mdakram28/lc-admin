{
    "username": "hank55663",
    "submission": "vector<int> v[100005];\nclass Solution {\npublic:\n    vector<int> ans;\n    vector<int> Max,Maxf,Max2;\n    int dfs(int x,int f){\n        int a=0,b=0,from=-1;\n        for(auto it:v[x]){\n            if(it!=f){\n                int res=dfs(it,x);\n                if(it%2==0)res+=2;\n                else res++;\n                if(res>a)b=a,a=res,from=it;\n                else if(res>b)b=res;\n            }\n        }\n      //  printf(\"%d %d %d\\n\",x,a,b);\n        ans[x]=a;\n        Max[x]=a;\n        Maxf[x]=from;\n        Max2[x]=b;\n        return Max[x];\n    }\n    void dfs2(int x,int f,int val=0){\n        ans[x]=max(ans[x],val);\n        for(auto it:v[x]){\n            if(it!=f){\n                if(Maxf[x]==it){\n                    dfs2(it,x,max(val,Max2[x])+(x%2==0?2:1));\n                }\n                else{\n                    dfs2(it,x,max(val,Max[x])+(x%2==0?2:1));\n                }\n            }\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        for(int i = 0;i<=edges.size();i++)v[i].clear();\n        for(auto it:edges){\n            v[it[0]].push_back(it[1]);\n            v[it[1]].push_back(it[0]);\n        }        \n        ans.clear();\n        int n=edges.size()+1;\n        Max.resize(n);\n        Maxf.resize(n);\n        Max2.resize(n);\n        ans.resize(edges.size()+1);\n        ans[0]=0;\n        dfs(0,0);\n        dfs2(0,0);\n        return ans;\n    }\n};",
    "submit_ts": "1722696529",
    "subm_id": "1343111489"
}