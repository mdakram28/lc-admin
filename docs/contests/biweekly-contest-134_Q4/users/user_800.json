{
    "username": "Ashansh1",
    "submission": "class Solution {\n    int value_lr(int l,int r,vector<vector<int>> &prefix)\n    {\n        int ans=0;\n        for(int j=0;j<32;j++)\n        {\n            if(prefix[r][j]-prefix[l-1][j]==r-l+1)ans|=(1<<j);\n        }\n        return ans;\n    }\npublic:\n    long long countSubarrays(vector<int>& v, int k) {\n        long long ans=0;\n        v.insert(v.begin(),0);\n                int n=v.size();\n        vector<vector<int>> prefix(n,vector<int>(32,0));\n        \n        for(int i=1;i<=n-1;i++)\n        {\n            for(int j=0;j<32;j++)\n            {\n                if(v[i]&(1<<j))\n                {\n                    prefix[i][j]++;\n                }\n                prefix[i][j]+=prefix[i-1][j];\n            }\n        }\n        for(int i=1;i<=n-1;i++)\n        {\n            int s=i,e=n-1;\n            int l=-1,r=-1;\n            while(s<=e){\n                int mid=(s+e)/2;\n                if(value_lr(i,mid,prefix)>k)\n                {\n                    s=mid+1;\n                }else if(value_lr(i,mid,prefix)<k){\n                    e=mid-1;\n                }else{\n                    l=mid;\n                    e=mid-1;\n                }\n            }\n            if(l==-1 || value_lr(i,l,prefix)!=k)continue;\n            s=i,e=n-1;\n            while(s<=e){\n                int mid=(s+e)/2;\n                if(value_lr(i,mid,prefix)>k)\n                {\n                    s=mid+1;\n                }else if(value_lr(i,mid,prefix)<k)\n                {\n                    e=mid-1;\n                }else{\n                    r=mid;\n                    s=mid+1;\n                }\n            }\n            ans+=r-l+1;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279530",
    "subm_id": "1311754892"
}