{
    "username": "Shnatan",
    "submission": "class Solution {\npublic:\n    vector<long long> seg, dp ;\n    const long long MOD = 1e9 + 7 ; \n    void build(int lo, int hi, int ind) {\n        if(lo>hi) return ;\n        if(lo==hi) {\n            seg[ind] = dp[lo] ;\n            return ;\n        }\n        int mid = (lo+hi) / 2 ;\n        build(lo,mid,2*ind) ;\n        build(mid+1,hi,2*ind+1) ;\n        seg[ind] = (seg[2*ind]+seg[2*ind+1])%MOD ;\n    }\n    long long query(int lo, int hi, int l, int r, int ind) {\n        if(lo>r||hi<l) return 0 ;\n        if(lo>=l&&hi<=r) return seg[ind] ;\n        int mid = (lo+hi) / 2 ;\n        return(query(lo,mid,l,r,2*ind)+query(mid+1,hi,l,r,2*ind+1))%MOD ;\n    }\n    int countOfPairs(vector<int>& nums) {\n        ios_base::sync_with_stdio(0);\n        cin.tie(0);\n        cout.tie(0);\n        int n = nums.size();\n        int m = 0;\n        const long long MOD = 1e9 + 7;\n        for (int i = 0; i < n; i++)\n            m = max(nums[i], m);\n        dp.assign(m+2,0) ;\n        seg.assign(4*(m+1)+1,0) ;\n        for (int i = 0; i <= nums[0]; i++)\n            dp[i+1] = 1;\n        build(1,m+1,1) ;\n        for (int i = 1; i < n; i++) {\n            vector<long long> temp(m + 2, 0);\n            for (int c = 0; c <= nums[i]; c++) { \n\n                int val = query(1,m+1,1,min(c,nums[i-1]+c-nums[i])+1,1) ;\n                temp[c+1] = (temp[c+1]+val)%MOD ;\n            }\n            dp = temp; \n            build(1,m+1,1) ;\n        }\n        long long ans = 0;\n        for (int i = 1; i <= m+1; i++) {\n            ans = (ans + dp[i]) % MOD;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723347311",
    "subm_id": "1351596231"
}