{
    "username": "chentodd2012",
    "submission": "struct TrieNode\n{\n    int index = -1;\n    int cost = INT_MAX;\n    bool isWord = false;\n    TrieNode* children[26] = { nullptr };\n};\n\nclass Solution \n{\npublic:\n    int minimumCost(string target, vector<string>& words, vector<int>& costs) \n    {\n        int n = target.size();\n        target = \"#\" + target;\n        std::memset(dp_, 0x3f, sizeof(dp_));\n        \n        words.insert(words.begin(), \"\");\n        costs.insert(costs.begin(), 0);\n        \n        TrieNode* root = new TrieNode();\n        for (int i = 1; i < words.size(); ++i)\n        {\n            TrieNode* node = root;\n            \n            for (auto ch : words[i])\n            {\n                if (node->children[ch - 'a'] == nullptr)\n                    node->children[ch - 'a'] = new TrieNode();\n                node = node->children[ch - 'a'];\n            }\n            \n            node->isWord = true;\n            if (costs[i] < node->cost)\n            {\n                node->cost = costs[i];\n                node->index = i;\n            }\n        }\n        \n        \n        dp_[0] = 0;\n        for (int i = 1; i <= n; ++i)\n        {\n            TrieNode* node = root;\n            for (int j = i; j <= n; ++j)\n            {\n                char ch = target[j];\n                if (node->children[ch - 'a'] == nullptr)\n                    break;\n                \n                node = node->children[ch - 'a'];\n                //std::cout << \"here: \" << ch << \"\\n\";\n                if (node->isWord)\n                {\n                    int k = node->index;\n                    int c = node->cost;\n                    if (dp_[i - 1] != 0x3f3f3f3f)\n                        dp_[j] = std::min(dp_[j], dp_[i - 1] + c);\n                }\n                //std::cout << \"dp_j: \" << dp_[j] << \"\\n\";\n            }\n            \n            //std::cout << \"dp_i: \" << dp_[i] << \"\\n\";\n        }\n        \n        if (dp_[n] >= 0x3f3f3f3f)\n            return -1;\n        return dp_[n];\n    }\n    \nprivate:\n    int dp_[50005];\n};\n\n// dp[i], the min cost to make target[1:i]\n// #  i x x x j x x\n// #  x x x x i t x j x\n                 \n\n// ch -> target[i]",
    "submit_ts": "1720324022",
    "subm_id": "1312389741"
}