{
    "username": "ddd-a",
    "submission": "class Solution {\npublic:\n    static const int maxn = 1e5+10;\n    int precnt[maxn][31];\n    long long countSubarrays(vector<int>& nums, int k) {\n        for(int i = 0;i<nums.size();++i){\n            for(int j = 0;j<31;++j){\n                precnt[i+1][j] += nums[i] >> j & 1;\n                precnt[i+1][j] += precnt[i][j];\n            }\n        }\n        long long res = 0;\n        for(int i = 1;i<=nums.size();++i){\n            int l = i,r = nums.size();\n            int idxR = -1;\n            while(l<=r){\n                int mid = (l+r)>>1;\n                int val = 0;\n                for(int j = 0;j<31;++j){\n                    if(precnt[mid][j] - precnt[i-1][j] == mid - i + 1)val |= (1<<j);\n                }\n                if(val < k){\n                    r = mid-1;\n                }else{\n                    if(val == k)\n                        idxR = mid;\n                    l = mid + 1;\n                }\n            }\n            int idxL = nums.size();\n            l = i,r = nums.size();\n            while(l<=r){\n                int mid = (l+r)>>1;\n                int val = 0;\n                for(int j = 0;j<31;++j){\n                    if(precnt[mid][j] - precnt[i-1][j] == mid - i + 1)val |= (1<<j);\n                }\n                // if(i == 2)cout<<mid<<\"Fk\"<<val<<endl;\n                if(val <= k){\n                    if(val == k)idxL = mid;\n                    r = mid -1;\n                }else{\n                    l = mid + 1;\n                }\n            }\n            \n            // cout<<idxL<<\":\"<<idxR<<endl;\n            res += max(0,idxR - idxL + 1);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1720277434",
    "subm_id": "544556615"
}