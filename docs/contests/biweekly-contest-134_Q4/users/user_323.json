{
    "username": "lokesh_wagh",
    "submission": "class Solution {\npublic:\n    int eval(vector<vector<long long>>&dp,long long x,long long y){\n        int ans = 0;\n        for(int i=0;i<32;i++){\n            if(dp[y+1][i] - dp[x][i] == y - x + 1){\n                ans += (1<<i);\n            }\n        }\n        return ans;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<long long>>dp(n+1,vector<long long>(32,0));\n        for(int i=0;i<n;i++){\n            for(int j=0;j<32;j++){\n                if((nums[i] & (1<<j)) > 0){\n                    dp[i+1][j] = dp[i][j] + 1; \n                }\n                else{\n                    dp[i+1][j] = dp[i][j];\n                }\n            }\n        } \n        // for(int i=0;i<n+1;i++){\n        //     for(int j=0;j<32;j++){\n        //         cout<<dp[i][j]<<\" \";\n        //     }\n        //     cout<<\"\\n\";\n        // }\n        long long ans = 0;\n        // cout<<eval(dp,1,n-1);\n        for(int i=0;i<n;i++){\n            long long st = i;\n            long long ed = n;\n            long long low = -1;\n            long long high = -1;\n            while(st < ed){\n                long long mid = st + (ed - st)/2;\n                long long g = eval(dp,i,mid);\n                if(g > k){\n                    st = mid + 1;\n                }\n                else{\n                    if(g == k){\n                        low = mid;\n                    }\n                    ed = mid;\n                }\n            }\n            st = i;\n            ed = n;\n            while(st < ed){\n                long long mid = st + (ed - st)/2;\n                long long g = eval(dp,i,mid);\n                if(g >= k){\n                    if(g == k){\n                        high = mid;\n                    }\n                    st = mid + 1;\n                }\n                else{\n                   \n                    ed = mid;\n                }\n            }\n            if(high != -1 || low != -1){\n                ans += high - low + 1;\n            }\n            // cout<<i<<\" \"<<low<<\" \"<<high<<\"\\n\";\n            \n        }  \n        return ans;\n    }\n};",
    "submit_ts": "1720278830",
    "subm_id": "1311726111"
}