{
    "username": "aknov711",
    "submission": "#define INF INT_MAX\nclass Solution {\n    int calc(vector<vector<int>>& grid){\n        int n=grid.size();\n        int m=grid[0].size();\n        int ans=0;\n        for(int i=0; i<n/2; i++){\n            for(int j=0; j<m/2; j++){\n                int cnt1=0;\n                cnt1+=grid[i][j];\n                cnt1+=grid[i][m-1-j];\n                cnt1+=grid[n-1-i][j];\n                cnt1+=grid[n-1-i][m-1-j];\n                cnt1=min(cnt1, 4-cnt1);\n                ans+=cnt1;\n            }\n        }\n        \n        int single0=0;\n        int single1=0;\n        int cnt11=0;\n        int cnt00=0;\n        int cnt10=0;\n        \n        if(n%2 && m%2)\n        {\n            if(grid[n/2][m/2]==1)\n                single1++;\n            else \n                single0++;\n        }\n        \n        if(n%2){\n            for(int j=0;j<m/2;j++){\n               if(grid[n/2][j] != grid[n/2][m-1-j])\n                   cnt10++;\n                else if(grid[n/2][j])\n                    cnt11++;\n                else \n                    cnt00++;\n            }\n        }\n        \n        if(m%2){\n            for(int i=0;i<n/2;i++){\n               if(grid[i][m/2] != grid[n-1-i][m/2])\n                   cnt10++;\n                else if(grid[i][m/2])\n                    cnt11++;\n                else \n                    cnt00++;\n            }\n        }\n        ans += cnt10;\n        int tot = cnt10 + 2*cnt11 + single1;\n        int res=INF;\n        for(int i=0;i<=min(4, cnt10);i++){\n            int newTotal = tot + i;\n            newTotal -= (cnt10-i);\n            newTotal%=4;\n            int temp = ans;\n            int newboth = cnt11 + cnt00 + cnt10;\n            if(newTotal==1){\n                if(single1 > 0) temp++;\n                else if(single0 > 0 && newboth > 0) temp+=3;\n                else temp=INF;\n            } else if(newTotal == 2){\n                if(newboth > 0) temp+=2;\n                else \n                    temp=INF;\n            } else if(newTotal==3){\n                if(single0 > 0) temp++;\n                else if(single1 > 0 && newboth>0) temp+=3;\n                else \n                    temp=INF;\n            }\n            res=min(res, temp);\n        }\n        \n        return res;\n    }\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        \n       return calc(grid);\n        \n    }\n};",
    "submit_ts": "1722700023",
    "subm_id": "1343229360"
}