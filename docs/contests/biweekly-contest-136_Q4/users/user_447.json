{
    "username": "ab_1607",
    "submission": "class Solution {\npublic:\n    vector<int>g[100005];\n    int dfs(int nod,int par,vector<int>&cost){\n        int c=0;\n        for(auto x : g[nod]){\n            if(x!=par){\n                c=max(c,dfs(x,nod,cost));\n            }\n        }\n        int an=nod%2?1:2;\n        return cost[nod]=c+an;\n    }\n    \n    void dfs2(int nod,int par,int parAns,vector<int>&cost,vector<int>&ans){\n        // cout<<nod<<\" \"<<parAns<<endl;\n        int n=ans.size();\n        vector<int>pre,suf;\n        pre.push_back(0);\n        for(auto x : g[nod]){\n            if(x!=par){\n                pre.push_back(cost[x]);\n                suf.push_back(cost[x]);\n            }\n        }\n        ans[nod]=max(ans[nod],max(cost[nod]-(nod%2?1:2),parAns+(par%2?1:2)));\n        int siz=pre.size();\n        suf.push_back(0);\n        for(int i=1;i<siz;i++){\n            pre[i]=max(pre[i],pre[i-1]);\n        }\n        for(int i=siz-2;i>=0;i--){\n            suf[i]=max(suf[i],suf[i+1]);\n        }\n        int i=0;\n        for(auto x : g[nod]){\n            if(x!=par)\n            {\n                int pAns=max(pre[i],suf[i+1]);\n                if(nod!=0)\n                    pAns=max(pAns,parAns+(par%2?1:2));\n                dfs2(x,nod,pAns,cost,ans);\n                i++;\n            }\n        }\n    }\n    \n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=0;\n        for(auto x : edges){\n            n=max(n,x[0]);\n            n=max(n,x[1]);\n            g[x[0]].push_back(x[1]);\n            g[x[1]].push_back(x[0]);\n        }\n        n++;\n        vector<int>cost(n,0);\n        \n        int x=dfs(0,-1,cost);\n        vector<int>ans(n,0);\n        ans[0]=cost[0]-2;\n        dfs2(0,-1,0,cost,ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722699271",
    "subm_id": "1343206609"
}