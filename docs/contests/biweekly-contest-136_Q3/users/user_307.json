{
    "username": "dgzhn",
    "submission": "class Solution:\n    def minFlips(self, grid: List[List[int]]) -> int:\n        n,m = len(grid),len(grid[0])\n        ans = 0\n        for i in range(n // 2):\n            for j in range(m // 2):\n                v1 = grid[i][j]\n                v2 = grid[n - 1- i][j]\n                v3 = grid[i][m - 1 - j]\n                v4 = grid[n - 1 - i][m - 1 -j]\n                v = v1 + v2 + v3 + v4\n                ans += min(v,4 - v)\n        inf = float('inf')\n        dp1 = [inf,inf]\n        dp2 = [inf,inf]\n        if n & 1:\n            l,r = 0,m - 1\n            cnt1 = 0\n            diffn = 0\n            while l < r:\n                if grid[n // 2][l] != grid[n // 2][r]:\n                    diffn += 1\n                elif grid[n // 2][l] == 1:\n                    cnt1 += 2\n                l += 1\n                r -= 1\n            if cnt1 % 4 == 2:\n                if diffn == 0:\n                    dp1 = [0,2]\n                else:\n                    dp1[0] = diffn\n                    dp1[1] = diffn\n            else:\n                dp1[1] = diffn\n                dp1[0] = inf if diffn == 0 else diffn\n        if m & 1:\n            l,r = 0,n - 1\n            cnt1 = 0\n            diffm = 0\n            while l < r:\n                if grid[l][m // 2] != grid[r][m // 2]:\n                    diffm += 1\n                elif grid[l][m // 2] == 1:\n                    cnt1 += 2\n                l += 1\n                r -= 1\n            if cnt1 % 4 == 2:\n                if diffm == 0:\n                    dp2 = [0, 2]\n                else:\n                    dp2[0] = diffm\n                    dp2[1] = diffm\n            else:\n                dp2[1] = diffm\n                dp2[0] = inf if diffm == 0 else diffm\n        if n & 1 and m & 1:\n            if grid[n // 2][m // 2] == 1:\n                ans += 1\n            ans += min(dp1[0] + dp2[0],dp1[1] + dp2[1])\n        elif n & 1:\n            ans += dp1[-1]\n        elif m & 1:\n            ans += dp2[-1]\n\n        return ans",
    "submit_ts": "1722698603",
    "subm_id": "552271629"
}