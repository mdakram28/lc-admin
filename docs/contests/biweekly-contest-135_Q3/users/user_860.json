{
    "username": "omgupta20382038",
    "submission": "class Solution {\npublic:\nvoid prepareData(const vector<int>& nums, int k, unordered_map<int, vector<int>>& differencesMap, vector<int>& maxValues) {\n    int length = nums.size();\n\n    for (int i = 0; i < length / 2; ++i) {\n        int firstElement = nums[i];\n        int secondElement = nums[length - i - 1];\n        int difference = abs(firstElement - secondElement);\n        int maxValue = max({firstElement, secondElement, k - firstElement, k - secondElement});\n        differencesMap[difference].push_back(maxValue);\n        maxValues.push_back(maxValue);\n    }\n}\n\nint calculateTotalChanges(const unordered_map<int, vector<int>>& differencesMap, const vector<int>& sortedMaxValues, int length, int difference) {\n    int lowerBoundIndex = lower_bound(sortedMaxValues.begin(), sortedMaxValues.end(), difference) - sortedMaxValues.begin();\n\n    int totalChanges = lowerBoundIndex * 2 + (length / 2 - lowerBoundIndex);\n\n    for (const auto& maxValue : differencesMap.at(difference)) {\n        if (maxValue < difference) {\n            totalChanges -= 2;\n        } else {\n            totalChanges -= 1;\n        }\n    }\n\n    return totalChanges;\n}\n\nint calculateMinChanges(const unordered_map<int, vector<int>>& differencesMap, const vector<int>& maxValues, int length) {\n    int minChanges = length;\n    vector<int> sortedMaxValues = maxValues;\n    sort(sortedMaxValues.begin(), sortedMaxValues.end());\n\n    for (const auto& pair : differencesMap) {\n        int difference = pair.first;\n        int totalChanges = calculateTotalChanges(differencesMap, sortedMaxValues, length, difference);\n        minChanges = min(minChanges, totalChanges);\n    }\n\n    return minChanges;\n}\n\nint minChanges(vector<int>& nums, int k) {\n    unordered_map<int, vector<int>> differencesMap;\n    vector<int> maxValues;\n\n    prepareData(nums, k, differencesMap, maxValues);\n\n    int length = nums.size();\n    return calculateMinChanges(differencesMap, maxValues, length);\n}\n};",
    "submit_ts": "1721488871",
    "subm_id": "1327435752"
}