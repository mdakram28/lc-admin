{
    "username": "2000bhawesh",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    \n    long long solver(vector<int>& nums,int k)\n    {\n         int n = nums.size();\n        \n        vector<vector<int>> pref(33,vector<int>(n,0));\n        \n        for(int i=30;i>=0;i--)\n        {\n            for(int j=0;j<n;j++)\n            {\n                if((nums[j]>>i)&1)\n                    pref[i][j] = 1;\n            }\n        }\n        \n        for(int i=30;i>=0;i--)\n        {\n            for(int j=1;j<n;j++)\n                pref[i][j]+=pref[i][j-1];\n        }\n        \n        ll ans1 = 0;\n        \n        auto good1 = [&](int mid,int l)\n        {\n            int a=0;\n            for(int i=30;i>=0;i--)\n            {\n                int p1 = pref[i][mid];\n                int p2 = 0;\n                if(l-1>=0)\n                    p2 = pref[i][l-1];\n                p1-=p2;\n                if(p1==(mid-l+1))\n                    a|=(1<<i);\n                    \n            }\n            \n            return a>k;\n            \n        };\n        \n        int head = -1,tail = 0;\n        while(tail<n)\n        {\n            while(head+1<n and good1(head+1,tail))\n            {\n                head++;\n            }\n            ans1+=(n-head);\n            \n            if(head<tail)\n            {\n                tail++;\n                head = tail-1;\n            }\n            else\n            {\n                tail++;\n            }\n            \n            \n        }\n        \n        return ans1;\n       \n        \n        \n        \n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        \n        ll a1 = solver(nums,k);\n        ll a2 = solver(nums,k-1);\n        \n        //cout<<a1<<\" \"<<a2<<\"\\n\";\n        \n        return a1-a2;\n        \n     \n    }\n};",
    "submit_ts": "1720281052",
    "subm_id": "1311811450"
}