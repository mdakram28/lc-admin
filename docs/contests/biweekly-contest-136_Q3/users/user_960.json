{
    "username": "yu-meng-fan-xiao-jiang-ban",
    "submission": "\nclass Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int m = grid.size();\n        int n = grid[0].size();\n        int flips = 0;\n\n        // \u68c0\u67e5\u56db\u5206\u4e4b\u4e00\u7684\u77e9\u9635\uff0c\u8bbe\u7f6e\u6bcf\u4e2a\u4f4d\u7f6e\u7684\u503c\n        for (int i = 0; i < m / 2; ++i) {\n            for (int j = 0; j < n / 2; ++j) {\n                // \u7edf\u8ba1\u56db\u4e2a\u5bf9\u79f0\u4f4d\u7f6e\u76841\u7684\u6570\u91cf\n                int count1 = grid[i][j] + grid[m - 1 - i][j] +\n                             grid[i][n - 1 - j] + grid[m - 1 - i][n - 1 - j];\n\n                // \u5224\u65ad\u7ffb\u8f6c\u6b21\u6570\n                if (count1 >= 2) {\n                    // \u5982\u679c\u6709\u4e24\u4e2a\u6216\u4ee5\u4e0a1\uff0c\u5219\u5c06\u56db\u4e2a\u4f4d\u7f6e\u7684\u503c\u8bbe\u4e3a1\n                    flips += (4 - count1); // \u7ffb\u8f6c\u5269\u4e0b\u76840\u4e3a1\n                } else if (count1 == 1) {\n                    // \u5982\u679c\u53ea\u6709\u4e00\u4e2a1\uff0c\u5219\u5c06\u8fd9\u4e2a1\u7ffb\u8f6c\u4e3a0\n                    flips++;\n                }\n            }\n        }\n        // return flips;\n\n        int count = 0;\n        bool count1 = 0;\n\n        // \u5904\u7406\u5947\u6570\u884c\u4e0e\u5947\u6570\u5217\u7684\u60c5\u51b5\n        if (m % 2 == 1) { // \u884c\u4e3a\u5947\u6570\n            int middle_row = m / 2;\n            for (int j = 0; j < n / 2; ++j) {\n                // \u786e\u4fdd\u5bf9\u4e8e\u4e00\u8fb9\u662f0\u4e00\u8fb9\u662f1\u7684\u60c5\u51b5\n                if (grid[middle_row][j] != grid[middle_row][n - 1 - j]) {\n                    flips++; // \u7ffb\u8f6c\n                    count1 = 1;\n                    grid[middle_row][j] = 1;\n                    grid[middle_row][n - 1 - j] = 1;\n                }\n            }\n            for (int j = 0; j < n / 2; j++) {\n                if (grid[middle_row][j] == 1) {\n                    count++;\n                }\n            }\n        }\n\n        if (n % 2 == 1) { // \u5217\u4e3a\u5947\u6570\n            int middle_col = n / 2;\n            for (int i = 0; i < m; ++i) {\n                // \u786e\u4fdd\u5bf9\u4e8e\u4e00\u8fb9\u662f0\u4e00\u8fb9\u662f1\u7684\u60c5\u51b5\n                if (grid[i][middle_col] != grid[m - 1 - i][middle_col]) {\n                    flips++; // \u7ffb\u8f6c\n                    grid[i][middle_col] = 1;\n                    grid[m - 1 - i][middle_col] = 1;\n                    count1 = 1;\n                }\n            }\n            for (int j = 0; j < m / 2; j++) {\n                if (grid[j][middle_col] == 1) {\n                    count++;\n                }\n            }\n        }\n        if (count % 2 != 0 && count1 == 0) {\n            flips += 2;\n        }\n        //return flips;\n\n        // \u5904\u7406\u884c\u548c\u5217\u5747\u4e3a\u5947\u6570\u7684\u60c5\u51b5\n        if (m % 2 == 1 && n % 2 == 1) {\n            // \u4e2d\u95f4\u7684\u5143\u7d20\u4e00\u5b9a\u8981\u8bbe\u7f6e\u4e3a0\n            if (grid[m / 2][n / 2] == 1) {\n                flips++; // \u5c06\u4e2d\u5fc3\u5143\u7d20\u8bbe\u4e3a0\n            }\n        }\n\n        return flips;\n    }\n};\n",
    "submit_ts": "1722698173",
    "subm_id": "552269689"
}