{
    "username": "realskins",
    "submission": "class Solution {\n    int nxtnot[100005], nxtz[32][100005], n;\n    int isz(int i, int k) {\n        return !((i >> k) & 1);\n    }\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        n = nums.size();\n        long long rst = 0;\n        nxtnot[n] = n;\n        for(int i = 0; i < 32; i += 1) {\n            nxtz[i][n] = n;\n        }\n        for(int i = n-1; i >= 0; i -= 1) {\n            nxtnot[i] = nxtnot[i+1];\n            if((nums[i] & k) < k)\n                nxtnot[i] = i;\n        }\n        for(int i = 0; i < 32; i += 1) {\n            for(int j = n-1; j >= 0; j -= 1) {\n                nxtz[i][j] = nxtz[i][j+1];\n                if(isz(nums[j], i))\n                    nxtz[i][j] = j;\n            }\n        }\n        for(int i = 0; i < n; i += 1) {\n            int cur = nums[i], ok = 1;\n            if((cur & k) < k) {\n                continue;\n            }\n            int r = nxtnot[i] - 1, l = i;\n            for(int kk = 0; kk < 32; kk += 1) {\n                if(!isz(k, kk))\n                    continue;\n                if(nxtz[kk][i] > r) {\n                    ok = 0; break;\n                }\n                l = max(l, nxtz[kk][i]);\n            }\n            if(!ok) {\n                continue;\n            }\n            rst += r - l + 1;\n        }\n        return rst;\n    }\n};",
    "submit_ts": "1720279188",
    "subm_id": "544566363"
}