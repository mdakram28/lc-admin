{
    "username": "Rohit2593",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n = s.size();\n\n        vector<int> ind;\n        for(int i = 0; i<n; i++) {\n            if(s[i] == '0')\n                ind.push_back(i);\n        }\n\n        int cont = 0;\n        int ans = 0;\n\n        vector<int> freq(n);\n\n        for(int i = 0; i<n; i++) {\n            if(s[i] == '1'){\n                cont++;\n                freq[i]++;\n            }\n            else\n                cont = 0;\n\n            ans += cont;\n            if(i)\n                freq[i] += freq[i-1];\n        }\n\n        function<int(int, int)> getFreq = [&](int left, int right) {\n            if(left > right)\n                return 0;\n\n            int ans = freq[right];\n            if(left)\n                ans -= freq[left-1];\n\n            return ans;\n        } ;\n\n        int sz = ind.size();\n\n        for(int i = 0; i<n; i++) {\n            auto it = lower_bound(ind.begin(), ind.end(), i);\n            int idx = it - ind.begin();\n\n            int cnt = 0;\n            \n            for(int j = idx; j<sz && cnt <= 200; j++) {\n                int leftt = ind[j];\n                int left = ind[j];\n                int right = n-1;\n                if(j != (sz - 1))\n                    right = ind[j + 1] - 1;\n                int rightt = right;\n                int mid;\n\n                int currInd = right + 1;\n\n                while(left <= right) {\n                    mid = (left + right) / 2;\n\n                    int f1 = getFreq(i, mid);\n                    int f0 = (mid - i + 1) - f1;\n\n                    f0 *= f0;\n\n                    if(f1 >= f0) {\n                        currInd = mid;\n                        right = mid - 1;\n                    }\n\n                    else\n                        left = mid + 1;\n                }\n\n                if(currInd <= rightt)\n                    ans += rightt - currInd + 1;\n\n                cnt++;\n            }\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1722138953",
    "subm_id": "1335803999"
}