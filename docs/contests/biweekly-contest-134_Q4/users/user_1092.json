{
    "username": "directioner1d",
    "submission": "class Solution:\n    def countSubarrays(self, nums: List[int], k: int) -> int:\n        c=-1\n        q=-1\n        pos=[]\n        n=len(bin(max(nums))[2:])\n        # print(n)\n        for i in range(len(nums)):\n            if(nums[i] & k == k):\n                q=i\n                if(c==-1):\n                    c=i\n            else:\n                if(c!=-1):\n                    pos.append((c,q))\n                    c=-1\n                    q=-1\n        if(c!=-1):\n            pos.append((c,q))\n        # print(pos)\n        ans=0\n        for i,j in pos:\n            cur=[{} for _ in range(n)]\n            pre=i\n            for p in range(i,j+1):\n                # print('nnn')\n                q=bin(nums[p])[2:].zfill(n)\n                fi=''\n                for oo in range(n):\n                    if(q[oo]=='1'):\n                        cur[oo][1]=cur[oo].get(1,0)+1\n                    else:\n                        cur[oo][0]=cur[oo].get(0,0)+1\n                    if(cur[oo].get(0,0)>0):\n                        fi+='0'\n                    else:\n                        fi+='1'\n                pp=pre\n                # print(cur)\n                while(pp<=p and fi!='' and int(fi,2)==k):\n                    # print(pp,p,'combo ')\n                    ans+=(j-p+1)\n                    fi=''\n                    q=bin(nums[pp])[2:].zfill(n)\n                    for oo in range(n):\n                        if(q[oo]=='1'):\n                            cur[oo][1]-=1\n                        else:\n                            cur[oo][0]-=1\n                        if(cur[oo].get(0,0)>0):\n                            fi+='0'\n                        elif(cur[oo].get(1,0)>0):\n                            fi+='1'\n                    pp+=1\n                    # print('mm',fi)\n                pre=pp\n                # print(cur)\n                \n        # print(pos)\n        return ans\n        ",
    "submit_ts": "1720280150",
    "subm_id": "1311778726"
}