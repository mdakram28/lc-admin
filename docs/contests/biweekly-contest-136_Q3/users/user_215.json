{
    "username": "wkingyu",
    "submission": "fmin = lambda x, y : x if x < y else y\n\nclass Solution:\n    def minFlips(self, grid: List[List[int]]) -> int:\n        n, m = len(grid), len(grid[0])\n        ans = 0\n        for i in range(n // 2):\n            for j in range(m // 2):\n                a, b, c, d = grid[i][j], grid[n - 1 - i][j], grid[i][m - 1 - j], grid[n - 1 - i][m - 1 - j]\n                def solve(t):\n                    return (a != t) + (b != t) + (c != t) + (d != t)\n                ans += fmin(solve(0), solve(1))\n                \n        def cal(t00, t01, t11):\n            one = 2 * t11 + t01\n            if one % 4 == 0:\n                return t01\n            elif one % 4 == 1:\n                return t01\n            elif one % 4 == 2:\n                return max(2, t01)\n            else:\n                return t01\n            \n        if n & 1 and m & 1:\n            ans += grid[n // 2][m // 2] == 1\n            t11, t01, t00 = 0, 0, 0\n            for i in range(n // 2):\n                x, y = grid[i][m // 2], grid[n - 1 - i][m // 2]\n                if x == 1 and y == 1:\n                    t11 += 1\n                elif x == 0 and y == 0:\n                    t00 += 1\n                else:\n                    t01 += 1\n            for j in range(m // 2):\n                x, y = grid[n // 2][j], grid[n // 2][m - 1 - j]\n                if x == 1 and y == 1:\n                    t11 += 1\n                elif x == 0 and y == 0:\n                    t00 += 1\n                else:\n                    t01 += 1\n            ans += cal(t00, t01, t11)\n        elif n & 1:\n            t11, t01, t00 = 0, 0, 0\n            for j in range(m // 2):\n                x, y = grid[n // 2][j], grid[n // 2][m - 1 - j]\n                if x == 1 and y == 1:\n                    t11 += 1\n                elif x == 0 and y == 0:\n                    t00 += 1\n                else:\n                    t01 += 1\n            ans += cal(t00, t01, t11)\n        elif m & 1:\n            t11, t01, t00 = 0, 0, 0\n            for i in range(n // 2):\n                x, y = grid[i][m // 2], grid[n - 1 - i][m // 2]\n                if x == 1 and y == 1:\n                    t11 += 1\n                elif x == 0 and y == 0:\n                    t00 += 1\n                else:\n                    t01 += 1\n            ans += cal(t00, t01, t11)\n            \n        return ans",
    "submit_ts": "1722697835",
    "subm_id": "552268044"
}