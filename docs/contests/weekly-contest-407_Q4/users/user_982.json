{
    "username": "shuhu",
    "submission": "class Solution {\n    public long minimumOperations(int[] nums, int[] target) {\n        int n = nums.length;\n        int[] diff = new int[n];\n        for (int i = 0; i < n; i++) {\n            diff[i] = target[i] - nums[i];\n        }\n        int sign = 0;\n        Integer startIndex = null;\n        long operations = 0;\n        for (int i = 0; i < n; i++) {\n            if (diff[i] == 0) {\n                if (startIndex != null) {\n                    operations += minimumOperations(diff, startIndex, i - 1);\n                    sign = 0;\n                    startIndex = null;\n                }\n            } else {\n                if (sign == 0) {\n                    startIndex = i;\n                    sign = diff[i] > 0 ? 1 : -1;\n                } else {\n                    if (diff[i] * sign < 0) {\n                        operations += minimumOperations(diff, startIndex, i - 1);\n                        startIndex = i;\n                        sign = diff[i] > 0 ? 1 : -1;\n                    }\n                }\n            }\n        }\n        if (startIndex != null) {\n            operations += minimumOperations(diff, startIndex, n - 1);\n        }\n        return operations;\n    }\n\n    private long minimumOperations(int[] diff, int start, int end) {\n        if (start > end) {\n            return 0;\n        } else if (start == end) {\n            return Math.abs(diff[start]);\n        }\n        int min = Integer.MAX_VALUE;\n        for (int i = start; i <= end; i++) {\n            diff[i] = Math.abs(diff[i]);\n            min = Math.min(min, diff[i]);\n        }\n        Integer startIndex = null;\n        long operations = min;\n        for (int i = start; i <= end; i++) {\n            diff[i] -= min;\n            if (diff[i] == 0) {\n                if (startIndex != null) {\n                    operations += minimumOperations(diff, startIndex, i - 1);\n                    startIndex = null;\n                }\n            } else {\n                if (startIndex == null) {\n                    startIndex = i;\n                }\n            }\n        }\n        if (startIndex != null) {\n            operations += minimumOperations(diff, startIndex, end);\n        }\n        return operations;\n    }\n\n    // [3,0,0,-2]\n}",
    "submit_ts": "1721531598",
    "subm_id": "1327965054"
}