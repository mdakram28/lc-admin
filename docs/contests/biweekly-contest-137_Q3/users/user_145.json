{
    "username": "OuterRidgeSavage",
    "submission": "class Solution {\npublic:\n    using ll = long long;\n    ll maximumValueSum(vector<vector<int>>& b) {\n        int m = b.size();\n        int n = b[0].size();\n        vector<vector<ll>> p;\n        for (int i = 0; i < m; ++i) {\n            for (int j = 0; j < n; ++j) {\n                p.push_back({b[i][j], i, j});\n            }\n        }\n        sort(p.rbegin(), p.rend());\n        int sz = p.size();\n        // for (int i = 0; i < sz; ++i) {\n        //     cout << i << \": \" << p[i][0] << \" from (\" << p[i][1] << \", \" << p[i][2] << \")\" << endl;\n        // }\n        vector<bool> r(m, false), c(n, false);\n        // vector<bool> d1((m-1)+(n-1)+1, false), d2((m-1)+(n-1)+1, false);\n        ll ans = -1'000'000'000LL * 3;\n        \n        for (int i = 0; i < sz - 2 && p[i][0]+p[i+1][0]+p[i+2][0] > ans; ++i) {\n            int x = p[i][1];\n            int y = p[i][2];\n            r[x] = true;\n            c[y] = true;\n            // d1[x-y+(n-1)] = true;\n            // d2[x+y] = true;\n            for (int j = i + 1; j < sz - 1 && p[i][0]+p[j][0]+p[j+1][0] > ans; ++j) {\n                int x = p[j][1];\n                int y = p[j][2];\n                if (r[x] || c[y]) continue;\n                r[x] = true;\n                c[y] = true;\n                // d1[x-y+(n-1)] = true;\n                // d2[x+y] = true;                \n                for (int k = j + 1; k < sz && p[i][0]+p[j][0]+p[k][0] > ans; ++k) {\n                    int x = p[k][1];\n                    int y = p[k][2];\n                    if (r[x] || c[y]) continue;\n                    ans = p[i][0]+p[j][0]+p[k][0];\n                    // cout << \"i = \" << i << \", j = \" << j << \", k = \" << k << endl;\n                }\n                r[x] = false;\n                c[y] = false;\n                // d1[x-y+(n-1)] = false;\n                // d2[x+y] = false;\n            }\n            r[x] = false;\n            c[y] = false;\n            // d1[x-y+(n-1)] = false;\n            // d2[x+y] = false;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723908092",
    "subm_id": "1359137820"
}