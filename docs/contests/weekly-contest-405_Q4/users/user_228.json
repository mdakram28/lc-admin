{
    "username": "vrangr",
    "submission": "auto _=[]{ios_base::sync_with_stdio(false),cin.tie(0),cout.tie(0);return 0;}();\nclass trie {\npublic:\n    vector<trie*> children;\n    int cost;\n    bool end;\n    trie() : children(26, nullptr) {\n        cost = INT_MAX;\n        end = false;\n    }\n};\nclass Solution {\npublic:\n    int minimumCost(string target, vector<string>& words, vector<int>& costs) {\n        int n = words.size(), m = target.size();\n        vector<int> dp(m,-1);\n        trie *root = new trie();\n        auto insert = [&](const string &word, int curcost) -> void {\n            trie *node = root;\n            for (auto &ch : word) {\n                // if (node->children.find(ch) == node->children.end())\n                if (node->children[ch-'a'] == nullptr)\n                    node->children[ch-'a'] = new trie();\n                node = node->children[ch-'a'];\n            }\n            node->end = true;\n            node->cost = min(node->cost,curcost);\n        };\n        for (int i = 0; i < n; ++i)\n            insert(words[i],costs[i]);\n        auto rec = [&](auto &&self, int ind) -> int {\n            if (ind == m) return 0;\n            assert(ind >= 0);\n            assert(ind < m);\n            if (dp[ind] != -1) return dp[ind];\n            dp[ind] = INT_MAX;\n            trie *node = root;\n            for (int i = ind; i < m; ++i) {\n                char ch = target[i];\n                // if (node->children.find(ch) == node->children.end()) \n                if (node->children[ch-'a'] == nullptr)\n                    return dp[ind];\n                node = node->children[ch-'a'];\n                if (node->end) {\n                    int c = self(self,i+1);\n                    if (c == INT_MAX) continue;\n                    dp[ind] = min(dp[ind],c+node->cost);\n                }\n            }\n            return dp[ind];\n        };\n        int sol = rec(rec,0);\n        if (sol == INT_MAX) return -1;\n        return sol;\n    }\n};",
    "submit_ts": "1720321231",
    "subm_id": "1312317171"
}