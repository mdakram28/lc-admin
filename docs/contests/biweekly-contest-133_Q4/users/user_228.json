{
    "username": "sgdfbahjbhbaisdufg",
    "submission": "#define ll long long\n#define MOD 1000000007\n\nll mult(ll a, ll b) {\n    return ((ll)a * b) % MOD;\n}\n\nll add(ll a, ll b) {\n    return ((ll)a + b) % MOD;\n}\n\nll sub(ll a, ll b) {\n    return ((ll)MOD + (a % MOD) - (b % MOD)) % MOD;\n}\n\nll fpow(ll a, int b) {\n    ll ans = 1, curr = a;\n    while (b) {\n        if (b & 1) {\n            ans = mult(ans, curr);\n        }\n        curr = mult(curr, curr);\n        b >>= 1;\n    }\n    return ans;\n}\n\nll inv(ll a) { return fpow(a, MOD - 2); }\n\nint comb(int n, int k) {\n    ll ans = 1;\n    for (int i = 1; i <= k; ++i) {\n        ans = mult(ans, n - i + 1);\n        ans = mult(ans, inv(i));\n    }\n    return ans;\n}\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        vector<int> r(n, -1);\n        for (auto & v : requirements) {\n            r[v[0]] = v[1];\n        }\n        \n        vector<vector<ll>> dp(n + 1, vector<ll>(401));\n        if (r[0] == -1 || r[0] == 0) {\n            dp[1][0] = 1;\n        } else {\n            return 0;\n        }\n        for (int i = 2; i <= n; ++i) {\n            auto dodp = [&](int c) {\n                for (int x = 1; x <= i; ++x) {\n                    // dp[i][c] += dp[i - 1][c - (i - x)];\n                    if (c - i + x >= 0) {\n                        dp[i][c] += dp[i - 1][c - i + x];\n                        dp[i][c] %= MOD;\n                    }\n                }\n            };\n            if (r[i - 1] == -1) {\n                // for (int c = 0; c <= 400; ++c) {\n                //     dodp(c);\n                // }\n                \n                vector<ll> pre(402);\n                for (int j = 0; j <= 400; ++j) {\n                    pre[j + 1] = add(pre[j], dp[i - 1][j]);\n                }\n                for (int c = 0; c <= 400; ++c) {\n                    int loj = max(c - i + 1, 0), hij = c;\n                    dp[i][c] = sub(pre[hij + 1], pre[loj]);\n                }\n            } else {\n                dodp(r[i - 1]);\n            }\n        }\n        \n        ll ans = 0;\n        for (int c = 0; c <= 400; ++c) {\n            ans = add(ans, dp[n][c]);\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1719069826",
    "subm_id": "1296807389"
}