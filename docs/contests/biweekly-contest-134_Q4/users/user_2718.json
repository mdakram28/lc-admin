{
    "username": "hars_raj",
    "submission": "#define ll long long\n#define pb push_back\n#define all(v) v.begin(), v.end()\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& a, int k) {\n        int n = a.size();\n        ll ans = 0;\n        \n        vector<int> ad[31];\n        \n        for(int i=0; i<n; i++){\n            for(int j=0; j<31; j++){\n                if (!((1ll<<j) & a[i])) ad[j].pb(i);\n            }\n        }\n        \n        for(int i=0; i<n; i++){ //cout<<i<<\"::\\n\";\n            vector<int> v;\n            set<int> st;\n            \n            for(int j=0; j<31; j++){\n                int id = lower_bound(all(ad[j]), i) - ad[j].begin();\n                if (id < ad[j].size()) st.insert(ad[j][id]);\n            }\n            for(auto it : st) v.pb(it);\n            //for(auto it : v) cout<<it<<\" \"; cout<<\"\\n\";\n                               \n            if (!v.size()) continue;                   \n            \n            int x = a[i], prei = -1;\n            if (x == k) prei = v[0];\n                               \n            for(int j=0; j<v.size(); j++){ //cout<<j<<\":\\n\";\n                x &= (a[v[j]]);\n                if (x == k) prei = v[j];\n                \n                if (prei != -1 && x != k){ //cout<<\"i1\\n\";\n                    //cout<<v[j]<<\" \"<<prei<<\"\\n\";                  \n                    ans += (v[j] - prei);\n                    break;                      \n                }\n                else if (j+1 == v.size() && prei != -1){ //cout<<\"i2\\n\";\n                    //cout<<n-1<<\" \"<<prei<<\"\\n\";                                     \n                    ans += (n - prei);\n                }\n                //cout<<ans<<\"\\n\";\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1720281108",
    "subm_id": "1311813415"
}