{
    "username": "lu-chen-chen",
    "submission": "class Solution {\n    public int minFlips(int[][] grid) {\n        int m = grid.length;\n        int n = grid[0].length;\n        if (m == 1) {\n            int[] arr = new int[n];\n            for (int i = 0; i < n; i++) {\n                arr[i] = grid[0][i];\n            }\n            return minFlips1(arr);\n        }\n        if (n == 1) {\n            int[] arr = new int[m];\n            for (int i = 0; i < m; i++) {\n                arr[i] = grid[i][0];\n            }\n            return minFlips1(arr);\n        }\n        int ans = 0;\n        if (m % 2 == 1 && n % 2 == 1) {\n            ans += grid[m / 2][n / 2];\n            grid[m / 2][n / 2] = 0;\n            int l = (m / 2 + n / 2) * 2;\n            int[] arr = new int[l];\n            for (int i = 0; i < m / 2; i++) {\n                arr[i] = grid[i][n / 2];\n                arr[l - 1 - i] = grid[m - 1 - i][n / 2];\n            }\n            for (int i = 0; i < n / 2; i++) {\n                int t = m / 2 + i;\n                arr[t] = grid[m / 2][i];\n                arr[l - 1 - t] = grid[m / 2][n - i - 1];\n            }\n            ans += minFlips1(arr);\n        }\n        if (m % 2 == 1 && n % 2 != 1) {\n            int[] arr = new int[n];\n            for (int i = 0; i < n; i++) {\n                arr[i] = grid[m / 2][i];\n            }\n            ans += minFlips1(arr);\n        }\n        if (n % 2 == 1 && m % 2 != 1) {\n            int[] arr = new int[m];\n            for (int i = 0; i < m; i++) {\n                arr[i] = grid[i][n / 2];\n            }\n            ans += minFlips1(arr);\n        }\n        for (int i = 0; i < m / 2; i++) {\n            for (int j = 0; j < n / 2; j++) {\n                int s = grid[i][j] + grid[m - i - 1][j] + grid[i][n - j - 1] + grid[m - i - 1][n - j - 1];\n                if (s % 4 == 3) {\n                    ans += 1;\n                } else {\n                    ans += s % 4;\n                }\n            }\n        }\n        return ans;\n    }\n\n    private int minFlips1(int[] arr) {\n        int n = arr.length;\n        if (n <= 3) {\n            return Arrays.stream(arr).sum();\n        }\n        int cnt = 0;\n        for (int i = 0; i < n / 2; i++) {\n            if (arr[i] != arr[n - i - 1]) {\n                cnt++;\n            }\n        }\n        int t = 0;\n        if (n % 2 == 1) {\n            t = arr[n / 2];\n        }\n        if (cnt == 0) {\n            int s = Arrays.stream(arr).sum() - t;\n            if (s % 4 == 2) {\n                cnt += 2;\n            }\n        }\n        return cnt + t;\n    }\n}",
    "submit_ts": "1722697916",
    "subm_id": "552268438"
}