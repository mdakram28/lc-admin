{
    "username": "TheCleanser",
    "submission": "typedef long long int ll;\n#define M 1000000007\n#define MX 1001\n#define N 1001\n\nvector<ll> F;\n \nll sum(int idx)\n{\n    ll runningSum = 0;\n    // Summing up all the partial sums\n    while (idx > 0) {\n        runningSum += F[idx];\n        int rightMostSetBit = (idx & (-idx));\n        idx -= rightMostSetBit;\n    }\n    return runningSum;\n}\n \n// Method to update the array by adding X to index idx\nvoid add(int idx, ll X)\n{\n    while (idx < F.size()) {\n        F[idx] += X;\n        int rightMostSetBit = (idx & (-idx));\n        idx += rightMostSetBit;\n    }\n}\n \n// Method to calculate range sum from index l to r\nll rangeQuery(ll l, ll r)\n{\n    return sum(r) - sum(l - 1);\n}\n\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        ll n = nums.size(); ll dp[n][MX];\n        \n        F = vector<ll>(MX + 1, 0);\n        \n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < MX; j++){\n                dp[i][j] = 0;\n            }\n        }\n\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < MX; j++){\n                ll k = nums[i] - j;\n                if(k >= 0){\n                    if(i == 0) dp[i][j]++;\n                    else{\n                        ll jl = 0; ll jr = j;\n                        ll kl = nums[i - 1] - jl; ll kr = nums[i - 1] - jr;\n                        \n                        if(kl >= k){\n                            kr = max(kr, k);\n                            ll jlq = 0; ll jrq = nums[i - 1] - kr;\n                            dp[i][j] += rangeQuery(jlq + 1, jrq + 1);\n                            dp[i][j] %= M;\n                        }\n                    }\n                }\n            }\n            \n            fill(F.begin(), F.end(), 0LL);\n            for(int j = 0; j < MX; j++){\n                add(j + 1, dp[i][j]);\n            }\n        }\n        \n        ll ans = 0;\n        \n\n        for(int j = 0; j < MX; j++){\n            ans += dp[n - 1][j]; ans %= M;\n        }\n        \n        return ans;\n        \n    }\n};",
    "submit_ts": "1723346506",
    "subm_id": "1351579094"
}