{
    "username": "never_seen",
    "submission": "template <class T> class SP{\nprivate: int N, K; const T O = T(); vector<vector<T>> t;\n    T op(T x, T y){return x & y;}\npublic:\n    SP(vector<T> &a) : N(size(a)), K(__lg(N)){\n        t.assign(K + 1, vector<T>(N, O)), t[0] = a;\n        for(int i = 1; i <= K; i++) for(int j = 0; j + (1 << i) <= N; j++) t[i][j] = op(t[i - 1][j], t[i - 1][j + (1 << (i - 1))]);\n    }\n    int query(int l, int r){\n        int k = __lg(r - l + 1);\n        return l > r ? O : op(t[k][l - 1], t[k][r - (1 << k)]);\n    }\n    int xquery(int l, int r){\n        T res = O; int k = r - l + 1;\n        while(k > 0){\n            int p = __lg(k);\n            res = op(res, t[p][l - 1]);\n            l += (1 << p), k ^= (1 << p);\n        }\n        return res;\n    }\n};\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        SP<int> sp(nums);\n        int n = nums.size(), ans = INT_MAX;\n        for (int i = 0; i < n; i++){\n            int l = i, r = i;\n            while (l < n){\n                int lo = l, hi = n - 1, res = sp.query(i + 1, l + 1);\n                while (lo <= hi){\n                    int mid = (lo + hi) >> 1;\n                    if (sp.query(i + 1, mid + 1) == res) r = mid, lo = mid + 1;\n                    else hi = mid - 1;\n                }\n                ans = min(ans, abs(res - k));\n                l = r + 1;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717297266.0
}