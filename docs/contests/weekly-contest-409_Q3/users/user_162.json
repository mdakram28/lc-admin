{
    "username": "rtmkz",
    "submission": "#include <bits/stdc++.h>\n \n#define f first\n#define s second\n \n#define pb push_back\n#define pp pop_back\n#define mp make_pair\n \n#define sz(x) (int)x.size()\n#define sqr(x) ((x) * 1ll * (x))\n#define all(x) x.begin(), x.end()\n \n#define rep(i, l, r) for (int i = (l); i <= (r); i++)\n#define per(i, l, r) for (int i = (l); i >= (r); i--)\n \n#define Kazakhstan ios_base :: sync_with_stdio(0), cin.tie(0), cout.tie(0);\n \n#define nl '\\n'\n#define ioi exit(0);\n \ntypedef long long ll;\ntypedef long double ld;\ntypedef unsigned long long ull;\n \nconst int N = (int)5e5 + 7;\nconst int inf = (int)1e9 + 7;\nconst int mod = (int)1e9 + 7;\nconst ll linf = (ll)1e18 + 7;\n \nconst int dx[] = {-1, 0, 1, 0, 1, -1, -1, 1};\nconst int dy[] = {0, 1, 0, -1, 1, -1, 1, -1};\n \nusing namespace std;\n\nclass Solution {\npublic:\n    int ans;\n    set <pair<int,int>> st;\n    void after(int l, int r) {\n        auto it = st.lower_bound({l, -inf});\n        while (it != st.end() && it->s<=r) {\n            ans += it->s-it->f-1;\n            it = st.erase(it);\n        }\n    }\n    bool skip(int l, int r) {\n        auto it = st.lower_bound({l, -inf});\n        if (it != st.end() && it->f <= l && it->s >= r) return 1;\n        if (it != st.begin()) {\n            --it;\n            if (it != st.end() && it->f <= l && it->s >= r) return 1;\n        }\n        return 0;\n    }\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& q) {\n        ans = n - 1;\n        vector<int> res;\n        for (auto it : q) {\n            int l = it[0], r = it[1];\n            if (skip(l, r)) {\n                res.pb(ans);\n                continue;\n            }\n            ans -= r - l - 1;\n\n            after(l, r);\n            \n            res.pb(ans);\n            st.insert({l, r});\n        }\n        return res;\n    }\n};",
    "submit_ts": "1722740151",
    "subm_id": "1343712486"
}