{
    "username": "amuhak",
    "submission": "class Solution {\n    public int minimumCost(String target, String[] words, int[] costs) {\n        int n = target.length();\n        int[] dp = new int[n * 2 + 2];\n        Arrays.fill(dp, Integer.MAX_VALUE);\n        dp[0] = 0;\n        Trie trie = new Trie();\n        for (int i = 0; i < words.length; i++) {\n            trie.add(words[i], costs[i]);\n        }\n        for (int i = 0; i < n; i++) {\n            if (dp[i] == Integer.MAX_VALUE) {\n                continue;\n            }\n            List<pair> list = trie.get(target, i);\n            for (pair p : list) {\n                dp[i + p.x.length()] = Math.min(dp[i + p.x.length()], dp[i] + p.y);\n            }\n        }\n\n        return dp[n] == Integer.MAX_VALUE ? -1 : dp[n];\n    }\n\n    public static class Trie {\n        Trie[] arr;\n        pair word;\n\n        Trie() {\n            arr = new Trie[26];\n        }\n\n        Trie(pair s) {\n            arr = new Trie[26];\n            word = s;\n        }\n\n        void add(String s, int cost) {\n            Trie[] head = arr;\n            for (int i = 0; i < s.length(); i++) {\n                int where = s.charAt(i) - 'a';\n                if (i == s.length() - 1) {\n                    if (head[where] == null) {\n                        head[where] = new Trie(new pair(s, cost));\n                    } else {\n                        if (head[where].word == null) {\n                            head[where].word = new pair(s, cost);\n                        } else {\n                            var p = head[where].word;\n                            p.y = Math.min(p.y, cost);\n                        }\n                    }\n                } else if (head[where] == null) {\n                    head[where] = new Trie();\n                }\n                head = head[where].arr;\n            }\n        }\n\n        List<pair> get(String target, int start) {\n            List<pair> res = new ArrayList<>();\n            Trie[] head = arr;\n            int i = start;\n            for (; i < target.length(); i++) {\n                int where = target.charAt(i) - 'a';\n                if (head[where] == null) {\n                    break;\n                }\n                if (head[where].word != null) {\n                    res.add(head[where].word);\n                }\n                head = head[where].arr;\n            }\n            return res;\n        }\n    }\n\n    public static class pair {\n        String x;\n        int y;\n\n        pair(String x, int y) {\n            this.x = x;\n            this.y = y;\n        }\n    }\n}",
    "submit_ts": "1720323637",
    "subm_id": "1312380386"
}