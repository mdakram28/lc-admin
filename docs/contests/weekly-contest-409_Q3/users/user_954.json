{
    "username": "mike-meng",
    "submission": "\nclass Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        map<int, int> cnt;\n        int tot = n - 1;\n        vector<int> res;\n        for (auto &q : queries) {\n            int x = q[0], y = q[1];\n            if (cnt.size() == 0 || x >= cnt.rbegin()->first || y <= cnt.begin()->second) {\n                cnt[y] = x;\n                tot -= y - x - 1;\n                res.emplace_back(tot);\n                /*for (auto [l, r] : cnt) {\n                    cout<<\"[\"<<l<<\",\"<<r<<\"],\";\n                }\n                cout<<endl;*/\n                continue;\n            }\n            \n            auto it1 = cnt.lower_bound(y);\n            if (it1 != cnt.end() && it1->second <= x) {\n                res.emplace_back(tot);\n                /*for (auto [l, r] : cnt) {\n                    cout<<\"[\"<<l<<\",\"<<r<<\"],\";\n                }\n                cout<<endl;*/\n                continue;\n            }\n            \n            auto it2 = cnt.upper_bound(x);\n            //cout<<\"erase x\"<<endl;\n            //cout<<it2->first<<\":\"<<it2->second<<endl;\n            while (it2 != cnt.end() && it2->first <= y && it2->second >= x) {\n                tot += it2->first - it2->second - 1;\n                //cout<<it2->first - it2->second - 1<<endl;\n                cnt.erase(it2);\n                it2++;\n            }\n            cnt[y] = x;\n            tot -= y - x - 1;\n            /*for (auto [l, r] : cnt) {\n                cout<<\"[\"<<l<<\",\"<<r<<\"],\";\n            }\n            cout<<endl;*/\n            res.emplace_back(tot);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1722742766",
    "subm_id": "552346748"
}