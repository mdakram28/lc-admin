{
    "username": "jian-shen-_",
    "submission": "class Solution {\n    public long maximumScore(int[][] grid) {\n        int n = grid.length;\n        if(n==1)return  0;\n        long[][] colPre = new long[n][n+1];\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < n; j++) {\n                colPre[i][j+1] = grid[j][i] + colPre[i][j];\n            }\n        }\n        long [][][]dp=new long[n][n+1][n+1];\n        for(int i=0;i<=n;i++){\n            for(int j=0;j<=n;j++){\n                long t=0;\n                if(i>j){\n                    t = colPre[1][i] - colPre[1][j];\n                }else if(i<j){\n                    t = colPre[0][j] - colPre[0][i];\n                }\n                dp[1][i][j] = t;\n            }\n        }\n\n        for(int i=2;i<n;i++){\n            for(int j=0;j<=n;j++){\n                for(int k=0;k<=j;k++){\n                    long t=0;\n                    for(int l=0;l<=n;l++){\n                        t = Math.max( t, dp[i-1][l][j]  );\n                    }\n                    dp[i][j][k] = t + colPre[i][j]- colPre[i][k];\n                }\n\n                for(int k=j+1;k<=n;k++){\n                    long t=0;\n                    for(int l=0;l<=j;l++){\n                        t = Math.max( t, dp[i-1][l][j]  );\n                    }\n                    dp[i][j][k] = Math.max( t + colPre[i-1][k]- colPre[i-1][j]\n                            , dp[i][j][k] );\n\n\n                    for(int l=j+1;l<=k;l++) {\n                        dp[i][j][k] =\n                                Math.max(dp[i-1][l][j]\n                                                + colPre[i - 1][k] - colPre[i - 1][l]\n                                , dp[i][j][k]);\n                    }\n                }\n            }\n        }\n        long res=0;\n        for(int i=0;i<=n;i++){\n            for(int j=0;j<=n;j++){\n                res =Math.max(res, dp[n-1][i][j]);\n            }\n        }\n\n        return res;\n    }\n}",
    "submit_ts": "1721490599",
    "subm_id": "548323519"
}