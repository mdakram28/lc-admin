{
    "username": "yangxm",
    "submission": "using Pii = pair<int, int>;\n\nconstexpr int MAX = 100010;\nconstexpr int INF = 0x3F3F3F3F;\n\nPii a[MAX][2];\nint dp[MAX][4];\n\nint Check2(const vector<vector<int>>& mat, int x1, int y1, int x2, int y2, int v) {\n  return (mat[x1][y1] != v) + (mat[x2][y2] != v);\n}\n\nint Check4(const vector<vector<int>>& mat, int x1, int y1, int x2, int y2, int v) {\n  return (mat[x1][y1] != v) + (mat[x1][y2] != v) + (mat[x2][y1] != v) + (mat[x2][y2] != v);\n}\n\nclass Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n      int m = grid.size(), n = grid[0].size(), k = 0;\n      for (int i = 0; 2 * i + 1 < m; ++i) {\n        for (int j = 0; 2 * j + 1 < n; ++j) {\n          ++k;\n          a[k][0] = make_pair(0, Check4(grid, i, j, m - 1 - i, n - 1 - j, 0));\n          a[k][1] = make_pair(0, Check4(grid, i, j, m - 1 - i, n - 1 - j, 1));\n        }\n      }\n      if (m & 1) {\n        for (int i = 0; 2 * i + 1 < n; ++i) {\n          ++k;\n          a[k][0] = make_pair(0, Check2(grid, m / 2, i, m / 2, n - 1 - i, 0));\n          a[k][1] = make_pair(2, Check2(grid, m / 2, i, m / 2, n - 1 - i, 1));\n        }\n      }\n      if (n & 1) {\n        for (int i = 0; 2 * i + 1 < m; ++i) {\n          ++k;\n          a[k][0] = make_pair(0, Check2(grid, i, n / 2, m - 1 - i, n / 2, 0));\n          a[k][1] = make_pair(2, Check2(grid, i, n / 2, m - 1 - i, n / 2, 1));\n        }\n      }\n      if ((m & 1) && (n & 1)) {\n        ++k;\n        a[k][0] = make_pair(0, grid[m / 2][n / 2] != 0);\n        a[k][1] = make_pair(1, grid[m / 2][n / 2] != 1);\n      }\n      memset(dp[0], 0x3F, sizeof(dp[0]));\n      dp[0][0] = 0;\n      for (int i = 1; i <= k; ++i) {\n        auto [x1, y1] = a[i][0];\n        auto [x2, y2] = a[i][1];\n        for (int j = 0; j < 4; ++j) {\n          dp[i][j] = min(dp[i - 1][(j - x1 + 4) % 4] + y1, dp[i - 1][(j - x2 + 4) % 4] + y2);\n        }\n      }\n      return dp[k][0];\n    }\n};",
    "submit_ts": "1722697440",
    "subm_id": "1343146661"
}