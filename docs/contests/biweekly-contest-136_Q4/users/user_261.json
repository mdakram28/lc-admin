{
    "username": "iit2021161",
    "submission": "class Solution {\npublic:\n    int dfs(int node,int par,vector<int> adj[],vector<vector<int>> &maxTimeInSubtree){\n        \n        int maxiT=INT_MIN,maxiTNode=-1,preMaxiT=INT_MIN,preMaxiTNode=-1;\n        for(auto it:adj[node]){\n            if(it==par) continue;\n            \n            int tt=0;\n            if(it&1) tt=1+dfs(it,node,adj,maxTimeInSubtree);\n            else tt=2+dfs(it,node,adj,maxTimeInSubtree);\n            \n            if(tt>maxiT){\n                preMaxiT=maxiT;\n                preMaxiTNode=maxiTNode;\n                maxiT=tt;\n                maxiTNode=it;\n            } else if(tt>preMaxiT){\n                preMaxiT=tt;\n                preMaxiTNode=it;\n            }\n        }\n        \n        \n        maxTimeInSubtree[node] = {maxiT,maxiTNode,preMaxiT,preMaxiTNode};\n        \n        return (maxiT==INT_MIN ? 0:maxiT);\n    }\n    \n    void reRooting(int node,int par,int time,vector<int> adj[],vector<vector<int>> &maxTimeInSubtree,vector<int> &ans){\n        \n        ans[node] = max(time,maxTimeInSubtree[node][0]);\n        \n        for(auto it:adj[node]){\n            if(it==par) continue;\n            \n            int tt = (it==maxTimeInSubtree[node][1] ? maxTimeInSubtree[node][2]:maxTimeInSubtree[node][0]);\n            if(tt==INT_MIN) tt=0;\n            if(node&1) reRooting(it,node,max(time,tt)+1,adj,maxTimeInSubtree,ans);\n            else reRooting(it,node,max(time,tt)+2,adj,maxTimeInSubtree,ans);\n        }\n    }\n    \n    \n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        vector<int> adj[n];\n        for(auto it:edges){\n            int u=it[0],v=it[1];\n            adj[u].push_back(v);\n            adj[v].push_back(u);\n        }\n        \n        vector<vector<int>> maxTimeInSubtree(n);\n        int t=dfs(0,-1,adj,maxTimeInSubtree);\n//         for(auto it:maxTimeInSubtree){\n//             for(auto val:it){\n//                 cout<<val<<\" \";\n//             }\n//             cout<<endl;\n//         }\n        \n//         cout<<endl;\n        \n        vector<int> ans(n);\n        reRooting(0,-1,INT_MIN,adj,maxTimeInSubtree,ans);\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722700348",
    "subm_id": "1343239133"
}