{
    "username": "l1cache__",
    "submission": "#pragma GCC optimize(\"Ofast,O3,unroll-loops\")\n#pragma GCC target(\"avx2,avx,sse4\")\n#define ll long long\n#define pii pair<ll, ll>\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size(), m = board[0].size();\n        vector<vector<pii>> v;\n        for (int i = 0; i < n; i++) {\n            int m1=-1e9, m2=-1e9, m3=-1e9;\n            int m1i, m2i, m3i;\n            for (int j = 0; j < m; j++) {\n                if (board[i][j] > m1) {\n                    m3 = m2;\n                    m3i = m2i;\n                    m2 = m1;\n                    m2i = m1i;\n                    m1 = board[i][j];\n                    m1i = j;\n                }\n                else if (board[i][j] > m2) {\n                    m3 = m2;\n                    m3i = m2i;\n                    m2 = board[i][j];\n                    m2i = j;\n                }\n                else if (board[i][j] > m3) {\n                    m3 = board[i][j];\n                    m3i = j;\n                }\n            }\n            v.push_back({{m1, m1i}, {m2, m2i}, {m3, m3i}});\n        }\n        ll best = -1e18;\n        for (int i = 0; i < n; i++) {\n            for (int j = i+1; j < n; j++) {\n                for (int k = j+1; k < n; k++) {\n                    // select rows i, j, k and determine best\n                    vector<pii> &x = v[i], &y = v[j], &z = v[k];\n                    if (x[0].first + y[0].first + z[0].first <= best) continue;\n                    for (int l = 0; l < 3; l++) {\n                        for (int o = 0; o < 3; o++) {\n\t\t\t\t\t\t\tif (x[l].second == y[o].second) continue;\n                            for (int p = 0; p < 3; p++) {\n\t\t\t\t\t\t\t\tif (z[p].second == x[l].second || z[p].second == y[o].second) continue;\n                                // best = max(best, x[l].first + y[o].first + z[p].first);\n                                ll val = x[l].first + y[o].first + z[p].first;\n                                if (val > best) {\n                                    best = val;\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return best;\n    }\n};\nauto init = [](){return cin.tie(0)->sync_with_stdio(0);}();",
    "submit_ts": "1723909465",
    "subm_id": "1359193618"
}