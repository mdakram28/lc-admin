{
    "username": "iamc7054",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        const int n = s.size();\n        int cnt = n * (n + 1) / 2;\n        vector<int> zpos;\n        for(int i = 0; i < s.size(); i++) if (s[i] == '0') zpos.push_back(i);\n        zpos.push_back(n);\n\n        int b = 0;\n        for(int i = 0; i < n; i++) {\n            if (zpos[b] < i) b++;\n            if (b == zpos.size()) break;\n            int last = i - 1;\n            int newOnes = 0;\n            // cout << \"on \" << i << endl;\n            for(int zc = 0;; zc++) {\n                if (b + zc == zpos.size()) break;\n                int cpos = zpos[b + zc];\n                int oneAdd = cpos - last - 1;\n                int ma = zc * zc;\n                int sz = (cpos - last);\n                \n                int totOnes = newOnes + oneAdd;\n                // cout << i << ' ' << cpos << \"    \" << oneAdd << ' ' << ma - newOnes << endl;\n                int maxinv = max(0, ma - newOnes);\n                int adding = min(oneAdd + 1, maxinv);\n\n                int badcnt = adding;\n\n                cnt -= badcnt;\n\n                newOnes += oneAdd;\n                last = cpos;\n                if (zpos[zc] == n) break;\n                if (ma > n) {\n                    int tstrings = n - cpos;\n                    cnt -= tstrings;\n                    // cout << \"Subbing\" << tstrings << endl;\n                    break;\n                }\n            }\n            \n        }\n        return cnt;\n    }\n};",
    "submit_ts": "1722137429",
    "subm_id": "1335763545"
}