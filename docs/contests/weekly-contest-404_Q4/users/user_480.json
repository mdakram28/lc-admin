{
    "username": "alexlin87",
    "submission": "import java.util.*;\n\nclass Solution {\n    private Map<Integer, Set<Integer>> buildG(int[][] e) {\n        Map<Integer, Set<Integer>> g = new HashMap<>();\n        for(int[] x : e) {\n            g.computeIfAbsent(x[0], k -> new HashSet<>()).add(x[1]);\n            g.computeIfAbsent(x[1], k -> new HashSet<>()).add(x[0]);\n        }\n        return g;\n    }\n    public int minimumDiameterAfterMerge(int[][] edges1, int[][] edges2) {\n        Map<Integer, Set<Integer>> g1 = buildG(edges1), g2 = buildG(edges2);\n        int d1 = diameterBFS(g1), d2 = diameterBFS(g2);\n        return Math.max(d1, Math.max(d2, (d1 + 1) / 2 + (d2 + 1) / 2 + 1));\n    }\n    public int diameterBFS(Map<Integer, Set<Integer>> g) {\n        if(g.size() == 0) {\n            return 0;\n        }\n        int startV = -1;\n        for(int k : g.keySet()) {\n            startV = k;\n            break;\n        }\n        int[] r = diameterBFSHelper(g, startV);\n        return diameterBFSHelper(g, r[1])[0];\n    }\n\n    /*\n        return an array r of size 2.\n        r[0]: is the longest path that starts from startV;\n        r[1]: is the node that is the furthest away from startV.\n     */\n    private int[] diameterBFSHelper(Map<Integer, Set<Integer>> g, int startV) {\n        Queue<Integer> q = new LinkedList<>();\n        Set<Integer> visited = new HashSet<>();\n        q.add(startV);\n        visited.add(startV);\n\n        int maxDistance = 0, maxDistanceNode = startV;\n        while(q.size() > 0) {\n            int sz = q.size();\n            for(int i = 0; i < sz; i++) {\n                int v = q.poll();\n                for(int w : g.get(v)) {\n                    if(!visited.contains(w)) {\n                        q.add(w);\n                        visited.add(w);\n                        maxDistanceNode = w;\n                    }\n                }\n            }\n            maxDistance++;\n        }\n        return new int[]{maxDistance - 1, maxDistanceNode};\n    }\n}",
    "submit_ts": 1719717978.0
}