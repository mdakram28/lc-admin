{
    "username": "yumkam",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        const unsigned m = grid.size();\n        const unsigned n = grid[0].size();\n        const unsigned mhalf = m/2;\n        const unsigned nhalf = n/2;\n        unsigned nflip = 0;\n        for (unsigned i = 0; i < mhalf; ++i)\n            for (unsigned j = 0; j < nhalf; ++j) {\n                unsigned s = grid[i][j] + grid[m - 1 - i][j] + grid[i][n - 1 - j] + grid[m - 1 - i][n - 1 - j];\n                if (s == 1 || s == 3)\n                    nflip++;\n                else if (s == 2)\n                    nflip+=2;\n            }\n        unsigned ret = nflip;\n        if ((n & 1) && (m & 1))\n            ret += grid[mhalf][nhalf];\n        unsigned htoggle = 0;\n        unsigned hone = 0;\n        if ((m & 1)) {\n            for (unsigned j = 0; j < nhalf; ++j) {\n                hone += grid[mhalf][j] + grid[mhalf][n - 1 - j];\n                htoggle += grid[mhalf][j] ^ grid[mhalf][n - 1 - j];\n            }\n        }\n        unsigned vtoggle = 0;\n        unsigned vone = 0;\n        if ((n & 1)) {\n            for (unsigned i = 0; i < mhalf; ++i) {\n                vone += grid[i][nhalf] + grid[m - 1 - i][nhalf];\n                vtoggle += grid[i][nhalf] ^ grid[m - 1 - i][nhalf];\n            }\n        }\n        ret += htoggle + vtoggle;\n        if ((htoggle | vtoggle) || (hone + vone) % 4 == 0)\n            return ret;\n        return ret + 2;\n    }\n};",
    "submit_ts": "1722699118",
    "subm_id": "1343201997"
}