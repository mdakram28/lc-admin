{
    "username": "TUSHARARORATA1",
    "submission": "using System;\nusing System.Collections.Generic;\n\npublic class KshetraVriksh\n{\n    private List<int> ped;\n    private int lambai;\n\n    private bool UchchatamBindu(List<int> sankhya, int i)\n    {\n        if (i <= 0 || i >= sankhya.Count - 1)\n            return false;\n        return sankhya[i] > sankhya[i - 1] && sankhya[i] > sankhya[i + 1];\n    }\n\n    private void Srijan(List<int> sankhya, int nod, int shuru, int ant)\n    {\n        if (shuru == ant)\n        {\n            ped[nod] = UchchatamBindu(sankhya, shuru) ? 1 : 0;\n        }\n        else\n        {\n            int madhya = (shuru + ant) / 2;\n            Srijan(sankhya, 2 * nod + 1, shuru, madhya);\n            Srijan(sankhya, 2 * nod + 2, madhya + 1, ant);\n            ped[nod] = ped[2 * nod + 1] + ped[2 * nod + 2];\n        }\n    }\n\n    private void Aupdate(List<int> sankhya, int nod, int shuru, int ant, int indx)\n    {\n        if (shuru == ant)\n        {\n            ped[nod] = UchchatamBindu(sankhya, indx) ? 1 : 0;\n        }\n        else\n        {\n            int madhya = (shuru + ant) / 2;\n            if (shuru <= indx && indx <= madhya)\n            {\n                Aupdate(sankhya, 2 * nod + 1, shuru, madhya, indx);\n            }\n            else\n            {\n                Aupdate(sankhya, 2 * nod + 2, madhya + 1, ant, indx);\n            }\n            ped[nod] = ped[2 * nod + 1] + ped[2 * nod + 2];\n        }\n    }\n\n    private int Anurodh(int nod, int shuru, int ant, int l, int r)\n    {\n        if (r < shuru || ant < l)\n        {\n            return 0;\n        }\n        if (l <= shuru && ant <= r)\n        {\n            return ped[nod];\n        }\n        int madhya = (shuru + ant) / 2;\n        int vamAnurodh = Anurodh(2 * nod + 1, shuru, madhya, l, r);\n        int dakshinAnurodh = Anurodh(2 * nod + 2, madhya + 1, ant, l, r);\n        return vamAnurodh + dakshinAnurodh;\n    }\n\n    public KshetraVriksh(List<int> sankhya)\n    {\n        lambai = sankhya.Count;\n        ped = new List<int>(new int[4 * lambai]);\n        Srijan(sankhya, 0, 0, lambai - 1);\n    }\n\n    public void Aupdate(List<int> sankhya, int indx)\n    {\n        Aupdate(sankhya, 0, 0, lambai - 1, indx);\n    }\n\n    public int Anurodh(int l, int r)\n    {\n        return Anurodh(0, 0, lambai - 1, l + 1, r - 1);\n    }\n}\n\npublic class Solution\n{\n    public IList<int> CountOfPeaks(int[] nums, int[][] queries)\n    {\n        List<int> numList = new List<int>(nums);\n        List<List<int>> queryList = new List<List<int>>();\n        foreach (int[] query in queries)\n        {\n            queryList.Add(new List<int>(query));\n        }\n\n        int n = nums.Length;\n        List<int> results = new List<int>();\n\n        KshetraVriksh vrikshKshetra = new KshetraVriksh(numList);\n\n        foreach (List<int> query in queryList)\n        {\n            if (query[0] == 1)\n            {\n                int l = query[1];\n                int r = query[2];\n                results.Add(vrikshKshetra.Anurodh(l, r));\n            }\n            else if (query[0] == 2)\n            {\n                int index = query[1];\n                int val = query[2];\n                numList[index] = val;\n                if (index > 0) vrikshKshetra.Aupdate(numList, index - 1);\n                vrikshKshetra.Aupdate(numList, index);\n                if (index < n - 1) vrikshKshetra.Aupdate(numList, index + 1);\n            }\n        }\n\n        return results;\n    }\n}\n",
    "submit_ts": 1718509301.0
}