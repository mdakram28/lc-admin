{
    "username": "cchao",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        const int n = edges.size() + 1;\n        vector<vector<int>> g(n);\n        for (auto e : edges) {\n            g[e[0]].push_back(e[1]);\n            g[e[1]].push_back(e[0]);\n        }\n        vector<int> p(n, -1);\n        vector<int> d(n, -1);\n        queue<int> q;\n        d[0] = 0;\n        q.push(0);\n        vector<int> b;\n        b.reserve(n);\n        while (q.size()) {\n            int x = q.front(); q.pop();\n            b.push_back(x);\n            for (int y : g[x]) {\n                if (d[y] >= 0) continue;\n                d[y] = d[x] + (y % 2 == 0 ? 2 : 1);\n                p[y] = x;\n                q.push(y);\n            }\n        }\n        vector<int> a2(n, 0);\n        reverse(b.begin(), b.end());\n        \n        for (int y : b) {\n            if (y == 0) continue;\n            int x = p[y];\n            a2[x] = max(a2[x], a2[y] + (y % 2 == 0 ? 2 :1));\n        }\n        \n        reverse(b.begin(), b.end());\n\n        vector<int> ans(n, 0), aux(n, 0);\n        for (int x : b) {\n            ans[x] = max(a2[x], aux[x]);\n            vector<int> t;\n            for (int y : g[x]) {\n                if (y == p[x]) continue;\n                t.push_back(a2[y] + (y % 2 == 0 ? 2 : 1));\n            }\n            sort(t.begin(), t.end(), greater<int>());\n            int vx = (x % 2 == 0 ? 2 : 1);\n            for (int y : g[x]) {\n                int o = 0;\n                if (t.size() > 0 && a2[y] + (y % 2 == 0 ? 2 :1 ) != t[0]) o = t[0] + vx;\n                else if (t.size() > 1) o = t[1] + vx;\n                o = max(o, aux[x] + vx);\n                aux[y] = o;\n            }\n        }\n\n\n        return ans;\n    }\n};",
    "submit_ts": "1722698670",
    "subm_id": "1343188046"
}