{
    "username": "from_duna",
    "submission": "class Solution {\npublic:\n\tlong long countSubarrays(vector<int>& nums, int k) {\n\t\tqueue<int>zero[32];\n\t\tvector<int>target(32);\n\t\tfor (int i = 0; i < 32; i++) {\n\t\t\ttarget[i] = k & 1;\n\t\t\tk >>= 1;\n\t\t}\n\t\tlong long ans = 0;\n\t\tint n = nums.size();\n\t\tint onelimit = 0;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\tfor (int j = 0, x = nums[i]; j < 32; j++) {\n\t\t\t\tif (target[j]) {\n\t\t\t\t\tif (!(x & 1)) {\n\t\t\t\t\t\tonelimit = i + 1;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\telse {\n\t\t\t\t\tif (!(x & 1))\n\t\t\t\t\t\tzero[j].push(i);\n\t\t\t\t}\n\t\t\t\tx >>= 1;\n\t\t\t}\n\t\t\tint first0 = INT_MAX, last0 = INT_MAX;\n\t\t\tfor (int j = 0; j < 32; j++) {\n\t\t\t\tif (target[j])continue;\n\t\t\t\twhile (!zero[j].empty() && zero[j].front() < onelimit) {\n\t\t\t\t\tzero[j].pop();\n\t\t\t\t}\n\t\t\t\tif (zero[j].empty()) {\n\t\t\t\t\tfirst0 = INT_MAX;\n\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t\tfirst0 = min(first0, zero[j].front());\n\t\t\t\tlast0 = min(last0, zero[j].back());\n\t\t\t}\n\t\t\tif (first0 <= i && last0 <= i) {\n\t\t\t\tans += last0 - first0 + 1;\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n};",
    "submit_ts": "1720281510",
    "subm_id": "544576068"
}