{
    "username": "vijaykatari23",
    "submission": "#define ll long long\nbitset<50050> sm;\nclass Solution {\npublic:\n    int maxTotalReward(vector<int>& A) {\n        const int C = 50050;\n        std::bitset<C> mask;\n        mask.set();\n        int N = A.size();\n        sort(A.begin(), A.end());\n        const ll mx = *max_element(A.begin(), A.end());\n        for(ll i = 0; i <= mx; ++i) sm[i] = 0;\n        sm[0] = 1;\n        set<ll> st(A.begin(), A.end());\n        for(auto x : st) {\n            auto bt = mask;\n            bt <<= (50050 - x);\n            bt >>= (50050 - x);\n            bt &= sm;\n            sm |= (bt << x);\n            // for (unsigned i = 0, stop = x; i != stop; ++i) if(i + x < 50050) {\n            //         sm[i + x] = sm[i + x] | sm[i];\n            //     }else\n            //         break;\n        }\n        // cout << ((1ULL << 100000) - 1) << '\\n';\n        vector<ll> dp(N + 1);\n        vector<ll> pre(N + 1);\n        for(ll i = 1; i <= N; ++i)\n            pre[i] = A[i - 1] + pre[i - 1];\n        for(ll i = 0; i < 50050; ++i) if(sm[i]) {\n            st.insert(i);\n        }\n        for(int i = 0; i < N; ++i) {\n            int lb = lower_bound(pre.begin(), pre.end(), A[i]) - pre.begin();\n            --lb;\n            dp[i + 1] = max(dp[i + 1], dp[lb] + A[i]);\n            st.insert(dp[lb] + A[i]);\n            dp[i + 1] = max(dp[i + 1], dp[i]);\n            st.insert(dp[i]);\n            dp[i + 1] = max(dp[i + 1], (ll)A[i]);\n            st.insert(dp[i + 1]);\n            // for(auto x : st) if(x < A[i]) {\n            //     st.insert(x + A[i]);\n            // }else\n            //     break;\n            auto it = st.lower_bound(A[i]);\n            if(it == st.begin()) continue;\n            --it;\n            dp[i + 1] = max(dp[i + 1], (ll)A[i] + *it);\n            st.insert((ll)A[i] + *it);\n            st.insert(dp[i + 1]);\n        }\n        // cout << \"dp = \\n\";\n        // for(auto x : dp) cout << x << ' ';\n        // cout << '\\n';\n        return dp.back();\n    }\n};",
    "submit_ts": 1717904770.0
}