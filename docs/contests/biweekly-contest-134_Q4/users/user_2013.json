{
    "username": "VSP_9196",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>>bit(n+1,vector<int>(33,0));\n        for(int i=0;i<n;i++){\n            int x = nums[i];\n            int ind = 0;\n            while(x){\n                if(x&1){\n                    bit[i+1][ind] = bit[i][ind] + 1; \n                }\n                ind++;\n                x>>=1;\n            }\n        }\n        int l = 0;\n        int r = 0;\n        long long ans = 0;\n        for(int i=0;i<n;i++){\n            int l = i;\n            int r = n-1;\n            int l_i = -1;\n            bool f = 0;\n            while(l<=r){\n                int mid = (l+r)/2;\n                int p = 0;\n                for(int j =0;j<33;j++){\n                    int diff = bit[mid+1][j] - bit[i][j];\n                    if(diff==mid-i+1){\n                        p|=(1<<j);\n                    }\n                }\n                if(p==k)f=1;\n                \n                if(p>k){\n                    l = mid+1;\n                }\n                else{\n                    l_i = mid;\n                    r = mid-1;\n                }\n            }\n            if(l_i==-1 or f==0)continue;\n            l = i;\n            r = n-1;\n            int r_i = -1;\n            while(l<=r){\n                int mid = (l+r)/2;\n                int p = 0;\n                for(int j =0;j<33;j++){\n                    int diff = bit[mid+1][j] - bit[i][j];\n                    if(diff==mid-i+1){\n                        p|=(1<<j);\n                    }\n                }\n                if(p<k){\n                    r = mid-1;\n                }\n                else{\n                    r_i = mid;\n                    l = mid+1;\n                }\n            }\n            ans+=(r_i-l_i+1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280691",
    "subm_id": "1311798650"
}