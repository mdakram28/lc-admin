{
    "username": "CodingLord108",
    "submission": "#include<bits/stdc++.h>\nusing namespace std;\nclass Solution {\n    const int L=1e5+7;\n    //evaluates f(v[l],v[l+1],...,v[r]) as query(l,r)\n    //T.C.:O(Nlog(N)) M.C.(Nlog(N))\n    vector<vector<int>>sp;\npublic:\n    void generate_sp(vector<int>&v){\n        sp.resize(log2(L)+1,vector<int>(L));\n        for(int i=0;i<v.size();i++)sp[0][i]=v[i];\n        for(int j=1;j<=log2(v.size());j++){\n            for(int i=0;i+(1<<j)-1<v.size();i++){\n                sp[j][i]=sp[j-1][i]&sp[j-1][i+(1<<(j-1))];\n            }\n        }\n    }\n    //excessing all the evaluated expresions\n    //T.C.:O(1)  M.C.:O(1) (NOTE:r>=l)\n    int query(int l,int r){\n        if(l>r)swap(l,r);\n        int length=r-l+1,k=0;\n        while((1<<(k+1))<=length)k++;\n        return sp[k][l]&sp[k][r-(1<<k)+1];\n    }\n    int minimumDifference(vector<int>& nums, int k) {\n        int n=nums.size();\n        if(n==1){\n            return abs(nums[0]-k);\n        }\n        generate_sp(nums);\n        int res=1e9+7;\n        for(int i=0;i<n;i++){\n            int l=i,r=n+1;\n            if(nums[i]<=k){\n                res=min(res,k-nums[i]);\n                continue;\n            }\n            int kk=query(i,n-1);\n            if(kk>=k){\n                res=min(res,kk-k);\n                continue;\n            }\n            while (r-l>1){\n                int m=(l+r)>>1;\n                int val=query(i,m);\n                if(val>=k)l=m;\n                else r=m;\n            }\n            int q1=query(i,l);\n            int q2=query(i,r);\n            res=min({q1-k,k-q2,res});\n        }\n        return res;\n    }\n};",
    "submit_ts": "1717298995",
    "subm_id": "1274798363"
}