{
    "username": "bogo",
    "submission": "#define debug(x) cout << #x << '=' << x << endl\nclass Solution {\npublic:\n    vector<vector<int>> e;\n    int n;\n    vector<int> f, m1, ans, m2;\n    void dfs(int k, int fa) {\n        int mx1 = 0, mx2 = 0;\n        for (auto &j : e[k]) {\n            if (j == fa) {\n                continue;\n            }\n            dfs(j, k);\n            if (f[j] > mx2) {\n                mx2 = f[j];\n                if (mx2 > mx1) {\n                    swap(mx2, mx1);\n                }\n            }\n        }\n        m2[k] = mx2;\n        m1[k] = mx1;\n        f[k] = (k % 2 ? 1 : 2) + mx1;\n    }\n    void dfs(int k, int fa, int t) {\n        int z = k % 2 ? 1 : 2;\n        ans[k] = max(t + z, f[k]);\n        for (auto &j : e[k]) {\n            if (j == fa) {continue;}\n            dfs(j, k, max(t, f[j] == m1[k] ? m2[k] : m1[k]) + z);\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& egs) {\n        n = egs.size() + 1;\n        e.resize(n);\n        f.resize(n);\n        m1.resize(n);\n        m2.resize(n);\n        ans.resize(n);\n        for (auto &eg : egs) {\n            e[eg[0]].push_back(eg[1]);\n            e[eg[1]].push_back(eg[0]);\n        }\n        dfs(0, -1);\n        dfs(0, -1, 0);\n        for (int i = 0; i < n; i++) {\n            ans[i] -= (i % 2 ? 1 : 2);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722700702",
    "subm_id": "552280947"
}