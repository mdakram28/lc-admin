{
    "username": "tarjan47",
    "submission": "class SegTree{\npublic:\n\tint len;\n\tvector<int> t;\n\t\n\tSegTree(){}\n\tSegTree(int l){\n\t\tlen = l;\n\t\tt.resize(4 * len);\n\t}\n\t\n\t// Build Segment Tree -- build(a, 1, 0, len-1); \n\tvoid build(vector<int>& a, int v, int tl, int tr){\n\t\tif(tl == tr){\n\t\t\tt[v] = a[tl];\n\t\t\treturn;\n\t\t}\n\t\tint tm = (tl + tr)/2;\n\t\tbuild(a, 2*v, tl, tm);\n\t\tbuild(a, 2*v+1, tm+1, tr);\n\t\tt[v] = t[2*v] + t[2*v+1];\n\t}\n\t\n\t// Query input question is = [l, r] included -- query(1, 0, len-1, l, r)\n\tint query(int v, int tl, int tr, int l, int r){\n\t\tif(tl > r || tr < l) return 0; // no overlap\n\t\tif(l <= tl && tr <= r) return t[v]; //Full overlap\n\t\t\n\t\t// Partial Overlap\n\t\tint tm = (tl + tr)/2;\n\t\tint leftAns = query(2*v, tl, tm, l, r);\n\t\tint rightAns = query(2*v+1, tm+1, tr, l, r);\n\t\treturn leftAns + rightAns;\n\t}\n\t\n\t// Update at index id of nums to a value val (assign/override/set) -- update(1, 0, len-1, id, val) \n\tvoid update(int v, int tl, int tr, int id, int val){\n\t\t// reached leaf node\n\t\tif(tl == id && tr == id){\n\t\t\tt[v] = val;\n\t\t\treturn;\n\t\t}\n\t\tif(id > tr || id < tl) return;\n\t\t\n\t\tint tm = (tl + tr)/2;\n\t\tupdate(2*v, tl, tm, id, val);\n\t\tupdate(2*v+1, tm+1, tr, id, val);\n\t\tt[v] = t[2*v] + t[2*v+1];\n\t}\n\t\n\t//over-ridden functions\n\tvoid build(vector<int>& a){\n\t\tbuild(a, 1, 0, len-1);\n\t}\n\t\n\tint query(int l, int r){\n\t\treturn query(1, 0, len-1, l, r);\n\t}\n\t\n\tvoid update(int id, int val){\n\t\tupdate(1, 0, len-1, id, val);\n\t}\n};\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int target) {\n       \n        long long ans = 0;\n                            map<long long, long long> m;\n        for (int i=  0; i <nums.size(); i++) {\n           map<long long, long long> c; \n            if (nums[i] == target) {\n                ans++;\n            }\n            c[nums[i]] = 1;\n            for (auto it: m) {\n                    auto[value, f] =it;\n                long long result = value & nums[i];\n                if (result == target) {\n                    ans += f;\n                }\n                c[result] += f;\n            }\n            \n            m = c;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280948",
    "subm_id": "1311807750"
}