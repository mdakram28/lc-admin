{
    "username": "vatsalagarwal38",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& a, int k) {\n        int n=a.size();\n        int pre[n][32];\n        int pre_one[n][32];\n        int pre_zero[n][32];\n        memset(pre,0,sizeof(pre));\n        memset(pre_one,0,sizeof(pre));\n        memset(pre_zero,0,sizeof(pre));\n        for(int i=0;i<n;i++)\n        {\n            int no=a[i];\n            int j=0;\n            while(no)\n            {\n                int bit=(no&1);\n                pre[i][j]=bit;\n                no>>=1;\n                j++;\n                //cout<<j<<endl;\n            }\n        }\n        for(int j=0;j<32;j++)\n        {\n            int last=-1;\n            for(int i=0;i<n;i++)\n            {\n                if(pre[i][j]==0)last=i;\n                pre_zero[i][j]=last;\n            }\n        }\n        for(int j=0;j<32;j++)\n        {\n            int last=-1;\n            int f=0;\n            for(int i=0;i<n;i++)\n            {\n                if(pre[i][j]==1)\n                {\n                    if(f==0)\n                    {\n                        last=i;\n                        pre_one[i][j]=last;\n                        f=1;\n                    }\n                    else\n                    {\n                        pre_one[i][j]=last;\n                    }\n                }\n                else pre_one[i][j]=-1,f=0;\n            }\n        }\n        int temp[32]{0};\n        int idx=0;\n        while(k)\n        {\n            int bit=(k&1);\n            temp[idx++]=bit;\n            k>>=1;\n        }\n        long long ans=0;\n        for(int i=0;i<n;i++)\n        {\n            bool flag=true;\n            int mn=1e9,mx=-1e9;\n            for(int j=0;j<32;j++)\n            {\n                if(temp[j]==0)\n                {\n                    int last=pre_zero[i][j];\n                    if(last==-1)\n                    {\n                        flag=false;\n                        break;\n                    }\n                    mn=min(last,mn);\n                }\n                else\n                {\n                    int last=pre_one[i][j];\n                    if(last==-1)\n                    {\n                        flag=false;\n                        break;\n                    }\n                    mx=max(last,mx);\n                }\n            }\n            if(flag==false)continue;\n            if(mn==1e9)\n            {\n                ans+=(i-mx+1);\n                continue;\n            }\n            if(mx==-1e9)\n            {\n                ans+=(mn+1);\n                continue;\n            }\n            if(mx>mn)continue;\n            ans+=(mn-mx+1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720281127",
    "subm_id": "1311814115"
}