{
    "username": "AbhayAnilark",
    "submission": "class TrieNode {\npublic:\n    unordered_map<char, TrieNode*> children;\n    vector<pair<int, int>> word_ends; };\n\nclass Trie {\npublic:\n    TrieNode* root;\n    Trie() {root = new TrieNode();}\n    void insert(string word, int index, int cost) {\n        TrieNode* node = root;\n        for (char c : word) {\n            if (!node->children.count(c)) {\n                node->children[c] = new TrieNode(); }\n            node = node->children[c];}\n        node->word_ends.push_back({index, cost}); }};\n\nclass Solution {\npublic:\n    \n    \n// #include<bits/stdc++.h>\n// #include<iostream>\n// #include<iomanip>\n// #include<utility>\n// #include<vector>\n// #include<map>\n// #include<set>\n// #include <cstdlib>\n// #include<cmath>\n// #include<algorithm>\n// #include<stack>\n// #include<queue>\n// #define INF 1000000000000000\n// #define fastio()         {ios_base ::sync_with_stdio(false); cin.tie(NULL); cout.tie(NULL);}\n// #define int             long long\n// #define mod             1000000007\n// #define endl            \"\\n\"\n// #define all(v)          (v).begin(),(v).end()\n// #define Yes            cout << \"YES\" << \"\\n\"\n// #define No              cout << \"NO\" << \"\\n\"\n// #define ispowoftwo(n)   (!(n & (n-1)))\n// #define pb              push_back\n// #define ppb             pop_back\n\n// using namespace std;\n// typedef pair<int,int> pii;\n// typedef vector<int> vi;\n// typedef vector<pii> vp;\n// typedef vector<vi> vvi;\n \n// #ifndef ONLINE_JUDGE\n// #define debug(x...) cerr << #x << \" \"; __print(x); cerr << endl;\n// #else\n// #define debug(x...)\n// #endif\n// void __print(int x) {cerr << x;}\n// void __print(unsigned x) {cerr << x;}\n// void __print(unsigned long x) {cerr << x;}\n// void __print(unsigned long long x) {cerr << x;}\n// void __print(float x) {cerr << x;}\n// void __print(double x) {cerr << x;}\n// void __print(long double x) {cerr << x;}\n// void __print(char x) {cerr << '\\'' << x << '\\'';}\n// void __print(const char *x) {cerr << '\\\"' << x << '\\\"';}\n// void __print(const string &x) {cerr << '\\\"' << x << '\\\"';}\n// void __print(bool x) {cerr << (x ? \"true\" : \"false\");}\n \n// template<typename T, typename V>\n// void __print(const pair<T, V> &x) {cerr << '{'; __print(x.first); cerr << ','; __print(x.second); cerr << '}';}\n// template<typename T>\n// void __print(const T &x) {int f = 0; cerr << '{'; for (auto &i: x) cerr << (f++ ? \",\" : \"\"), __print(i); cerr << \"}\";}\n// template <typename T, typename... V>\n// void __print(T t, V... v) {__print(t); if (sizeof...(v)) cerr << \", \"; __print(v...);}\n \n// template<typename T,typename T1>T amax(T &a,T1 b){if(b>a)a=b;return a;}\n// template<typename T,typename T1>T amin(T &a,T1 b){if(b<a)a=b;return a;}\n\n\n// void solve(){\n    \n//     int n,m,x; cin>>n>>m;\n//     x=n+m+1;\n//     vector<int>a(x),b(x);\n//     for(int i=0;i<x;i++){cin>>a[i];}\n//     for(int i=0;i<x;i++){cin>>b[i];}\n//     vector<int>ans,s(x,0);\n//     int p=0;\n//     vector<int>p1,p2,q1,q2;\n//     for(int i=1;i<x;i++){\n//         if(a[i]>b[i] && n>0){p+=a[i];  q1.push_back(i); n--;}\n//         else if(a[i]<b[i] && m>0){p+=b[i]; q2.push_back(i); m--; s[i]=1;}\n//         else if(n>0){p+=a[i]; n--;\n//             if(b[i]>a[i]){p1.push_back(i);}\n//             else{q1.push_back(i);} }\n//         else{p+=b[i]; m--; s[i]=1;\n//             if(b[i]<a[i]){p2.push_back(i);}\n//             else{q2.push_back(i);} }}\n//     reverse(p1.begin(),p1.end());\n//     reverse(p2.begin(),p2.end());\n//     ans.push_back(p);\n//     for(int i=1;i<x;i++){\n//         if(s[i]==0 && a[i-1]>b[i-1]){\n//             p=p-a[i]+a[i-1];}\n//         else if(s[i]==1 && a[i-1]<b[i-1]){\n//             p=p-b[i]+b[i-1];}\n//         else{\n//             if(s[i]==1){\n//                 while(p1.size()!=0 && p1.back()<=i){p1.pop_back();}\n//                 if(p1.size()==0){\n//                     int j=q1.back(); q1.pop_back();\n//                     if(j>i){\n//                         p=p-\n//                     }\n//                     else{p=p-b[i]+b[i-1];}\n                    \n//                 }\n//                 else{\n//                     p=p-b[i]+b[p1.back()]+a[i-1]-a[p1.back()];\n//                     s[p1.back()]=1;}\n//             }\n//             else{\n//                 while(p2.size()!=0 && p2.back()<=i){p2.pop_back();}\n//                 if(p2.size()==0){\n//                     p=p-a[i]+a[i-1];}\n//                 else{\n//                     p=p-a[i]+a[p2.back()]+b[i-1]-b[p2.back()];\n//                     s[p2.back()]=0;}\n//             }\n//         }\n//         ans.push_back(p);\n        \n//     }\n//     for(int i=0;i<ans.size();i++){\n//         cout<<ans[i]<<\" \";\n//     }cout<<endl;\n// }\n\n\n// int32_t main(){\n    \n//     int t=1;\n//      cin>>t;\n//     while(t--){\n//         solve();}\n//     return 0;}\n \n\n    \n    \n    \n    int minimumCost(string k, vector<string>& a, vector<int>& x) {\n        int n = k.size();\n        vector<int> dp(n + 1, INT_MAX);\n        dp[0] = 0;\n        Trie trie;\n        for (int i=0;i<a.size();i++) { trie.insert(a[i], i, x[i]);}\n        for (int i = 0; i < n; i++) {\n            if (dp[i] == INT_MAX) {continue;}\n            TrieNode* node = trie.root;\n            for (int j = i; j < n; j++) {\n                if (!node->children.count(k[j])) { break;}\n                node = node->children[k[j]];\n                for (auto& p : node->word_ends) {\n                    int word_len = a[p.first].size();\n                    if (i + word_len <= n) {\n                        dp[i + word_len] = min(dp[i + word_len], dp[i] + p.second); } } } }\n        if(dp[n]==INT_MAX){dp[n]=-1;}\n        return dp[n];\n    \n}\n};",
    "submit_ts": "1720322705",
    "subm_id": "1312356951"
}