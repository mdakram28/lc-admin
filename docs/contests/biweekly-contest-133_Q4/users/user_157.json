{
    "username": "NourhanHanna",
    "submission": "#define ll long long\nclass Solution {\npublic:\nconst int mod=1e9+7;\n    ll solve(int indx, int cnt, vector<int>&req,vector<vector<ll>>&dp,vector<ll>&fac,vector<int>&mx){\n        if (indx==req.size()){\n            return 1;\n        }\n        ll &ret=dp[indx][cnt];\n        if (~ret)return ret;\n        ret=0;\n        if (mx[indx]==-1){\n            ret=fac[req.size()-indx-1];\n        }\n        else {\n            for (int i=0;i<=indx;i++){\n                if ((req[indx]!=-1&&cnt+i>req[indx])||cnt+i>mx[indx])break;\n                if ((req[indx]!=-1&&cnt+i!=req[indx]))continue;\n                //cout<<indx<<\" \"<<cnt+i<<\" \"<<req<<\" \"<<\"#\\n\";\n                ret+=solve(indx+1,cnt+i,req,dp,fac,mx);\n                ret%=mod;\n            }\n        }\n        //cout<<indx<<\" \"<<cnt<<\" \"<<ret<<\" \"<<\"**\\n\";\n        return ret;\n    }\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        vector<int>req(n,-1);\n        for (auto &it:requirements){\n            if (req[it[0]]==-1){\n                req[it[0]]=it[1];\n            }\n            else {\n                if (req[it[0]]!=it[1])return 0;\n            }\n\n        }\n        vector<int>mx(n+5);\n        mx[n-1]=req[n-1];\n        for(int i=n-2;i>=0;i--){\n            if (req[i]!=-1&&req[i]>mx[i+1])return 0;\n            mx[i]=max(req[i],mx[i+1]);\n        }\n        vector<vector<ll>>dp(n,vector<ll>(mx[0]+5,-1));\n        vector<ll>fac(n+5);\n        fac[0]=1;\n        for (int i=1;i<n+5;i++){\n            fac[i]=fac[i-1]*i;\n            fac[i]%=mod;\n        }\n        \n        return solve(0,0,req,dp,fac,mx);\n\n\n    }\n};",
    "submit_ts": "1719069173",
    "subm_id": "1296788744"
}