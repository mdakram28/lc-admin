{
    "username": "ding-fei-5",
    "submission": "class Solution:\n    def countSubarrays(self, nums: List[int], k: int) -> int:\n        liss = []\n        lis = []\n        for i in nums:\n            if i & k == k:\n                lis.append(i)\n            elif lis:\n                liss.append(lis)\n                lis = []\n        if lis: liss.append(lis)\n        res = 0\n        mx = max(max(nums), k).bit_length()+1\n        has = []\n        for i in range(mx):\n            if (1<<i) & k == 0:\n                has.append(i)\n        \n        for lis in liss:\n            dc = {i:0 for i in has}\n            srt = 0\n            m = len(lis)\n            for i in range(m):\n                v = lis[i]\n                for j in has:\n                    if (1<<j) & v == 0:\n                        dc[j] += 1\n                if all(dc.values()):\n                    ss = srt\n                    while srt <= i and all(dc.values()):\n                        v = lis[srt]\n                        for j in has:\n                            if (1<<j) & v == 0:\n                                dc[j] -= 1\n                        srt += 1\n                    res += (m - i) * (srt - ss)\n                    # print(lis,lis[srt-1:i+1],res,dc)\n        return res\n\n",
    "submit_ts": "1720277788",
    "subm_id": "544558775"
}