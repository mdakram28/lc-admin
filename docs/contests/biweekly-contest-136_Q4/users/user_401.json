{
    "username": "yangxiaobai",
    "submission": "class Solution {\n    public int[] timeTaken(int[][] edges) {\n        HashMap<Integer, Integer>[] edgesMap = new HashMap[edges.length + 1];\n        for (int i = 0; i < edgesMap.length; i++) {\n            edgesMap[i] = new HashMap<>();\n        }\n        int[] keyMax = new int[edges.length + 1];\n        int[] keyMaxFrom = new int[edges.length + 1];\n        // edgesMap[i] key = value : \u8282\u70b9i\u5411key\u4f20\u9012\uff0c\u9700\u8981value\u79d2\u628akey\u7684\u5b50\u6811\u90fd\u4f20\u9012\u5b8c\u3002\n        ArrayList<Integer>[] graph = new ArrayList[edges.length + 1];\n        for (int i = 0; i < graph.length; i++) {\n            graph[i] = new ArrayList<>();\n        }\n        for (int[] edge : edges) {\n            graph[edge[0]].add(edge[1]);\n            graph[edge[1]].add(edge[0]);\n        }\n        int[] res = new int[edges.length + 1];\n        for (int i = 0; i < res.length; i++) {\n            res[i] = fun(-1, i, graph, edgesMap, keyMaxFrom, res);\n        }\n        return res;\n    }\n\n    private int fun(int pre, int at, ArrayList<Integer>[] graph, HashMap<Integer, Integer>[] edgesMap, int[] maxFrom, int[] res) {\n        if (pre != -1 && edgesMap[pre].containsKey(at)) {\n            return edgesMap[pre].get(at);\n        }\n        if (res[at] != 0 && pre != maxFrom[at]) {\n            return res[at];\n        }\n        ArrayList<Integer> nexts = graph[at];\n        if (nexts.size() == 0 || (nexts.size() == 1 && nexts.get(0) == pre)) {\n            return 0;\n        }\n        int max = 0;\n        for (int next : nexts) {\n            if (next == pre) {\n                continue;\n            }\n            int nextTime = fun(at, next, graph, edgesMap, maxFrom, res) + (next % 2 == 0 ? 2 : 1);\n            if (nextTime > max) {\n                max = nextTime;\n                maxFrom[at] = next;\n            }\n        }\n//        if (hadTime > keyMax[at]) {\n//            keyMax[at] = hadTime;\n//            keyMaxTo[at] = pre;\n//        }\n        if (pre != -1) {\n            edgesMap[pre].put(at, max);\n        }\n        return max;\n    }\n}",
    "submit_ts": "1722700742",
    "subm_id": "552281134"
}