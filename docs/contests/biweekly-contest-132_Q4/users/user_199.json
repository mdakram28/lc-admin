{
    "username": "singh_deopa",
    "submission": "class Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        int n = (int) nums.size();\n        vector<int> dp(n, 0);\n        int res = 1;\n        \n        unordered_map<int, int> mp;\n        \n        for (int i = 0; i < n; i++) {\n            dp[i] = ++mp[nums[i]];\n            res = max(res, dp[i]);\n        }\n        \n        for (int i = 1; i <= k; i++) {\n            int a = -1, b = -1;\n            unordered_map<int, int> mp_pre, mp_cur;\n            vector<int> aux(n, -1);\n            \n            for (int j = 0; j < n; j++) {\n                int val = nums[j];\n                \n                if (a != -1) {\n                    if (a != val) {\n                        aux[j] = mp_pre[a];\n                    }\n                    else if (b != -1 && b != val) {\n                        aux[j] = mp_pre[b];\n                    }\n                }\n                \n                if (mp_cur.count(val)) {\n                    aux[j] = max(aux[j], mp_cur[val]);\n                }\n                \n                if (aux[j] > 0) {\n                    aux[j]++;\n                }\n                \n                if (mp_pre.count(val)) {\n                    mp_pre[val] = max(mp_pre[val], dp[j]);\n                }\n                else {\n                    mp_pre[val] = dp[j];\n                }\n                \n                if (a == -1 || mp_pre[a] < mp_pre[val]) {\n                    b = a, a = val;\n                }\n                else if (b == -1 || mp_pre[b] < mp_pre[val]) {\n                    b = val;\n                }\n                \n                if (mp_cur.count(val)) {\n                    mp_cur[val] = max(mp_cur[val], aux[j]);\n                }\n                else {\n                    mp_cur[val] = aux[j];\n                }\n            }\n            \n            dp.swap(aux);\n            \n            for (int j = 0; j < n; j++) {\n                res = max(res, dp[j]);\n                // cout << dp[j] << \" \";\n            }\n            \n            // cout << \"\\n\";\n        }\n        \n        return res;\n    }\n};",
    "submit_ts": 1717861173.0
}