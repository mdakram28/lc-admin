{
    "username": "drwangjiang",
    "submission": "\nint ff[200005];\nint f[200005];\npair<int, int> b[200005];\nint K;\nclass Solution {\npublic:\n    void add(int x) {\n        for (; x <= K; x += (x & -x)) ff[x] ++;\n    }\n    int query(int x) {\n        int sum = 0;\n        for (; x; x -= (x & -x)) sum += ff[x];\n        return sum;\n    }\n    int minChanges(vector<int>& nums, int k) {\n        //###*######****#**#######*###%####%###*%#%##%%%%#%#%##\n        //#################%%%%%#%%%#%%##%#%%%%#%%%*########*##\n        //#########*######%%%%%%#*#%%#%%#%%%%%%%%%%%%%%%%%%%%%%\n        //###############%@%%%%*=--+#%######*%%######%####*###*\n        //###############%@%@#*=-::=+*##%*##%%%#####%%###*+#*#*\n        //#####*######*###*%%----:.::.*%%%%##%####%%%#%%%###%%#\n        //###############%#%#:::--:.:.#%@%%%#%%#%%%%#%####%####\n        //#################%%=:::--:.:%%@%%%%%%%%%%%##%%%%%%%%%\n        //#################%%#*=-:::=%@@%%%%#%%##%%#%%%%%#*%#%#\n        //#############%%%%#=**#*--+@@@@@%%%%%%%%%####%*-=#%##%\n        //################-    .-+=#%%%@%%%%%%%%%#%###-  *#%%%%\n        //###############:  .===:.*%%**%%####%*=-*##-    +##%##\n        //#####%###%%%%%- .:###%%%=-*+-@@%%%%-:::==    .+%%%%%%\n        //#####%##%%%%%# ..#%%###%%-+-:%%%%%-:::::.. :+%%%%%%%%\n        //*#####%%###%%+.:*%%#%###%%-=.=@@%=::::---:*%%%#%%%%%%\n        //####%%%%#%%%%+:+%%%%%####%+:-:%*::...:-+#@%@%%%%%%%%#\n        //*##%%%#####%%+:=@%%%%%####*:--::....:-*@@@%%%%%##%%%%\n        //##%%######%%@+.:=%#%%%#*++#-:::...:-=%%%@%###%%%%%#%%\n        //##########%%@+..:+%%#+++**-:::::=+##@@@@@@%%@@%%%%%#%\n        //##%#%%%%##%%@+ .::=++*=---::::.=@%%%@@@@%@@@@@@@@@%%%\n        //#%###%%#%%%%@* ..:::------::.  -@%%%@%%%%%%@@@@@@@@@@\n        //%%####%%%%@@@%  .....:---::    :@#%%@%#%###%%@@@@@@@@\n        //%%%#%%%#%%#%%%  ..  ..:....    :@@@@@@@@@%@@@@@@@@@@@\n        int inf = 0x3f3f3f3f;\n        int sigma = inf / 2;\n        int n = nums.size(), K = k + 1;\n        map<int, int> mp;\n        int tmp = 0;\n        int m = 0;\n        for (int i = 0; i < n / 2; i ++) {\n            int x = abs(nums[i] - nums[n - 1 - i]);\n            int y = min(min(nums[i], k - nums[i]), min(nums[n - 1 - i], k - nums[n - 1 - i]));\n            b[++ m] = make_pair(x, y);\n            mp[x] ++;\n        }\n        sort(b + 1, b + 1 + m);\n        priority_queue<int> q;\n        for (int i = 0; i <= K; i ++) ff[k] = 0, f[k] = inf;\n        int tot = 0;\n        for (int i = 1; i <= m; i ++) {\n            int tmp = i;\n            while (tmp <= m && b[i].first == b[tmp].first) ++ tmp;\n            -- tmp;\n            int cur = b[i].first;\n            while (!q.empty() && q.top() > k - cur) ++ tot, q.pop();\n            f[cur] = tot;\n            for (int j = i; j <= tmp; j ++) q.push(b[j].second);\n            i = tmp;\n        }\n        for (int i = m; i >= 1; i --) {\n            int tmp = i;\n            while (tmp && b[i].first == b[tmp].first) -- tmp;\n            ++ tmp;\n            int cur = b[i].first;\n            f[cur] += query(cur);\n            for (int j = tmp; j <= i; j ++) add(k - b[j].second + 1);\n            i = tmp;\n        }\n        int zhu = inf;\n        for (int i = 0; i <= k; i ++) {\n            if (!mp.count(i)) continue;\n            zhu = min(zhu, n / 2 - mp[i] + f[i]);\n        }\n        return zhu;\n    }\n};",
    "submit_ts": "1721489747",
    "subm_id": "548320119"
}