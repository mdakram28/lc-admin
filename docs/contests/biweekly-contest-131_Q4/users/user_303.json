{
    "username": "JY201301",
    "submission": "class Solution {\npublic:\n    int sz = 50002;\n    vector<int> seg;\n    map<int, int> mp;    // index : size\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        vector<bool> res;\n        seg = vector<int>(sz*2, 0);\n        seg[sz]=sz;\n        for(int j=(sz-1); j>0; j--) seg[j] = max(seg[j*2], seg[j*2+1]);\n        mp[0]=sz;\n        mp[sz]=0;\n        for(auto &q : queries){\n            if(q[0]==1){\n                insert(q[1]);\n            }else if(q[0]==2){\n                bool tmpInsert = mp.count(q[1])==0 ? true : false;\n                if(tmpInsert) insert(q[1]);\n                cout << getMax(q[1]) << endl;\n                res.push_back(getMax(q[1])>=q[2] ? true : false);\n                if(tmpInsert) remove(q[1]);\n            }\n            // myPrint();\n        }\n        return res;\n    }\n    void remove(int i){\n        if(i==0 || i>=sz) return;\n        auto itr = mp.lower_bound(i);\n        int rsz= mp[i];\n        update(i, 0);\n        mp[i]=0;\n        itr--;\n        update(itr->first, itr->second + rsz);\n        itr->second += rsz;\n        if(mp[i]==0) mp.erase(i);\n    }\n    void insert(int i){\n        if(i==0 || i>=sz) return;\n        auto itr = mp.lower_bound(i);\n        // cout << \" hi \" <<i << \" \" << itr->first << \" \" << (itr->first)-i << endl;\n        if(itr == mp.begin()) return;\n        if(itr!=mp.end() && (itr->first)==i) return;\n        update(i, (itr->first)-i);\n        // cout << \" hi \" <<i << \" \" << itr->first << \" \" << (itr->first)-i << endl;\n        mp[i] = ((itr->first)-i);\n        // cout << \"hi\" << \" \" << mp[i]<<endl;\n        itr--;\n        if(itr==mp.begin()) return;\n        itr--;\n        update(itr->first, i-(itr->first));\n        itr->second = i - (itr->first);\n        // cout << \"hi \" << itr->first << \" \" << mp[i]<<endl;\n        // myPrint();\n    }\n    void update(int i, int val){\n        // cout << i << \" \" << val << endl;\n        seg[sz+i]=val;\n        for(int j=(sz+i)/2; j>0; j/=2) seg[j] = max(seg[j*2], seg[j*2+1]);\n    }\n    int getMax(int x){\n        int res=0;\n        int left=sz, right=sz+x-1;\n        while(left<=right){\n            if(left%2==1) res = max(res, seg[left++]);\n            if(right%2==0) res = max(res, seg[right--]);\n            left/=2;\n            right/=2;\n        }\n        return res;\n    }\n    void myPrint(){\n        for(auto &e : mp) cout << e.first << \": \" << e.second << \", \";\n        cout << endl;\n    }\n};",
    "submit_ts": 1716652236.0
}