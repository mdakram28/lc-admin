{
    "username": "Manmeet8287",
    "submission": "#define pb push_back\n#define ff first\n#define ss second\n#define all(v) v.begin(),v.end()\n#define allr(v) v.rbegin(),v.rend()\n#define sz(v) (int)v.size()\n#define deb(x) cout<<#x<<\"=\"<<x<<endl;\n#define pii pair<int,int>\n#define vi vector<int>\n\nclass Solution {\npublic:\n    int numberOfSubstrings(string s) \n{\n    int n=sz(s);\n    vector<int> ones(n),zeros(n);\n    if(s[0]=='0') zeros[0]++;\n    else ones[0]++;\n    for(int i=1;i<n;i++)\n    {\n        zeros[i]=zeros[i-1]+(s[i]=='0');\n        ones[i]=ones[i-1]+(s[i]=='1');\n    }\n    int ans=0;\n    for(int i=0;i<n;i++)\n    {\n        int j=i;\n        int cnt0=0,cnt1=0,present=0;\n        while(j<n and s[j]==s[i] and s[i]=='1')\n        {\n            j++;\n            cnt1++;\n            present++;\n        }\n        int next=j-1;\n        ans+=(cnt1*(cnt1+1))/2;\n        while(j<n)\n        {\n            cnt0=zeros[j]; cnt1=ones[j];\n            if(i!=0) \n            {\n                cnt0-=zeros[i-1];\n                cnt1-=ones[i-1];\n            }\n            if(cnt1>=cnt0*cnt0)\n            {\n                int beech=cnt1-present;\n                int reqd=max(cnt0*cnt0-beech,0);\n                if(reqd==0) ans+=max(present,1);\n                else ans+=present-reqd+1;\n                j++;\n            } \n            else\n            {\n                j=max(j+1,i+cnt0*cnt0-1);\n            }\n        }\n        // deb(i); deb(ans);\n        if(s[i]=='1') i=next;\n    }\n    return ans;\n}\n};",
    "submit_ts": "1722139145",
    "subm_id": "1335809076"
}