{
    "username": "yuan-hao-k",
    "submission": "class Solution {\npublic:\n    void set(int o,int l,int r,int target,vector<int>&a,int val){\n        if(l==r){\n            a[o]=val;\n            return;\n        }\n        int mid=(l+r)/2;\n        if(target<=mid){\n            set(o*2,l,mid,target,a,val);\n        }else{\n            set(o*2+1,mid+1,r,target,a,val);\n        }\n        a[o]=a[o*2]+a[o*2+1];\n    }\n    int get(int o,int l,int r,int L,int R,vector<int>&a){\n        if(L<=l&&r<=R){\n            return a[o];\n        }\n        int mid=(l+r)/2;\n        int ans=0;\n        if(L<=mid){\n            ans+=get(o*2,l,mid,L,R,a);\n        }\n        if(R>mid){\n            ans+=get(o*2+1,mid+1,r,L,R,a);\n        }\n        return ans;\n    }\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        int n=nums.size();\n        vector<int>a(4*n,0);\n        for(int i=1;i<n-1;i++){\n            if(nums[i]>nums[i-1]&&nums[i]>nums[i+1]){\n                set(1,1,n,i+1,a,1);\n            }\n        }\n        vector<int>vc;\n        for(auto& q:queries){\n            if(q[0]==1){\n                if(q[1]+2<=q[2]){\n                    vc.push_back(get(1,1,n,q[1]+2,q[2],a));   \n                }else{\n                    vc.push_back(0);\n                }\n            }else{\n                nums[q[1]]=q[2];\n                if(q[1]-1>0){\n                    if(nums[q[1]-1]>nums[q[1]-2]&&nums[q[1]-1]>nums[q[1]]){\n                        set(1,1,n,q[1],a,1);\n                    }else{\n                        set(1,1,n,q[1],a,0);\n                    }\n                }\n                if(q[1]>0&&q[1]<n-1){\n                    if(nums[q[1]]>nums[q[1]-1]&&nums[q[1]]>nums[q[1]+1]){\n                        set(1,1,n,q[1]+1,a,1);\n                    }else{\n                        set(1,1,n,q[1]+1,a,0);\n                    }\n                }\n                if(q[1]+1<n-1){\n                    if(nums[q[1]+1]>nums[q[1]]&&nums[q[1]+1]>nums[q[1]+2]){\n                        set(1,1,n,q[1]+2,a,1);\n                    }else{\n                        set(1,1,n,q[1]+2,a,0);\n                    }\n                }\n            }\n        }\n        return vc;\n    }\n};",
    "submit_ts": 1718507927.0
}