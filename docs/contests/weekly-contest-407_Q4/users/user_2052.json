{
    "username": "hai-feng-chui-guo-de-xia-tia-2",
    "submission": "class Solution {\npublic:\n    //\u7ecf\u8fc7\u5206\u6790\u505a\u5dee\u6784\u5efa\u8d2a\u5fc3\u5c31\u53ef\u4ee5\u4e86,\u4f46\u662f\u8fd8\u5f97\u8003\u8651\u591a\u5cf0\u7684\u95ee\u9898\uff0c\u7136\u540e\u7a81\u7136\u60f3\u5230\u5355\u8c03\u6808\uff0c\u4e0d\u5bf9\u4e0d\u9700\u8981\uff0c\u5c31\u662f\u611f\u77e5\u5cf0\u8c37\u5c31\u884c\u4e86\uff0c\u56e0\u4e3a\u6211\u53ea\u9700\u8981\u5173\u6ce8\u5cf0\uff0c\u975e\u5cf0\u8c37\u53ef\u4ee5\u987a\u5e26\u89e3\u51b3\u6389\n    //\u5e94\u8be5\u8fd8\u662f\u8981\u7ed3\u5408\u5355\u8c03\u6808\uff0c\u81ea\u5df1\u601d\u8003\u53ef\u80fd\u6027\u7684\u65f6\u5019\u60f3\u5230\u6ca1\u90a3\u4e48\u7b80\u5355\n    long long minimumOperations(vector<int>& nums, vector<int>& target) {\n        //\u6570\u636e\u5b58\u5728\uff0c\u6ce8\u610f\u5927\u6570,\u6ce8\u610f\u8fb9\u754c\u89c4\u6a21\n        int len = target.size();\n        //long long ans = 0;\n        for(int i = 0;i < len;i++)\n            target[i] -= nums[i];\n        //int i = 0;\n        if(len == 1)\n            return abs(target[0]);  //\u4e0b\u9762\u7684\u8981\u6c42\u81f3\u5c11\u4e3a2\n\n        // long long ans = 0;\n        // while(i + 1< len)\n        // {\n        //     while(i + 1 < len && target[i] <= target[i+1])\n        //         i++;\n        //     ans += abs(target[i]);\n        //     if(i + 1 == len)\n        //         break;\n        //     while(i + 1 < len && target[i] >= target[i+1])\n        //         i++;\n        //     ans += abs(target[i]);\n        // }\n        // //\u6ce8\u610f\u8fb9\u754c\u540e\u5904\u7406\u7b49\u95ee\u9898\n        long long ans = 0;\n        stack<int> stk;\n        stk.push(0);\n        int i = 0;\n        int pre;\n        int mode = 0;\n        while(i < len)\n        {\n            if(target[i] >= 0)\n            {\n                if(mode == 0)\n                {\n                    if(stk.top() <= target[i])\n                        stk.push(target[i]);\n                    else\n                    {\n                        pre = stk.top();\n                        stk.pop();\n                        while(!stk.empty() && stk.top() >= target[i])\n                        {\n                            ans += pre - stk.top();\n                            pre = stk.top();\n                            stk.pop();\n                        }\n                        ans += pre - target[i];\n                        stk.push(target[i]);\n                    }\n                }\n                else\n                {\n                    ans += stk.top();\n                    while(!stk.empty())\n                        stk.pop();\n                    mode = 0;\n                    //stk.push(0);\n                    stk.push(target[i]);\n                }\n            }\n            else\n            {\n                if(mode == 0)\n                {\n                    ans += stk.top();\n                    while(!stk.empty())\n                        stk.pop();\n                    mode = 1;\n                    stk.push(-target[i]);\n                }\n                else\n                {\n                    target[i] = -target[i];\n                    if(stk.top() <= target[i])\n                        stk.push(target[i]);\n                    else\n                    {\n                        pre = stk.top();\n                        stk.pop();\n                        while(!stk.empty() && stk.top() >= target[i])\n                        {\n                            ans += pre - stk.top();\n                            pre = stk.top();\n                            stk.pop();\n                        }\n                        ans += pre - target[i];\n                        stk.push(target[i]);\n                    }\n                }\n            }\n            i++;\n        }\n        //\u6808\u540e\u5904\u7406\n        ans += stk.top();\n        return ans;\n    }\n};",
    "submit_ts": "1721533631",
    "subm_id": "548400189"
}