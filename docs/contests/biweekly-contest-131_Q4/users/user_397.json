{
    "username": "luo-xie-bu-sui-feng-be",
    "submission": "class Solution {\npublic:\n#define ll long long\n#define inf 0x3f3f3f3f\n#define lson l,m,rt<<1\n#define rson m+1,r,rt<<1|1\n#define maxn 100010\nint lsum[maxn<<2];\nint rsum[maxn<<2];\nint msum[maxn<<2];\nint num[maxn];\n \nvoid pushup(int l,int r,int rt)\n{\n    int m=(l+r)>>1;\n    lsum[rt]=lsum[rt<<1];\n    rsum[rt]=rsum[rt<<1|1];\n    msum[rt]=max(msum[rt<<1],msum[rt<<1|1]);\n    if(num[m]<num[m+1])\n    {\n        if(lsum[rt<<1]==m-l+1)\n            lsum[rt]=lsum[rt<<1]+lsum[rt<<1|1];\n        if(rsum[rt<<1|1]==r-m)\n            rsum[rt]=rsum[rt<<1|1]+rsum[rt<<1];\n        msum[rt]=max(msum[rt],lsum[rt<<1|1]+rsum[rt<<1]);\n    }\n}\n \nvoid build(int l,int r,int rt)\n{\n \n    if(l==r)\n    {\n        lsum[rt]=rsum[rt]=msum[rt]=1;\n        return;\n    }\n    int m=(l+r)>>1;\n    build(lson);\n    build(rson);\n    pushup(l,r,rt);\n}\n \nvoid updata(int p,int c,int l,int r,int rt)\n{\n    if(l==r)\n    {\n        num[l]=c;\n        return ;\n    }\n    int m=(l+r)>>1;\n    if(m>=p)\n        updata(p,c,lson);\n    else updata(p,c,rson);\n    pushup(l,r,rt);\n}\n \nint query(int L,int R,int l,int r,int rt)\n{\n    if(l>=L&&R>=r)\n        return msum[rt];\n    int ret=0;\n    int m=(l+r)>>1;\n    if(m>=L)  ret=max(ret,query(L,R,lson));\n    if(R>m)   ret=max(ret,query(L,R,rson));\n    if(num[m]<num[m+1])\n    {\n        ret=max(ret,min(m-L+1,rsum[rt<<1])+min(R-m,lsum[rt<<1|1]));\n    }\n    return ret;\n}\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        vector<bool>ans;\n        int tn=queries.size();\n        int n=min(50001,tn*3+1);\n        for(int i=1;i<=n;i++)\n            num[i]=i;\n        build(1,n,1);\n        for(int i=0;i<queries.size();i++)\n        {\n            if(queries[i].size()==2)\n            {\n                int tx=queries[i][1];\n                updata(tx,10000000,1,n,1);\n                \n            }\n            else\n            {\n                int tx=queries[i][1];\n                int sz=queries[i][2];\n                int len=query(1,tx,1,n,1);\n                if(sz<=len)\n                    ans.push_back(true);\n                else\n                    ans.push_back(false);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1716652674",
    "subm_id": "534779795"
}