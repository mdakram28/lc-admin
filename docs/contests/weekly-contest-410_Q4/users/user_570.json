{
    "username": "thedark_JS",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        long long mod = (1e9 + 7)*1LL;\n        \n        long long dp[n + 1][1010], pref[n + 1][1010];\n        memset(dp, 0, sizeof(dp));\n        memset(pref, 0, sizeof(pref));\n        \n        for(int j = 0 ; j <= nums[0] ; j++){\n            dp[1][j] = 1*1LL;\n            pref[1][j] = dp[1][j];\n            if(j > 0)\n            pref[1][j] += pref[1][j - 1];\n        }\n        \n        for(int i = 2 ; i <= n ; i++){\n         //  cout<<\"okay i \"<<i<<endl;\n            for(int j = 0 ; j <= nums[i - 1] ; j++){\n                if(j > 0)\n                pref[i][j] = pref[i][j - 1];\n                int z = nums[i - 1] - j;\n                \n                int lo = 0, hi = j;\n                int sweetspot = -1;\n                \n                while(lo <= hi){\n                    int mid = (lo + hi) / 2;\n                    int z1 = nums[i - 2] - mid;\n                    if(z1 >= z){\n                        sweetspot = mid;\n                        lo = mid + 1;\n                    }\n                    else{\n                        hi = mid - 1;\n                    }\n                }\n                \n                //cout<<\"okay for j: \"<<j<<\"  \"<<sweetspot<<endl;\n                \n                if(sweetspot != -1){\n                    dp[i][j] = pref[i - 1][sweetspot];\n                    dp[i][j] %= mod;\n                }\n                pref[i][j] += dp[i][j];\n                pref[i][j] %= mod;\n                \n            }\n            \n        }\n//         cout<<\"dp array: \"<<endl;\n//         for(int i = 1 ;i <= n ; i++){\n//             for(int j = 0 ; j <= 3 ; j++){\n//                 cout<<dp[i][j]<<\" \";\n//             }\n//             cout<<endl;\n//         }\n        \n//         cout<<\"pref array: \"<<endl;\n//         for(int i = 1 ;i <= n ; i++){\n//             for(int j = 0 ; j <= 3 ; j++){\n//                 cout<<pref[i][j]<<\" \";\n//             }\n//             cout<<endl;\n//         }\n        \n        long long ans = 0;\n        \n        for(int j = 0 ; j <= nums[n - 1] ; j++){\n            ans += dp[n][j];\n            ans %= mod;\n        }\n        \n        return ans;\n        \n    }\n};",
    "submit_ts": "1723348309",
    "subm_id": "1351615652"
}