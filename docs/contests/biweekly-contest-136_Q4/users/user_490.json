{
    "username": "devadath",
    "submission": "class Solution {\npublic:\n    void dfs1(int nn, int pp, vector<vector<int>> &g, vector<pair<int, int>> &indp){\n        indp[nn]={0, 0};\n        for(auto e: g[nn]){\n            if(e==pp)continue;\n            dfs1(e, nn, g, indp);\n            if(indp[e].first+(e%2==1? 1: 2)>indp[nn].first){\n                indp[nn].second=indp[nn].first;\n                indp[nn].first= indp[e].first+(e%2==1? 1: 2);\n            }\n            else if(indp[e].first+(e%2==1? 1: 2)>indp[nn].second){\n                indp[nn].second = indp[e].first+(e%2==1? 1: 2);\n            }\n        }\n    }\n\n    void dfs2(int nn, int pp, vector<vector<int>> &g, vector<pair<int ,int>> &indp, vector<int> &outdp){\n        outdp[nn]=0;\n        if(pp!=-1){\n            // for(auto e: g[pp]){\n            //     if(e==nn || e==secpp)continue;\n            //     outdp[nn]=max(outdp[nn], indp[e]+((e%2==1)? 1 : 2));\n            //     cout<<nn<<\" \"<<e<<\" \"<<indp[e]<<\" \"<<outdp[nn]<<endl;\n            // }\n            int out = indp[pp].first;\n            if(out==(indp[nn].first+((nn%2==1)? 1: 2))){\n                out=indp[pp].second;\n            }\n            outdp[nn]=max(outdp[pp], out)+((pp%2==1)? 1: 2);\n        }\n        for(auto e: g[nn]){\n            if(e==pp)continue;\n            dfs2(e, nn, g, indp, outdp);\n        }\n    }\n\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        vector<vector<int>> g(edges.size()+1);\n        for(int i=0;i<edges.size();i++){\n            g[edges[i][0]].push_back(edges[i][1]);\n            g[edges[i][1]].push_back(edges[i][0]);\n        }\n\n        vector<pair<int, int>> indp(n, {0, 0});\n        dfs1(0, -1, g, indp);\n\n        vector<int> outdp(n, 0);\n\n        dfs2(0, -1, g, indp, outdp);\n        // for(int i=0;i<n;i++){\n        //     cout<<i<<\" \"<<indp[i]<<\" \"<<outdp[i]<<endl;\n        // }\n        vector<int> ans(n, 0);\n        for(int i=0;i<n;i++){\n            ans[i]=max(indp[i].first, outdp[i]);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722700558",
    "subm_id": "1343245633"
}