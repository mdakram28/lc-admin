{
    "username": "supreet_maurya",
    "submission": "using ll = long long;\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& arr, int k) {\n        \n        ll ans = 0;\n        \n        vector<vector<int>>v(32);\n        \n        int n = arr.size();\n        for(int i = 0; i < 32; i++){\n            for(int j = 0 ; j < n; j++) {\n                if( !((arr[j]>>i)&1) ) v[i].push_back(j);\n            }\n        }\n        \n        for(int i = 0; i < n; i++){\n            \n            bool fl = 1;\n            int mx1 = n - 1 ;\n            for(int j = 0 ; j < 32; j++ ) {\n                if( ((1<<j)&k) ) {\n                    if( !((1<<j)&arr[i]) ) {\n                        fl = 0;\n                        break;\n                    }\n                    else{\n                        auto lb = lower_bound(v[j].begin() , v[j].end() , i);\n                        \n                        if( lb != v[j].end() ) {\n                            mx1 = min( mx1 , *lb - 1 );\n                        }\n                    }\n                }\n            }\n            \n            if( !fl ) continue;\n            \n            bool fl1 = 1;\n            \n            int mx = i;\n            for(int j = 0; j < 32; j++){\n                if( !((1<<j)&k) ) {\n                    auto lb = lower_bound(v[j].begin() , v[j].end() , i ) ;\n                    \n                    if( lb == v[j].end() ) {\n                        fl1= 0;\n                        break; \n                        mx = n - 1;\n                    }\n                    else{\n                        mx = max(mx , *lb ) ;\n                    }\n                }\n            }\n            \n            if( !fl1 ) continue;\n            \n            if( mx1 >= mx ) {\n                // cout << i <<  \" \" << mx << \" \" << mx1 << endl;\n                // int r = n - mx;\n                ans = (ans + mx1 - mx + 1 );\n            }\n            \n            \n        }\n        \n        return ans;\n        \n    }\n};",
    "submit_ts": "1720279841",
    "subm_id": "1311767240"
}