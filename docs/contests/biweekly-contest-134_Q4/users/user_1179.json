{
    "username": "BhavyRamani",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> pre(1, vector<int>(32));\n        for(int i = 1; i <= n; i++){\n            pre.push_back(pre.back());\n            int x = nums[i-1];\n            for(int j = 0; j < 31; j++)\n                if((x >> j) & 1)\n                    ++pre[i][j];\n        }\n\n        function<int(int, int)> fun = [&](int l, int r){\n            int ans = 0;\n            for(int i = 0; i < 31; i++)\n                if(pre[r][i] - pre[l-1][i] == r-l+1)\n                    ans |= (1 << i);\n            return ans;\n        };\n\n        long long ans = 0;\n        for(int i = 1; i <= n; i++){\n            int lo = i, hi = n, mid;\n            int l = 0, r = -1;\n            while(hi- lo > 1){\n                mid = (lo + hi) >> 1;\n                if(fun(i, mid) <= k)\n                    hi = mid;\n                else\n                    lo = mid+1;\n            }\n            if(fun(i, lo) == k)\n                l = lo;\n            else if(fun(i, hi) == k)\n                l = hi;\n            lo = i, hi = n;\n            while(hi - lo > 1){\n                mid = (lo + hi) >> 1;\n                if(fun(i, mid) >= k)\n                    lo = mid;\n                else\n                    hi = mid-1;\n            }\n            if(fun(i, hi) == k)\n                r = hi;\n            else if(fun(i, lo) == k)\n                r = lo;\n            if(r >= l)\n                ans += r-l+1;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280161",
    "subm_id": "1311779114"
}