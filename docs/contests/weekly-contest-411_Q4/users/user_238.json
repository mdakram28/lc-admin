{
    "username": "POTATO",
    "submission": "class Solution {\npublic:\n    long long sumNms[100010];\n    int numsL[100010];\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        \n        int n = s.size();\n        long long cnt=0;\n\n        int l=0,r=0,num0=0,num1=0;\n        while(r<n)\n        {\n            if(s[r]=='0')num0++;\n            else num1++;\n\n            while(num0>k&&num1>k)\n            {\n                if(s[l]=='0')num0--;\n                else num1--;\n                l++;\n            }\n\n            r++;\n            cnt+=r-l;\n\n            sumNms[r]=cnt;\n            numsL[r]=l+1;\n        }\n\n        // for(int i=1;i<=n;i++)cout<<numsL[i]<<\" \";cout<<endl;\n\n        vector<long long>res;\n        for(auto&querie:queries)\n        {\n            int a = querie[0]+1,b = querie[1]+1;\n            long long tmp;\n            if(numsL[b]<a)\n            {\n                tmp = 1LL*(1+b-a+1)*(b-a+1)/2;\n            }\n            else\n            {\n                int l = a, r =  b;\n                while(l<r)\n                {\n                    int mid = l+(r-l)/2;\n                    if(numsL[mid]<a)l=mid+1;\n                    else r=mid;\n                }\n\n                // cout<<l<<endl;\n                tmp = sumNms[b]-sumNms[l-1]+1LL*(1+l-a)*(l-a)/2;\n            }\n            \n            res.emplace_back(tmp);\n        }\n\n        return res;\n    }\n};",
    "submit_ts": "1723951415",
    "subm_id": "556405285"
}