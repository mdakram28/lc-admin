{
    "username": "sp140",
    "submission": "class Trie\n{\npublic:\n    vector<Trie *> ch;\n    bool isWord = false;\n    int cost = INT_MAX;\n\n    Trie()\n    {\n        ch.assign(26, nullptr);\n    }\n\n    void addWord(string &word, int cost)\n    {\n        Trie *ptr = this;\n        int idx = 0;\n        while (idx < word.length())\n        {\n            if (ptr->ch[word[idx]-'a'] == nullptr)\n            {\n                ptr->ch[word[idx]-'a'] = new Trie();\n            }\n\n            ptr = ptr->ch[word[idx]-'a'];\n            idx++;\n        }\n\n        ptr->isWord = true;\n        ptr->cost = min(cost, ptr->cost);\n    }\n};\n\nclass Solution {\npublic:\n    int n;\n    vector<int> dp;\n    Trie *trie = nullptr;\n\n    int solve(int idx, string &target, vector<int> &costs)\n    {\n        if (idx == target.length())\n            return 0;\n        \n        if (dp[idx] != -1)\n            return dp[idx];\n\n        // look into trie\n        int minCostForNext = INT_MAX, ptrIdx = idx;\n        Trie *ptr = trie;\n        while (ptrIdx < target.length())\n        {\n            if (ptr->ch[target[ptrIdx] - 'a'])\n            {\n                ptr = ptr->ch[target[ptrIdx] - 'a'];\n                ptrIdx++;\n            }\n            else\n            {\n                break;\n            }\n\n            if (ptr->isWord)\n            {\n                int solveNext = solve(ptrIdx, target, costs);\n                if (solveNext != INT_MAX)\n                {\n                    minCostForNext = min(minCostForNext, ptr->cost + solveNext);\n                }\n            }\n        }\n\n        return dp[idx] = minCostForNext;\n    }\n\n    int minimumCost(string target, vector<string>& words, vector<int>& costs) {\n        n = target.length();    \n        dp.assign(n, -1);\n\n        trie = new Trie();\n        for (int i=0;i<words.size();i++)\n        {\n            trie->addWord(words[i], costs[i]);\n        }\n\n        solve(0, target, costs);\n\n        return dp[0] == INT_MAX ? -1 : dp[0];\n    }\n};",
    "submit_ts": "1720322285",
    "subm_id": "1312345764"
}