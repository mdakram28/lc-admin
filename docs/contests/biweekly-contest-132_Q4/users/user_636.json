{
    "username": "fscy",
    "submission": "#define lli long long int \n#define ld long double\n#define vi vector<int>\n#define vlli vector<lli>\n#define vpii vector<pair<int, int>>\n#define pb push_back \n\ntemplate<typename T> void debug(T _a) {cout << _a << \" \";}\ntemplate<typename T1, typename T2> void debug(pair<T1, T2> _p) {cout<<\"{\";debug(_p.first);cout<<\": \";debug(_p.second);cout<<\"}\\n\";}\ntemplate<typename T> void debug(vector<T> _aa) {for (auto h: _aa) debug(h); cout << endl;}\ntemplate<typename T> void debug(deque<T> _aa) {for (auto h: _aa) debug(h); cout << endl;}\ntemplate<typename T> void debug(multiset<T> _aa) {for (auto h: _aa) debug(h); cout << endl;}\ntemplate<typename T> void debug(set<T> _aa) {for (auto h: _aa) debug(h); cout << endl;}\ntemplate<typename T1, typename T2> void debug(map<T1, T2> _mm) {for (auto h: _mm) debug(h);}\n\nclass Solution {\npublic:\n    int maximumLength(vector<int>& a, int k) {\n        int n = a.size(), ans = 0;\n        vector<vi> dp(n, vi(k+1, 1));\n        \n        vector<int>same(k+1,-1); \n        vector<map<int,int>>mp(k+1);\n        \n        for(int i= 0; i < n; i++){ \n            for(int j = 0; j <= k; j++){ \n                for(int x = 0; x < j; x++){ \n                    dp[i][j]=max(dp[i][j], 1 + same[x]); \n                } \n                if(mp[j].find(a[i]) != mp[j].end()){ \n                    dp[i][j]=max(dp[i][j],1 + mp[j][a[i]]); \n                } \n                ans=max(ans,dp[i][j]); \n            } \n            for(int j = 0; j <= k; j++){ \n                same[j] = max(same[j], dp[i][j]); \n                mp[j][a[i]] = max(mp[j][a[i]], dp[i][j]); \n            } \n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717861875.0
}