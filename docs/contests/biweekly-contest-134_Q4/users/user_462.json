{
    "username": "nikhil_dixit_abv_iiitm",
    "submission": "#define ll long long int\nll sparse[100001][31];\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        ll n=nums.size();\n        ll x=log2(n);\n    \n    for(ll i=0;i<n;i++){\n        for(ll j=0;j<=x;j++){\n            sparse[i][j]=0;\n        }\n    }\n    for(ll i=0;i<n;i++){\n        sparse[i][0]=nums[i];\n    }\n         for(ll j=1;j<=x;j++){\n        for(ll i=0;i<n;i++){\n            ll see=1<<j;\n            if(i+see-1<n){\n                see=see/2;\n                sparse[i][j]=sparse[i][j-1]&sparse[i+see][j-1];\n            }\n        }\n    }\n        ll ans=0;\n        for(ll i=0;i<n;i++){\n            ll low=i;\n            ll high=n-1;\n            ll ind=-1;\n            while(low<=high){\n                ll mid=(low+high)/2;\n                ll a=i;\n                ll b=mid;\n                ll ele=b-a+1;\n                ll xy=log2(ele);\n                ll see=sparse[a][xy]&sparse[b-(1<<xy)+1][xy];\n                if(see>=k){\n                    ind=mid;\n                    low=mid+1;\n                }else{\n                    high=mid-1;\n                }\n            }\n            if(ind==-1){\n                continue;\n            }\n            ll ind2=-1;\n            low=i;\n            high=ind;\n            while(low<=high){\n                ll mid=(low+high)/2;\n                ll a=i;\n                ll b=mid;\n                ll ele=b-a+1;\n                ll xy=log2(ele);\n                ll see=sparse[a][xy]&sparse[b-(1<<xy)+1][xy];\n                if(see>k){\n                    ind2=mid;\n                    low=mid+1;\n                }else{\n                    high=mid-1;\n                }\n            }\n            if(ind2==-1){\n                ll add=ind-i+1;\n                ans=ans+add;\n                \n            }else{\n                ll add=ind-ind2;\n                ans=ans+add;\n            }\n            \n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279567",
    "subm_id": "1311756422"
}