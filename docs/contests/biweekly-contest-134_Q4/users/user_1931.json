{
    "username": "S_H_A_S_H_A_N_K_",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        vector<int> vis(nums.size(), 0);\n        int n = nums.size();\n        set<int> st;\n        for(int i=0;i<nums.size();i++){\n            for(int j=0;j<32;j++){\n                if((k & (1 << j)) != 0){\n                    if((nums[i] & (1 << j)) == 0){\n                        vis[i] = 1;\n                        st.insert(i);\n                        break;\n                    }\n                }   \n            }\n        }\n        int i = 0, j = 0;\n        long long ans = 0;\n        int temp = (INT_MAX);\n        vector<pair<int, int>> t1(32, {0, 0});\n        while(j < n){\n            if(st.find(j) != st.end()){\n                vector<pair<int, int>> t2(32, {0, 0});\n                t1 = t2;\n                i = j+1;\n                j = j+1;\n                temp = INT_MAX;\n                continue;\n            }\n            temp = (temp & nums[j]);\n            for(int l=0;l<32;l++){\n                if((nums[j] & (1 << l)) != 0){\n                    t1[l].first++;\n                }\n                else{\n                    t1[l].second++;\n                }\n            }\n            if(temp == k){\n                while(i <= j && temp == k){\n                    auto abcd = st.lower_bound(i);\n                    int end = n-1;\n                    if(abcd == st.end()){\n\n                    }\n                    else{\n                        end = (*abcd)-1;\n                    }\n                    ans += (end-j+1);\n                    for(int l=0;l<32;l++){\n                        if((nums[i] & (1 << l)) != 0){\n                            t1[l].first--;\n                        }\n                        else{\n                            t1[l].second--;\n                        }\n                    }\n                    for(int l=0;l<32;l++){\n                        if(t1[l].first == 0 && t1[l].second == 0){\n                            temp = INT_MAX;\n                            break;\n                        }\n                        else if(t1[l].second == 0){\n                            temp = (temp | (1 << l));\n                        }\n                        else{\n                            temp = (temp & (~(1 << l)));\n                        }\n                    }\n                    i++;\n                }\n            }\n            j++;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720281202",
    "subm_id": "1311816692"
}