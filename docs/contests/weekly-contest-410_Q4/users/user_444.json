{
    "username": "danieljkeyes",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int64_t n = nums.size();\n        vector<int64_t> prev_num_mps_ending_with(1001, 0);\n        vector<int64_t> num_mps_ending_with(1001, 0);\n        int64_t MOD = 1000000007;\n        for (int i=0; i < n; ++i) {\n            if (i == 0) {\n                for (int a=0; a <= nums[0]; ++a) {\n                    num_mps_ending_with[a] = 1;\n                }\n            } else {\n                //cout << \"num ending with \";\n                int64_t ways_before = 0;\n                int a_before = 0;\n                for (int a=0; a <= nums[i]; ++a) {\n                    int b = nums[i] - a;\n                    // a' <= a\n                    // a' <= nums[i-1]\n                    // b' >= b\n                    // a'+b' = nums[i-1]\n                    //     b' = nums[i-1] - a'\n                    //     nums[i-1] - a' >= b\n                    //     nums[i-1] - b >= a'\n                    // \n                    for (; a_before <= min(a, nums[i-1]-nums[i]+a); ++a_before) {\n                        if (a_before > nums[i-1]) {\n                            break;\n                        }\n                        int b_before = nums[i-1] - a_before;\n                        if (b_before < b) {\n                            continue;\n                        }\n                        ways_before += prev_num_mps_ending_with[a_before];\n                        ways_before %= MOD;\n                    }\n                    num_mps_ending_with[a] = ways_before;\n                    //cout << \"a=\" <<a << \": \" << ways_before << \", \";\n                }\n                //cout << endl;\n            }\n            std:swap(num_mps_ending_with, prev_num_mps_ending_with);\n            std::fill(num_mps_ending_with.begin(), num_mps_ending_with.end(), 0);\n        }\n        int64_t total = 0;\n        for (int i=0; i <= 1000; ++i) {\n            total += prev_num_mps_ending_with[i];\n            total %= MOD;\n        }\n        return total;\n\n    }\n};",
    "submit_ts": "1723347285",
    "subm_id": "1351595731"
}