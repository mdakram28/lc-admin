{
    "username": "vrintle",
    "submission": "#define ll long long\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& req) {\n        const int mod = 1e9 + 7;\n        int m = req.size();\n        sort(req.begin(), req.end(), [&](auto& x, auto& y) {\n            return x[0] < y[0];\n        });\n        vector<vector<ll>> arr;\n        vector<ll> sums, v;\n        int len = 0;\n        while(len <= req[0][0]) {\n            v.push_back(len);\n            len++;\n        }\n        arr.push_back(v);\n        sums.push_back(req[0][1]);\n        for(int i = 1; i < m; i++) {\n            v.clear();\n            int sum = req[i][1] - req[i - 1][1];\n            if(sum < 0) return 0;\n            while(len <= req[i][0]) {\n                v.push_back(len);\n                len++;\n            }\n            arr.push_back(v);\n            sums.push_back(sum);\n        }\n        ll ans = 1;\n        for(int i = 0; i < m; i++) {\n            // for(auto& e: arr[i]) cout << e << ' ';\n            // cout << endl;\n            int m = arr[i].size(), mx = sums[i];\n            vector<vector<ll>> dp(m + 1, vector<ll>(mx + 1));\n            dp[0][0] = 1;\n            for(int j = 1; j <= m; j++) {\n                for(int s = 0; s <= mx; s++) {\n                    for(int x = 0; x <= arr[i][j - 1]; x++) {\n                        if(s + x <= mx) {\n                            dp[j][s + x] = (dp[j][s + x] + dp[j - 1][s]) % mod;\n                        }\n                    }\n                }\n            }\n            ans = (ans * dp[m][mx]) % mod;\n        }\n        // cout << endl;\n        return (int) ans;\n    }\n};",
    "submit_ts": 1719068410.0
}