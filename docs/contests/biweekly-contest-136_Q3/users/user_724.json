{
    "username": "tonyli00000",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid[0].size();\n        int one = 0;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<m;j++){\n                if(grid[i][j]==1)one++;\n            }\n        }\n        if(n==1 || m==1){\n            int ret = 0;\n            if(one == 0)return ret;\n            vector<int>a;\n            for(int i=0;i<n;i++){\n                for(int j=0;j<m;j++){\n                    a.push_back(grid[i][j]);\n                }\n            }\n            int k = a.size();\n            if(k%2==1 && a[k/2])ret++;\n            int x = 0, y = 0;\n            for(int i=0;i<k/2;i++){\n                if(a[i] && a[i] == a[k-i-1])x++;\n                if(a[i] != a[k-i-1])y++;\n            }\n            if(x%2!=0 && y == 0)ret+=2;\n            return ret+y;\n        }\n        int ret = 0;\n        vector<int>two;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<m;j++){\n                set<pair<int,int>>all;\n                all.insert({i, m-j-1});\n                all.insert({n-i-1,j});\n                all.insert({i,j});\n                all.insert({n-i-1,m-j-1});\n                int x = 0, y = 0;\n                for(auto& it:all){\n                    if(grid[it.first][it.second] == 0)x++;\n                    else y++;\n                }\n                if(all.size() == 4){\n                    if(x<=y)for(auto& it:all)grid[it.first][it.second] = 0;\n                    else for(auto& it:all)grid[it.first][it.second] = 1;\n                    ret+=min(x,y);\n                }\n                else {\n                    if(all.size() == 2 && i<n/2+n%2 && j<m/2+m%2)two.push_back(y);\n                    else{\n                        ret+=y;\n                    }\n                    for(auto& it:all)grid[it.first][it.second] = 0;\n                }\n            }\n        }\n        sort(two.rbegin(), two.rend());\n        if(two.size() >=2){\n            int v[3] = {0,0,0};\n            for(auto& it:two)v[it]++;\n            if(v[2]%2 == 0)return ret+v[1];\n            else{\n                if(v[1] == 0)return ret + 2;\n                else return ret+v[1];\n            }\n        }\n        else{\n            for(auto& it:two)ret+=it;\n        }\n        return ret;\n    }\n};",
    "submit_ts": "1722697550",
    "subm_id": "1343150576"
}