{
    "username": "neko643",
    "submission": "#define ss second\n#define ff first\n\n\n\nclass Solution {\npublic:\n    int val(int x) {\n        if(x & 1) return 1;\n        return 2;\n    }\n\n    void dfs(int cur, int prev, vector<pair<int, int>> & s, vector<vector<int> >& G) {\n        s[cur].ff = s[cur].ss = 0;\n\n        for(int x : G[cur]) {\n            if(x != prev) {\n                dfs(x, cur, s, G);\n                if(s[cur].ff < s[x].ff + val(x)) {\n                    s[cur].ss = s[cur].ff;\n                    s[cur].ff = s[x].ff + val(x);\n                } else if(s[cur].ss < s[x].ff + val(x)) {\n                    s[cur].ss = s[x].ff + val(x);\n                }\n            }\n        }\n    }\n\n    void dfs1(int cur, int prev, vector<pair<int, int> >& s, vector<vector<int> >& G) {\n        for(int x : G[cur]) {\n            if(x != prev) {\n                int bonus;\n                if(s[cur].ff == s[x].ff + val(x)) {\n                    bonus = s[cur].ss + val(cur);\n                } else {\n                    bonus = s[cur].ff + val(cur);\n                }\n\n                if(s[x].ff < bonus) {\n                    s[x].ss = s[x].ff;\n                    s[x].ff = bonus;\n                } else if(s[x].ss < bonus) {\n                    s[x].ss = bonus;\n                }\n                dfs1(x, cur, s, G);\n            }\n        }\n    }\n\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size() + 1;\n        vector<pair<int, int> > s(n);\n        vector<vector<int> > G(n);\n        for(auto el : edges) {\n            G[el[0]].push_back(el[1]);\n            G[el[1]].push_back(el[0]);\n        }\n\n        dfs(0, 0, s, G);\n        // for(auto el : s) {\n        //     cout << el.ff << \" \" << el.ss << \" | \";\n        // }\n        // cout << \"\\n\";\n        dfs1(0, 0, s, G);\n        vector<int> ans(n);\n        for(int i = 0; i < n; i++) {\n            ans[i] = s[i].ff;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722697687",
    "subm_id": "1343155305"
}