{
    "username": "elated-hugleydp",
    "submission": "\nfunc minChanges(nums []int, k int) (ans int) {\n\tn := len(nums)\n\titems := make([]item, 0)\n    ans = n\n\tdiffCount := make(map[int]int)\n\n\t// \u8ba1\u7b97\u5dee\u503c\u5bf9\u5e76\u8bb0\u5f55\u5dee\u503c\u7684\u51fa\u73b0\u6b21\u6570\n\tfor i := 0; i < n/2; i++ {\n\t\tdiff := abs(nums[i] - nums[n-i-1])\n\t\tdiffCount[diff]++\n\t}\n\n\t// \u51fa\u73b0\u6b21\u6570\u6392\u5e8f\uff0c\u6700\u591a\u7684\u5148\u5904\u7406\n\tdc := make([]pair, 0)\n\tfor diff, count := range diffCount {\n\t\tdc = append(dc, pair{diff, count})\n\t}\n    //fmt.Println(dc)\n\tsort.Slice(dc, func(i, j int) bool {\n\t\tif dc[i].c != dc[j].c {\n\t\t\treturn dc[i].c > dc[j].c\n\t\t}\n\t\treturn dc[i].d < dc[j].d\n\t})\n\n\tfor i := 0; i < n/2; i++ {\n\t\tit := item{}\n\t\tit.s = min(nums[i], nums[n-i-1])\n\t\tit.b = max(nums[i], nums[n-i-1])\n\t\tit.diff = it.b - it.s\n\t\tit.p1 = max(it.b, abs(k-it.s))\n\t\tit.p2 = max(it.p1, k)\n\t\titems = append(items, it)\n\t}\n\n\tfor i := range dc {\n\t\tx := dc[i].d\n\t\t// \u5bf9\u4e8e\u76ee\u6807\u5dee\u503cx\uff0c\u770b\u9700\u8981\u4fee\u6539\u51e0\u6b21\n        //fmt.Println(\"choose x\", x)\n        ret := 0\n\t\tok := true\n\t\tfor _, it := range items {\n\t\t\tif it.diff == x {\n\t\t\t\tcontinue\n\t\t\t}\n\t\t\tif max(max(it.b, abs(k-it.s)), k) < x {\n\t\t\t\tok = false\n\t\t\t\tbreak\n\t\t\t}\n\t\t\tif max(it.b, abs(k-it.s)) >= x {\n                ret++\n\t\t\t} else {\n\t\t\t\tret += 2\n\t\t\t}\n\t\t}\n        if ok && ret > ans {\n            return\n        }\n\t\tif ok {\n            ans = min(ans, ret)\n\t\t}\n\t}\n\n\t// \u5bf9\u4e8e\u6bcf\u4e00\u4e2aitems\uff0c \u82b1\u8d391\u6b21\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4fee\u6539\u5230diff\u7684\u8303\u56f4\n\t// [s, b] \u539fdiff=b-s  \u4e0a\u9650\uff1amax(b, |k-s|)\n\n\t// \u82b1\u8d392\u6b21\u64cd\u4f5c\uff0c\u53ef\u4ee5\u4fee\u6539\u5230diff\u7684\u8303\u56f4 k\n\t// \u9009\u62e9diff=X, \u51fa\u73b0\u4e86\u82e5\u5e72\u6b21\n\t// \u5269\u4e0b\u7684 m \u5bf9 \u90fd\u9700\u8981\u4fee\u6539\uff081\u6b21 or 2\u6b21\uff09\n\n\treturn\n}\n\ntype pair struct {\n\td, c int\n}\ntype item struct {\n\ts, b, diff, p1, p2 int\n}\n\nfunc abs(x int) int {\n\tif x < 0 {\n\t\treturn -x\n\t}\n\treturn x\n}",
    "submit_ts": "1721489624",
    "subm_id": "548319559"
}