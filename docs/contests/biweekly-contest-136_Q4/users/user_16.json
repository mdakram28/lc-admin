{
    "username": "huah-f",
    "submission": "class Solution {\npublic:\n    int n;\n    vector<vector<int>>to;\n    vector<int>ans;\n    vector<int>f1,f2;\n    void dfs1(int u,int p){\n        for(int v:to[u])\n        if(v!=p){\n            dfs1(v,u);\n            int g=f1[v]+(v%2==0?1:2);\n            if(g>f1[u]){\n                f2[u]=f1[u];\n                f1[u]=g;\n            }\n            else f2[u]=max(f2[u],g);\n        }\n    }\n    void dfs2(int u,int p){\n        ans[u]=f1[u];\n        for(int v:to[u])\n        if(v!=p){\n\n            int f1u=f1[u],f2u=f2[u],f1v=f1[v],f2v=f2[v];\n            int g=f1[u];\n            if(f1[v]+(v%2==0?1:2)==g) g=f2[u];\n            g+=(u%2==0?1:2);\n\n            if(g>f1[v]){\n                f2[v]=f1[v];\n                f1[v]=g;\n            }\n            else f2[v]=max(f2[v],g);\n            dfs2(v,u);\n\n            f1[u]=f1u;\n            f2[u]=f2u;\n            f1[v]=f1v;\n            f2[v]=f2v;\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n=edges.size()+1;\n        to=vector<vector<int>>(n+1);\n        for(auto &edge:edges){\n            int u=edge[0]+1;\n            int v=edge[1]+1;\n            to[u].push_back(v);\n            to[v].push_back(u);\n        }\n        ans=vector<int>(n+1);\n        f1=vector<int>(n+1);\n        f2=vector<int>(n+1);\n\n\n        dfs1(1,0);\n        dfs2(1,0);\n\n        reverse(ans.begin(),ans.end());\n        ans.pop_back();\n        reverse(ans.begin(),ans.end());\n        return ans;\n    }\n};",
    "submit_ts": "1722697198",
    "subm_id": "552264907"
}