{
    "username": "prepforchange",
    "submission": "#include<bits/stdc++.h>\nusing namespace std;\n \n#define ll              long long\n#define ld              double\n#define pb              push_back\n#define mp              make_pair\n#define ff              first\n#define se              second\n#define endl            '\\n'\n#define fd(n)           fixed<<setprecision(n)\n#define MAX             2000000000000000000\n#define MAXN            200005\n#define LOG             20\n#define mod             1000000007  \n#define pi              3.1415926535897932384626433\n#define check(n,pos)    (n & (1<<pos))\n#define sett(n,pos)     (n | (1<<pos))\n#define unset(n,pos)    (n & ~(1<<pos))\n#define print(vi)       for(auto x:vi) {cout<<x<<\" \";} cout<<endl\n#define printv(a)       cout<<a<<endl\n#define add(a,b)        (((a%mod)+(b%mod)+mod)%mod)\n#define sub(a,b)        (((a%mod)-(b%mod)+mod)%mod) \n \nll m[MAXN][LOG];\nll bin_log[MAXN];\n \nll query(ll l,ll r){\n    ll len=r-l+1;\n    ll k=bin_log[len];\n    return (m[l][k]&m[r-(1<<k)+1][k]);\n}\n \n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& vi, int K) {\n        ll n=vi.size(),i,l,r,left,right,ans=0,mid,j,k=K;\n        bin_log[1]=0;\n        for(i=2;i<MAXN;i++){\n            bin_log[i]=bin_log[i/2]+1;   \n        }\n        for(i=0;i<n;i++){\n            m[i][0]=vi[i];\n        }\n        for(j=1;j<LOG;j++){\n            for(i=0;(i+(1<<j)-1)<n;i++){\n                m[i][j]=(m[i][j-1]&m[i+(1<<(j-1))][j-1]);\n            }\n        }\n        for(i=0;i<n;i++){\n            l=i;\n            r=n-1;\n            left=-1;\n            while(l<=r){\n                mid=(l+r)/2;\n                if(k>=query(i,mid)){\n                    if(k==query(i,mid)){\n                        left=mid;\n                    }\n                    r=mid-1;\n                }\n                else{\n                    l=mid+1;\n                }\n            }\n\n            l=i;\n            r=n-1;\n            right=-1;\n            while(l<=r){\n                mid=(l+r)/2;\n                if(k<=query(i,mid)){\n                    if(k==query(i,mid)){\n                        right=mid;\n                    }\n                    l=mid+1;\n                }\n                else{\n                    r=mid-1;\n                }\n            }\n            if(left!=-1 && right!=-1){\n                ans+=(right-left+1);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278163",
    "subm_id": "1311697146"
}