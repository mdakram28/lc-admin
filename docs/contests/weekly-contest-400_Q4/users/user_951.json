{
    "username": "rebornndisillusioned",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int ans = INT_MAX;\n        \n        int n = nums.size();\n        int Prefix[n+1][32];\n        \n        for(int i=0;i<32;i++) Prefix[0][i] = 0;\n        for(int i=0;i<n;i++)\n        {\n            for(int j=0;j<32;j++)\n            {\n                if ((1<<j) & nums[i]) Prefix[i+1][j] = Prefix[i][j] + 1;\n                else  Prefix[i+1][j] = Prefix[i][j];\n            }\n        }\n        \n        int val =0;\n        for(int i=0;i<n;i++)\n        {\n            int lo = i+1, hi = n, mid;\n            while (lo < hi)\n            {\n                mid = lo + (hi-lo)/2;\n                val = 0;\n                // cout<<mid<<endl;\n                for(int j=0;j<32;j++)\n                {\n                    // cout<<mid<<\" \"<<j<<\" \"<<Prefix[mid][j] - Prefix[i][j]<<endl;\n                    if (Prefix[mid][j] - Prefix[i][j] == mid - i)\n                    {\n                        // cout<<i<<\" \"<<mid<<endl;\n                        val += (1<<j);\n                    }\n                }\n                \n                if (val <= k) hi = mid;\n                else lo = mid+1;\n            }\n            \n            val = 0;\n            for(int j=0;j<32;j++)\n                {\n                    // cout<<mid<<\" \"<<j<<\" \"<<Prefix[mid][j] - Prefix[i][j]<<endl;\n                    if (Prefix[lo][j] - Prefix[i][j] == lo - i)\n                    {\n                        // cout<<i<<\" \"<<mid<<endl;\n                        val += (1<<j);\n                    }\n                }\n            // cout<<val<<endl;\n            ans = min(ans, abs(k-val));\n            \n            lo = i+1, hi = n;\n            while(lo < hi)\n            {\n                mid = lo + (hi-lo+1)/2;\n                val = 0;\n                for(int j=0;j<32;j++)\n                {\n                    if (Prefix[mid][j] - Prefix[i][j] == mid - i)\n                    {\n                        val += (1<<j);\n                    }\n                }\n                \n                if (val < k) hi = mid-1;\n                else lo = mid;\n            }\n            \n            val = 0;\n            for(int j=0;j<32;j++)\n                {\n                    // cout<<mid<<\" \"<<j<<\" \"<<Prefix[mid][j] - Prefix[i][j]<<endl;\n                    if (Prefix[lo][j] - Prefix[i][j] == lo - i)\n                    {\n                        // cout<<i<<\" \"<<mid<<endl;\n                        val += (1<<j);\n                    }\n                }\n            // cout<<val<<endl;\n            // cout<<i<<\" \"<<lo<<endl;\n            ans = min(ans, abs(k-val));\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": 1717299820.0
}