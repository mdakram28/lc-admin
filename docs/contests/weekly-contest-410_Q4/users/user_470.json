{
    "username": "anvith06",
    "submission": "#define pb push_back\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        int mod = 1e9+7,ans = 0;\n        vector<int>a1,a2,cnt;\n        for(int i=0;i<=nums[n-1];i++){\n            a1.pb(i);\n            a2.pb(nums[n-1]-i);\n            cnt.pb(1);\n        }\n        vector<int>suff(nums[n-1]+1);\n        suff[nums[n-1]]=cnt[nums[n-1]];\n        for(int i=nums[n-1]-1;i>=0;i--)suff[i]=(cnt[i]+suff[i+1])%mod;\n        for(int i=n-2;i>=0;i--){\n            vector<int>cur1,cur2,cnt2(nums[i]+1,0),suff1(nums[i]+1);\n            reverse(a2.begin(),a2.end());\n            for(int j=0;j<=nums[i];j++){\n                cur1.pb(j);cur2.pb(nums[i]-j);\n                int p = lower_bound(a1.begin(),a1.end(),j)-a1.begin();\n                int z = lower_bound(a2.begin(),a2.end(),nums[i]-j)-a2.begin();\n                z = max(0,nums[i+1]-z);\n                if(p==nums[i+1]+1)continue;\n                p = max(p,z);\n                cnt2[j]=(cnt2[j]+suff[p])%mod;\n            }\n            a1 = cur1;\n            a2 = cur2;\n            cnt = cnt2;\n            suff1[nums[i]]=cnt2[nums[i]];\n            for(int j=nums[i]-1;j>=0;j--){\n                suff1[j]=(suff1[j+1]+cnt2[j])%mod;\n            }\n            suff=suff1;\n        }\n        return suff[0];\n    }\n};",
    "submit_ts": "1723347823",
    "subm_id": "1351606252"
}