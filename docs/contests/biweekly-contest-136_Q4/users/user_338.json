{
    "username": "amanmishra_20",
    "submission": "#define ff first\n#define ss second\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        vector<vector<int>>adj(n);\n        for(auto i:edges){\n            adj[i[0]].push_back(i[1]);\n            adj[i[1]].push_back(i[0]);\n        }\n        multiset<pair<int,pair<int,int>>>s[n];\n        pair<int,int> tmpans[n];\n        vector<int>ans(n);\n        function<pair<int,int>(int,int)>dfs1=[&](int node,int par){\n            int g=0;\n            for(auto i:adj[node]){\n                if(i==par)continue;\n                pair<int,int> p=dfs1(i,node);\n                s[node].insert({p.ff+2*p.ss,p});\n            }\n            pair<int,int>mx{0,0};\n            if(s[node].size())mx=(*s[node].rbegin()).ss;\n            if(node&1)mx.ff++;\n            else mx.ss++;\n            return tmpans[node]=mx;\n        };\n      \n        dfs1(0,-1);\n        ans[0]=(*s[0].rbegin()).ff;\n        function<void(int,int)>dfs2=[&](int node,int par){\n            for(auto i:adj[node]){\n                if(i==par)continue;\n                pair<int,int> p=tmpans[i];\n                s[node].erase(s[node].find({p.ff+2*p.ss,p}));\n                pair<int,int> g{0,0};\n                if(s[node].size())g=(*s[node].rbegin()).ss;\n                if(node&1)g.ff++;\n                else g.ss++;\n                s[i].insert({g.ff+2*g.ss,g});\n                pair<int,int> k=(*s[i].rbegin()).ss;\n                ans[i]=k.ff+2*k.ss;\n                dfs2(i,node);\n                s[i].erase(s[i].find({g.ff+2*g.ss,g}));\n                s[node].insert({p.ff+2*p.ss,p});\n            }\n        };\n        dfs2(0,-1);\n        return ans;\n    }\n};",
    "submit_ts": "1722698441",
    "subm_id": "1343180736"
}