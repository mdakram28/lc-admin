{
    "username": "wryyyyy",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        vector<int> ans;\n        set<pair<int, int>> st;\n        int now = n - 1;\n        for (auto& i : queries) {\n            if (st.empty()) {\n                st.emplace(i[0], i[1]);\n                now = now - (i[1] - i[0]) + 1;\n                ans.push_back(now);\n            } else {\n                bool ok = false;\n                auto ite = st.lower_bound(make_pair(i[0], 0));\n                while (ite != st.end()) {\n                    auto vv = *ite;\n                    if (vv.first >= i[0] and vv.second <= i[1]) {\n                        ok = true;\n                        now += vv.second - vv.first;\n                        now--;\n                        st.erase(vv);\n                        ite++;\n                    } else {\n                        break;\n                    }\n                }\n                if (ok) {\n                    now -= i[1] - i[0];\n                    now++;\n                    ans.push_back(now);\n                    st.emplace(i[0], i[1]);\n                    continue;\n                }\n\n                if (ite != st.end()) {\n                    auto vv = *ite;\n                    if (vv.first == i[0] and vv.second >= i[1]) {\n                        ok = true;\n                    }\n                }\n\n                if (ok) {\n                    ans.push_back(now);\n                    continue;\n                }\n\n                if (ite != st.begin()) {\n                    auto vv = *prev(ite);\n                    if (vv.first <= i[0] and vv.second >= i[1]) {\n                        ok = true;\n                    }\n                }\n\n                if (ok) {\n                    ans.push_back(now);\n                    continue;\n                }\n\n                st.emplace(i[0], i[1]);\n                now -= (i[1] - i[0]);\n                now++;\n                ans.push_back(now);\n\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722743273",
    "subm_id": "552349816"
}