{
    "username": "Casterkiller",
    "submission": "class Solution:\n    def minimumSum(self, grid: List[List[int]]) -> int:\n        #print('------')\n        best = inf\n        R, C = len(grid), len(grid[0])\n\n        total = 0\n        needCalc = False\n        for i in range(R):\n            for j in range(C):\n                if grid[i][j] == 1:\n                    total += 1\n                    if total > 3:\n                        needCalc = True\n                        break\n            if needCalc:\n                break\n        else:\n            return 3\n\n        cache = {}\n        def area(lo_r, hi_r, lo_c, hi_c):\n            key = (lo_r, hi_r, lo_c, hi_c)\n            if key in cache:\n                return cache[key]\n            if lo_r >= hi_r or lo_c >= hi_c:\n                cache[key] = 0\n                return cache[key]\n            top, down, left, right, = inf, -inf, inf, -inf\n            for i in range(lo_r, hi_r):\n                for j in range(lo_c, hi_c):\n                    if grid[i][j] == 1:\n                        top = min(top, i)\n                        down = max(down, i)\n                        left = min(left, j)\n                        right = max(right, j)\n\n            area = (down - top + 1) * (right - left + 1)\n            cache[key] = 0 if area == inf or area == -inf else area\n            return cache[key]\n\n        for i in range(R):\n            a1 = area(0, i, 0, C)\n            for j in range(C):\n                a2 = area(i, R, 0, j)\n                a3 = area(i, R, j, C)\n                best = min(a1 + a2 + a3, best)\n\n            for j in range(R):\n                a2 = area(i, j, 0, C)\n                a3 = area(j, R, 0, C)\n                best = min(a1 + a2 + a3, best)\n        \n        for i in range(R - 1, -1, -1):\n            a1 = area(i, R, 0, C)\n            for j in range(C):\n                a2 = area(0, i, 0, j)\n                a3 = area(0, i, j, C)\n                best = min(a1 + a2 + a3, best)\n\n            for j in range(i, -1, -1):\n                a2 = area(j, i, 0, C)\n                a3 = area(0, j, 0, C)\n                best = min(a1 + a2 + a3, best)\n\n        for i in range(C):\n            a1 = area(0, R, 0, i)\n            for j in range(C):\n                a2 = area(0, R, i, j)\n                a3 = area(0, R, j, C)\n                best = min(a1 + a2 + a3, best)\n\n            for j in range(R):\n                a2 = area(0, j, i, C)\n                a3 = area(j, R, i, C)\n                best = min(a1 + a2 + a3, best)\n\n        for i in range(C -1, -1, -1):\n            a1 = area(0, R, i, C)\n            for j in range(i, -1, -1):\n                a2 = area(0, R, j, i)\n                a3 = area(0, R, 0, j)\n                best = min(a1 + a2 + a3, best)\n\n            for j in range(R):\n                a2 = area(0, j, 0, i)\n                a3 = area(j, R, 0, i)\n                best = min(a1 + a2 + a3, best)\n\n        #print(cache)\n        return best",
    "submit_ts": "1719114146",
    "subm_id": "1297340801"
}