{
    "username": "prashant933",
    "submission": "#define ll long long\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& a, int k) {\n        int n = a.size();\n        int m = log2(n) + 1;\n        int st[m+1][n];\n        for (int j=0;j<n;j++)\n            st[0][j] = a[j];\n        for (int i=1;i<=m;i++)\n        {\n            for (int j=0;j+(1<<i)<=n;j++)\n                st[i][j] = (st[i-1][j] & st[i-1][j+(1<<(i-1))]);\n        }\n        ll ans = 0;\n        for (int i=0;i<n;i++)\n        {\n            if (a[i] < k)\n                continue;\n            int l = i, u = n-1, mn = -1, mx = -1;\n            while (l <= u)\n            {\n                int mid = (l+u)/2;\n                // (i, mid)\n                int len = mid - i + 1;\n                int j = log2(len);\n                int val = (st[j][i]&st[j][mid-(1<<j)+1]);\n                if (val == k)\n                {\n                    mn = mid;\n                    u = mid - 1;\n                }\n                else if (val < k)\n                    u = mid - 1;\n                else\n                    l = mid + 1;\n            }\n            \n            l=i;u=n-1;\n            while (l <= u)\n            {\n                int mid = (l+u)/2;\n                // (i, mid)\n                int len = mid - i + 1;\n                int j = log2(len);\n                int val = (st[j][i]&st[j][mid-(1<<j)+1]);\n                if (val == k)\n                {\n                    mx = mid;\n                    l = mid + 1;\n                }\n                else if (val < k)\n                    u = mid - 1;\n                else\n                    l = mid + 1;\n            }\n            if (mn != -1 && mx != -1)\n                ans += (mx - mn + 1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278306",
    "subm_id": "1311703434"
}