{
    "username": "Marmaduke",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        s = \"x\" + s;\n\n        int n = s.length();\n        vector<vector<int>> c(2,vector<int>(n,0));\n        vector<int> next_zero(n);\n        int r = n;\n        for(int i = n-1; i >= 1; i--)\n        {\n\n            next_zero[i] = r;\n            if(s[i] == '0')\n            {\n                r = i;\n            }\n        }\n        for(int i = 1; i < n; i++)\n        {\n            for(int k = 0; k < 2; k++)\n            {\n                c[k][i] = c[k][i-1];\n            }\n            int t = s[i]-'0';\n            c[t][i]++;\n        }\n        \n        int ans = 0;\n        for(int i = 1; i < n; i++)\n        {\n            int j =i;\n            int d[2];\n\n            while(j < n)\n            {\n                for(int k = 0; k < 2; k++)\n                {\n                    d[k] = c[k][j]-c[k][i-1];\n                }\n                \n                int t = d[1] - d[0]*d[0];\n                //cout << i << \", \" << j << \"; \" << t << endl;\n                if(t >= 0)\n                {\n                    int jj = next_zero[j];\n                    ans += (jj-j);\n                    j = next_zero[j];\n                }\n                else\n                {\n                    j += (-t);\n                }\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722138468",
    "subm_id": "1335791556"
}