{
    "username": "yoasobi",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        // vector<vector<int>>e(n);\n        // for(int i=0;i+1<n;i++){\n        //     e[i].push_back(i+1);\n        //     e[i+1].push_back(i);\n        // }\n        vector<int>dis(n);\n        iota(dis.begin(), dis.end(), 0);\n        int  l=0, cnt=0;\n        map<int, int>cov;\n        vector<int>ans;\n        for(auto &q:queries){\n            // e[q[0]].push_back(q[1]);\n            // e[q[1]].push_back(q[0]);\n            // dis[q[0]]=min(dis[q[0]], dis[q[1]]+1);\n            // dis[q[1]]=min(dis[q[1]], dis[q[0]]+1);\n            // for(int i=1;i+q[1]<n;i++){\n            //     dis[i]=min(dis[i], dis[q[1]]+1);\n            // }\n            auto it=cov.lower_bound(q[0]);\n            if(it!=cov.end() && it->second<=q[1]){\n                int c=0;\n                for(auto tt=it;tt!=cov.end()&&tt->second<=q[1];cov.erase(tt++)){\n                    int p=tt->second-tt->first;\n                    c++;\n                    l-=p;\n                }\n                cnt-=c;\n                if(c>0)\n                    cnt++;\n                \n                l+=q[1]-q[0];\n                cov[q[0]]=q[1];\n                \n            }\n            else if(it!=cov.end()&&it->first<=q[0]&&it->second>=q[1]){\n                \n            }\n            else if(it!=cov.begin()&&prev(it)->second>=q[1]){\n                \n            }\n            else{\n                l+=q[1]-q[0];\n                cov[q[0]]=q[1];\n                cnt++;\n            }\n            \n            \n            \n            ans.push_back(n-1-l+cnt);\n            \n            \n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722741776",
    "subm_id": "1343753256"
}