{
    "username": "rjaashish627",
    "submission": "class Solution {\npublic:\n    // Updates a node in Binary Index Tree (BITree) at given index\n    // in BITree. The given value 'val' is added to BITree[i] and\n    // all of its ancestors in tree.\n    void updateBIT(vector<int> &BITree, int n, int index, int val)\n    {\n        index = index + 1;\n\n        while (index <= n){\n            BITree[index] += val;\n            \n            index += index & (-index);\n        }\n    }\n\n    vector<int> constructBITree(vector<int> &arr, int n)\n    {\n        vector<int> BITree(n+1,0);\n        for (int i=0; i<n; i++)\n            updateBIT(BITree, n, i, arr[i]);\n        \n        return BITree;\n    }\n\n    int getSum(vector<int> &BITree, int index)\n    {\n        int sum = 0;\n        index = index + 1;\n        \n        while (index>0)\n        {\n            sum += BITree[index];\n            index -= index & (-index);\n        }\n        return sum;\n    }\n    \n    void update(vector<int> &BITree, int l, int r, int n, int val)\n    {\n        updateBIT(BITree, n, l, val);\n        updateBIT(BITree, n, r+1, -val);\n    }\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        vector<int> df0(n,0),dtn(n,0);\n        \n        vector<int> bdf0 = constructBITree(df0,n);\n        vector<int> bdtn = constructBITree(dtn,n);\n        for (int i = 0;i < n;i++){\n            update(bdf0,i,i,n,i);\n            update(bdtn,i,i,n,n-1-i);\n        }\n        vector<int> ans;\n        for (auto x : queries){\n            int u = x[0],v=x[1];\n                \n            int newDist = getSum(bdf0,u) + getSum(bdtn,v) + 1;\n            if (newDist < getSum(bdf0,n-1)){\n                //consider it\n                int change = getSum(bdf0,v)-getSum(bdf0,u)-1;\n                update(bdf0,v,n,n,-change);\n                update(bdtn,0,u,n,-change);\n            }\n            \n            ans.push_back(getSum(bdf0,n-1));\n        }\n        \n        \n        return ans;\n    }\n};",
    "submit_ts": "1722743278",
    "subm_id": "1343788390"
}