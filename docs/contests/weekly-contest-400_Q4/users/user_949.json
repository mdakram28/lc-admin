{
    "username": "justinleung0204",
    "submission": "class Solution:\n    def minimumDifference(self, nums: List[int], k: int) -> int:\n        def cal(c0,c1):\n            res=0\n            for i in range(B):\n                if c1[i]>0 and c0[i]==0:\n                    res+=(1<<i)\n            return res\n        def add(c0, c1,a):\n            for i in range(B):\n                if (1<<i)&a==0:\n                    c0[i]+=1\n                else:\n                    c1[i]+=1\n            return c0,c1\n        \n        def sub(c0,c1,a):\n            for i in range(B):\n                if (1<<i)&a==0:\n                    c0[i]-=1\n                else:\n                    c1[i]-=1\n            return c0,c1\n            \n        #print(\"-----\")\n                    \n        INF=10**20   \n        n=len(nums)\n        B=32\n        cnt0=[0 for _ in range(B)]\n        cnt1=[0 for _ in range(B)]\n        l=0\n        minGTE=INF\n        maxLT=-INF\n        for r in range(n):\n            cnt0,cnt1=add(cnt0,cnt1,nums[r])\n            #print(cnt0,cnt1)\n            while l<r and cal(cnt0,cnt1)<k:\n                #print(\"sub\", l, r)\n                cnt0,cnt1=sub(cnt0,cnt1,nums[l])\n                l+=1\n            #l==r or cal>=k\n            this=cal(cnt0,cnt1)\n            #print(cnt0,cnt1)\n            #print(l,r,this)\n            if this>=k:\n                #print(l,r,this)\n                minGTE=min(minGTE, this)\n                \n                if l>0:\n                    t1=list(cnt1)\n                    t0=list(cnt0)\n                    t0,t1=add(t0,t1,nums[l-1])\n                    maxLT=max(maxLT, cal(t0,t1))\n            else:\n                maxLT=max(maxLT, cal(cnt0,cnt1))\n        \n        #print(f\"{k=} {minGTE=}, {maxLT=}\")\n        return min(minGTE-k,k-maxLT)\n        \n        \"\"\"\n        intuition: AND can only decrease with more elements\n        \n        for each fixed r, tighten until AND>=k\n        \n        \"\"\"\n        \n        ",
    "submit_ts": 1717300418.0
}