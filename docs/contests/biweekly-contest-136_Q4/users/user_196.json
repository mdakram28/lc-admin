{
    "username": "arpitras",
    "submission": "class Solution {\npublic:\n    #define nl '\\n'\n#define ld long double\n#define endl '\\n'\n#define vi vector<int>\n#define pii pair<int, int>\n#define fr first\n#define sc second\n#define sp \" \"\n#define mkpr make_pair\n#define sz(x) x.size()\n#define all(x) (x).begin(), (x).end()\n#define gcd(a, b) __gcd(a, b)\n#define vpi vector<pii>\n#define vvi vector<vi>\n#define vvpi vector<vpi>\n    vi indp;\n    vi outdp;\n    map< int, set<pii>> st;\n    vvi g; int n;\n    void indfs(int node, int par)\n    {\n        int ans=0;\n        for(auto p:g[node])\n        {\n            if(p==par)\n                continue;\n            indfs(p, node);\n            ans= max(ans, indp[p]);\n            st[node].insert({indp[p],p});\n        }\n        int self=0;\n        if(node%2)\n            self=1;\n        else\n            self=2;\n        indp[node]= self + ans;\n        return;\n    }\n    void outdfs(int node, int par)\n    {\n        if(node==0)\n        {\n            for(auto p:g[node])\n            {\n                if(p==par) continue;\n                outdfs(p, node);\n            }\n            return;\n        }\n        int x=0; int y=0;\n        y= outdp[par];\n        if(st[par].size()>1)\n        {\n            auto it= st[par].end();\n            it--;\n            if(it->sc==node)\n                it--;\n            x= it->fr;\n        }\n        int s;\n        if(par%2)\n            s=1;\n        else\n            s=2;\n        outdp[node]= max(x,y)+s;\n        for(auto p:g[node])\n            {\n                if(p==par) continue;\n                outdfs(p, node);\n            }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) \n    {\n        n= edges.size()+1;\n        g.resize(n);\n        for(auto p:edges)\n        {\n            int a= p[0];\n            int b=p[1];\n            g[a].push_back(b);\n            g[b].push_back(a);\n        }\n        indp.assign(n,0); outdp.assign(n,0);\n        indfs(0,-1);\n        outdfs(0,-1);\n        vector<int> ans;\n        for(int i=0;i<n;i+=1)\n        {\n            int s;\n        if(i%2)\n            s=1;\n        else\n            s=2;\n            ans.push_back( max(indp[i]-s, outdp[i]) );\n        }\n        return ans;\n        \n        \n    }\n};",
    "submit_ts": "1722696955",
    "subm_id": "1343128671"
}