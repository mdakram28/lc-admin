{
    "username": "ives-5",
    "submission": "class Solution:\n    def timeTaken(self, edges: List[List[int]]) -> List[int]:\n        n = len(edges) + 1\n        g = [[] for _ in range(n)]\n        for a, b in edges:\n            g[a].append(b)\n            g[b].append(a)\n    \n        d1 = defaultdict(int)\n        d2 = defaultdict(int)\n        up = defaultdict(int)\n        p1 = defaultdict(int)\n        p2 = defaultdict(int) \n\n        def dfs(u, f): \n            for x in g[u]: \n                if x % 2 == 1: v = 1\n                else: v = 2\n                if x != f: \n                    dfs(x, u) \n                    t = d1[x] + v\n                    if t >= d1[u]:\n                        d2[u] = d1[u] \n                        p2[u] = p1[u]\n                        d1[u] = t \n                        p1[u] = x\n                    elif t >= d2[u]: \n                        d2[u] = t\n                        p2[u] = x \n\n        dfs(0, -1) \n\n        def dfs2(u, f): \n            for x in g[u]: \n                if u % 2 == 1: v = 1\n                else: v = 2\n                if x != f: \n                    up[x] = max(up[x], up[u] + v)\n                    if p1[u] == x: \n                        up[x] = max(up[x], d2[u] + v)\n                    else: \n                        up[x] = max(up[u] + v, d1[u] + v)\n                    dfs2(x, u)\n        dfs2(0, -1)\n        \n        res = [0] * n\n        for i in range(n):\n            # print(d1[i], d2[i], up[i])\n            res[i] = max(max(d1[i], up[i]), d2[i])\n        return res\n        \n#         t = [0] * n\n#         def dfs(u, fa):\n#             for x in g[u]:\n#                 if x == fa: continue \n#                 if x % 2 == 1:\n#                     t[x] = t[u] + 1 \n#                 else:\n#                     t[x] = t[u] + 2\n#                 dfs(x, u)\n        \n#         res = [0] * n\n#         dfs(0, -1)\n#         res[0] = t[0]\n        \n#         def dfs2(u, fa, c):\n#             for x in g[u]:\n#                 if x == fa: continue \n#                 if x % 2 == 1:\n                    \n        \n        \n        ",
    "submit_ts": "1722697879",
    "subm_id": "552268252"
}