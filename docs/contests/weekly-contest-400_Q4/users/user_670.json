{
    "username": "kremater",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n=nums.size();\n        vector<vector<int>> pre(n+1,vector<int>(30));\n        for(int i=1;i<=n;i++){\n            pre[i]=pre[i-1];\n            for(int j=0;j<30;j++)\n                if((nums[i-1]>>j)&1) pre[i][j]++;\n        }\n        int ans=INT_MAX;\n        for(int i=1;i<=n;i++){\n            if(nums[i-1]<=k){\n                ans=min(ans,abs(k-nums[i-1]));\n                continue;\n            }\n            ans=min(ans,abs(nums[i-1]-k));\n            int lo=i,hi=n;\n            while(hi-lo>1){\n                int mid=(lo+hi)/2;\n                int x=0;\n                for(int j=0;j<30;j++){\n                    if((mid-i+1)==(pre[mid][j]-pre[i-1][j]))\n                        x+=(1<<j);\n                }\n                if(x>=k){\n                    lo=mid;\n                }else{\n                    hi=mid;\n                }\n            }\n            int x=0;\n            for(int j=0;j<30;j++){\n                if((hi-i+1)==(pre[hi][j]-pre[i-1][j]))\n                    x+=(1<<j);\n            }\n            // cout<<lo<<\" \";\n            if(x>=k) lo=hi;\n            // cout<<x<<\" \"<<lo<<endl;\n            x=0;\n            for(int j=0;j<30;j++){\n                if((lo-i+1)==(pre[lo][j]-pre[i-1][j]))\n                    x+=(1<<j);\n            }\n            ans=min(ans,abs(x-k));\n            x=0;\n            for(int j=0;j<30;j++){\n                if((lo-i+1)==(pre[lo][j]-pre[i-1][j]))\n                    x+=(1<<j);\n            }\n            ans=min(ans,abs(x-k));\n            \n            if(lo<n){\n                x=0;\n                for(int j=0;j<30;j++){\n                    if((lo+1-i+1)==(pre[lo+1][j]-pre[i-1][j]))\n                        x+=(1<<j);\n                }\n                ans=min(ans,abs(x-k));\n            } \n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717298639.0
}