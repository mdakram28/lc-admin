{
    "username": "pendem_2003",
    "submission": "class Solution {\npublic:\n    vector<vector<int>> g;\n    vector<int> indp;\n    vector<int> outdp;\n    void indfs(int node, int par){\n        indp[node] = 0;\n        for (auto it : g[node]){\n            if (it==par)continue;\n            indfs(it, node);\n            int a = indp[it];\n            if ((it-1)%2==0)a += 2;\n            else a += 1;\n            indp[node] = max(indp[node],a);\n        }\n    }\n    void outdfs(int node, int par){\n        int max1 = 0, max2 = 0;\n        for (auto it : g[node]){\n            if (it==par)continue;\n            int val = indp[it];\n            if ((it-1)%2==0)val += 2;\n            else val += 1;\n            if (val>=max1){\n                max2 = max1;\n                max1 = val;\n            }\n            else if (val>max2){\n                max2 = val;\n            }\n        }\n        //if (node==1)cout<<max1<<\" \"<<max2<<\"\\n\";\n        for (auto it : g[node]){\n            if (it==par)continue;\n            int val = indp[it];\n            if ((it-1)%2==0)val += 2;\n            else val += 1;\n            if (val==max1){\n                int val1 = 0;\n                if ((node-1)%2==0)val1 += 2;\n                else val1 += 1;\n                outdp[it] = val1 + max(outdp[node],max2);\n            }\n            else {\n                int val1 = 0;\n                if ((node-1)%2==0)val1 += 2;\n                else val1 += 1;\n                outdp[it] = val1 + max(outdp[node],max1);\n            }\n            outdfs(it,node);\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size();\n        n++;\n        g.clear();\n        g.resize(n+1);\n        for (int i=0;i<n-1;i++){\n            int a = edges[i][0];\n            int b = edges[i][1];\n            a++;\n            b++;\n            g[a].push_back(b);\n            g[b].push_back(a);\n        }\n        indp.assign(n+1,0);\n        outdp.assign(n+1,0);\n        indfs(1,1);\n        outdfs(1,1);\n        vector<int> ans(n);\n        for (int i=1;i<=n;i++){\n            //cout<<indp[i]<<\"\\n\";\n            ans[i-1] = max(indp[i],outdp[i]);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722698363",
    "subm_id": "1343178265"
}