{
    "username": "AndreasHzz",
    "submission": "class Solution {\n    public int minFlips(int[][] grid) {\n        // maximum is to flip all ones into zeros\n        int res = 0;\n        for(int i = 0; i<grid.length; i++){\n            for(int j = 0; j<grid[0].length; j++){\n                if(grid[i][j]==1)res++;\n            }\n        }\n\n        // first row == last row\n        // first column == last column\n        // we only look for the 4 dir blocks\n        int n = grid.length;\n        int m = grid[0].length;\n        int[][] cnt = new int[n/2][m/2];\n        for(int i = 0; i<n/2; i++){\n            for(int j = 0; j<m/2; j++){\n                cnt[i][j]+=grid[i][j];\n                cnt[i][j]+=grid[n-1-i][j];\n                cnt[i][j]+=grid[i][m-1-j];\n                cnt[i][j]+=grid[n-i-1][m-1-j];\n            }\n        }\n        int val = 0;\n        for(int i = 0; i<n/2; i++){\n            for(int j = 0; j<m/2; j++){\n                \n                val += Math.min(4-cnt[i][j],cnt[i][j]); \n            }\n        }\n        int midcnt = 0;\n        int changecnt = 0;\n        if(n%2==1){\n            \n            for(int j = 0; j<m/2; j++){\n                if(grid[n/2][j]!=grid[n/2][m-1-j]){\n                    //change to zero\n                    changecnt+=1;\n                    val+=1;\n                }else{\n                    if(grid[n/2][j]==1)midcnt+=2;\n                }\n            }\n\n            if(m%2==1){\n                if(grid[n/2][m/2]==1){\n                    \n                    val+=1;\n                    grid[n/2][m/2]=0;\n                }\n            }\n        }\n        //System.out.println(n%2==1 && m%2==1);\n        if(m%2==1){\n            for(int i = 0; i<n/2; i++){\n                if(grid[i][m/2]!=grid[n-1-i][m/2]){\n                    //change to zero\n                    changecnt+=1;\n                    val+=1;\n                }else{\n                    if(grid[i][m/2]==1)midcnt+=2;\n                }\n            }\n\n            if(n%2==1){\n                if(grid[n/2][m/2]==1){\n                    val+=1;\n                    grid[n/2][m/2]=0;\n                }\n            }\n        }\n\n\n        if(midcnt%4!=0){\n            if(changecnt==0)val+=2;\n        }\n        //System.out.println(midcnt);\n        return Math.min(val, res);\n    }\n}",
    "submit_ts": "1722697904",
    "subm_id": "1343163079"
}