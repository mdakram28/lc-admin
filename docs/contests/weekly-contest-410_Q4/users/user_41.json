{
    "username": "rtmkz",
    "submission": "\nconst int N = 2001;\nconst int mod = (int)1e9 + 7;\n\nclass Solution {\npublic:\n    vector<int> a;\n    int dp[N][1001];\n    int pref[N][1001];\n    int calc(int pos, int l1) {\n        // cout << l1 << ' ' << l2 << endl;\n        // cout << pos << ' ' << l1 << endl;\n        if (pos == a.size()) return 1;\n        if (~dp[pos][l1]) return dp[pos][l1];\n        int res = 0;\n        for (int i = l1; i <= a[pos]; i++) {\n            int j = a[pos] - i;\n            if (pos && j > a[pos - 1] - l1) continue;\n\n            res += calc(pos + 1, i);\n            res %= mod;\n        }\n        return dp[pos][l1] = res;\n    }\n    int countOfPairs(vector<int>& a_) {\n        a = a_;\n        int n = a.size();\n\n\n        for (int i = 0; i <= a[0]; i++) {\n            dp[0][i] = 1;\n            pref[0][i] = dp[0][i];\n            if (i) {\n                pref[0][i] += pref[0][i - 1];\n                pref[0][i] %= mod;\n            }\n        }\n\n        for (int i = 1; i < n; i++) {\n            for (int j = 0; j <= a[i]; j++) {\n                int p = min(j, a[i - 1] + j - a[i]);\n                if (p >= 0) dp[i][j] = pref[i - 1][p];\n                // for (int p = 0; p <= min(j, a[i - 1] + j - a[i]); p++) {\n                //     // if (p > a[i - 1] + j - a[i]) continue;\n                //     dp[i][j] += dp[i - 1][p];\n                //     dp[i][j] %= mod;\n                // }\n                pref[i][j] = dp[i][j];\n                if (j) {\n                    pref[i][j] += pref[i][j - 1];\n                    pref[i][j] %= mod;\n                }\n            }\n        }\n        int ans = 0;\n        for (int i = 0; i <= a[n - 1]; i++) {\n            ans += dp[n - 1][i];\n            ans %= mod;\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1723344764",
    "subm_id": "1351541549"
}