{
    "username": "wang-jing-oh",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edge) {\n        int n = edge.size() + 1;\n        vector<vector<pair<int,int>>> h(n);\n        for(auto t :edge)\n        {\n            int x = t[0], y = t[1];\n            h[x].push_back({y, (y%2 == 0) + 1});\n            h[y].push_back({x, (x%2 == 0) + 1});\n        }\n        vector<int> f(n), g(n);\n        function<void(int,int)> dfs = [&](int u, int fa)\n        {\n            for(auto [v, w] : h[u])\n            {\n                if(v == fa) continue;\n                dfs(v, u);\n                int d = f[v] + w;\n                if(d > g[u]) g[u] = d;\n                if(g[u] > f[u]) swap(g[u], f[u]); \n            }\n        };\n        vector<int> ans(n);\n        function<void(int,int)> dfs1 = [&](int u, int fa)\n        {\n            ans[u] = f[u];\n            for(auto [v, w] : h[u])\n            {\n                if(v == fa) continue;\n                int val = f[u];\n                if(val == f[v]  + w) val = g[u];\n                val+=(u%2 == 0) + 1;\n                if(val > g[v]) g[v] = val;\n                if(g[v] > f[v]) swap(g[v], f[v]);\n                dfs1(v, u);\n            }\n        };\n        dfs(0, -1), dfs1(0, -1);\n        return ans;\n    }\n};",
    "submit_ts": "1722697530",
    "subm_id": "552266544"
}