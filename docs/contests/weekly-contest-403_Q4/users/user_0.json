{
    "username": "kmjp",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define FORR2(x,y,arr) for(auto& [x,y]:arr)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\ntemplate<class T> bool chmax(T &a, const T &b) { if(a<b){a=b;return 1;}return 0;}\ntemplate<class T> bool chmin(T &a, const T &b) { if(a>b){a=b;return 1;}return 0;}\n//-------------------------------------------------------\n\nint H,W;\nint A[31][31];\nint coverall[31][31][31][31];\n\nint num(int L,int R,int U,int D) {\n\treturn A[R][D]-A[L][D]-A[R][U]+A[L][U];\n}\n\nint cover(int L,int R,int U,int D) {\n\tint n=num(L,R,U,D);\n\tif(n==0) return 0;\n\tif(coverall[L][R][U][D]>=0) return coverall[L][R][U][D];\n\t\n\tint ret=(R-L)*(D-U);\n\tif(num(L+1,R,U,D)==n) ret=min(ret,cover(L+1,R,U,D));\n\tif(num(L,R-1,U,D)==n) ret=min(ret,cover(L,R-1,U,D));\n\tif(num(L,R,U+1,D)==n) ret=min(ret,cover(L,R,U+1,D));\n\tif(num(L,R,U,D-1)==n) ret=min(ret,cover(L,R,U,D-1));\n\treturn coverall[L][R][U][D]=ret;\n\t\n}\n\nclass Solution {\npublic:\n    int minimumSum(vector<vector<int>>& grid) {\n        MINUS(coverall);\n        H=grid.size();\n        W=grid[0].size();\n        int y,x,a1,a2;\n        FOR(y,H) FOR(x,W) {\n\t\t\tA[y+1][x+1]=A[y+1][x]+A[y][x+1]-A[y][x]+grid[y][x];\n\t\t}\n        int mi=1<<30;\n        for(a2=1;a2<H;a2++) for(a1=1;a1<a2;a1++) {\n\t\t\tmi=min(mi,cover(0,a1,0,W)+cover(a1,a2,0,W)+cover(a2,H,0,W));\n\t\t}\n        for(a2=1;a2<W;a2++) for(a1=1;a1<a2;a1++) {\n\t\t\tmi=min(mi,cover(0,H,0,a1)+cover(0,H,a1,a2)+cover(0,H,a2,W));\n\t\t}\n\t\t\n\t\tfor(y=1;y<H;y++) {\n\t\t\tfor(x=1;x<W;x++) {\n\t\t\t\tmi=min(mi,cover(0,y,0,W)+cover(y,H,0,x)+cover(y,H,x,W));\n\t\t\t\tmi=min(mi,cover(0,y,0,x)+cover(0,y,x,W)+cover(y,H,0,W));\n\t\t\t\tmi=min(mi,cover(0,H,0,x)+cover(0,y,x,W)+cover(y,H,x,W));\n\t\t\t\tmi=min(mi,cover(0,y,0,x)+cover(y,H,0,x)+cover(0,H,x,W));\n\t\t\t\t\n\t\t\t}\n\t\t}\n        return mi;\n        \n        \n        \n        \n    }\n};\n\n",
    "submit_ts": 1719110806.0
}