{
    "username": "milind0110",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        const int mx = 30;\n        vector<vector<int>> pref(n + 1,vector<int>(30));\n        for(int i = 0; i < n; i++){\n            for(int j = 0; j < mx; j++){\n                pref[i + 1][j] += pref[i][j];\n                pref[i + 1][j] += (nums[i] >> j & 1);\n            }\n        }\n        long long ans = 0;\n        for(int i = 0; i < n; i++){\n            int l = 0,r = i + 1;\n            {\n                int low = 0,high = i;\n                while(low <= high){\n                    int mid = (low + high) >> 1;\n                    int val = 0;\n                    for(int j = 0; j < mx; j++){\n                        if(pref[i + 1][j] - pref[mid][j] == (i + 1 - mid)){\n                            val += (1 << j);\n                        }\n                    }\n                    if(val < k){\n                        l = mid + 1;\n                        low = mid + 1;\n                    } else {\n                        high = mid - 1;\n                    }\n                }\n            }\n            {\n                int low = 0,high = i;\n                while(low <= high){\n                    int mid = (low + high) >> 1;\n                    int val = 0;\n                    for(int j = 0; j < mx; j++){\n                        if(pref[i + 1][j] - pref[mid][j] == (i + 1 - mid)){\n                            val += (1 << j);\n                        }\n                    }\n                    if(val > k){\n                        r = mid;\n                        high = mid - 1;\n                    } else {\n                        low = mid + 1;\n                    }\n                }\n            }\n            if(l != -1){\n                int val = 0;\n                for(int j = 0; j < mx; j++){\n                    if(pref[i + 1][j] - pref[l][j] == (i + 1 - l)){\n                        val += (1 << j);\n                    }\n                }\n                if(val == k){\n                    ans += (r - l);\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720276879",
    "subm_id": "1311637152"
}