{
    "username": "ayush_2800",
    "submission": "class Solution {\npublic:\n    void print(vector<int>&a){\n        for(int i:a){\n            cout<<i<<\" \";\n        }\n        cout<<endl;\n    }\n    int maximumLength(vector<int>& a, int k) {\n        vector<vector<int>>dp(k+1,vector<int>(a.size()));\n        vector<unordered_map<int,int>>ms(a.size());\n        int md=0;\n        unordered_map<int,int>ma;\n        for(int i=0;i<a.size();i++){\n            dp[0][i]=max(ma[a[i]]+1,1);\n            ma[a[i]]=dp[0][i];\n        }\n        vector<int>temp(a.size(),1);\n        for(int i=0;i<a.size();i++){\n            temp[i]=max(temp[i],dp[0][i]);\n            if(i)\n            temp[i]=max(temp[i],temp[i-1]);\n        }\n        for(int i=1;i<=k;i++){\n            unordered_map<int,int>ma;\n            // print(temp);\n            for(int j=0;j<a.size();j++){\n                dp[i][j]=max(ma[a[j]]+1,(j?temp[j-1]+1:1));\n                ma[a[j]]=dp[i][j];\n            }\n            for(int j=0;j<a.size();j++){\n                temp[j]=max(dp[i][j],temp[j]);\n                if(j)\n                temp[j]=max(temp[j],temp[j-1]);\n            }\n        }\n        // cout<<endl;\n        for(int i=0;i<dp.size();i++){\n            for(int j=0;j<dp[0].size();j++){\n                md=max(md,dp[i][j]);\n            }\n        }\n        // for(int i=0;i<dp.size();i++){\n        //     print(dp[i]);\n        // }\n        return md;\n    }\n};",
    "submit_ts": 1717861007.0
}