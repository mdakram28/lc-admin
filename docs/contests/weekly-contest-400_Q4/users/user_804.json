{
    "username": "resotto",
    "submission": "class Solution {\n    public int minimumDifference(int[] nums, int k) {\n        int n = nums.length;\n        var bits = new int[n+1][32];\n        var count = new int[32];\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < 32; j++) {\n                count[j] += ((nums[i] & (1 << j)) != 0) ? 1 : 0;\n            }\n            for (int j = 0; j < 32; j++) {\n                bits[i+1][j] = count[j];\n            }\n        }\n        var ans = Integer.MAX_VALUE;\n        for (int i = 0; i < n; i++) {\n            int l = i, r = n-1;\n            while (l <= r) {\n                int m = l + (r - l) / 2, and = 0;\n                for (int j = 0; j < 32; j++) {\n                    if (bits[m+1][j] - bits[i][j] == m - i + 1) {\n                        and |= 1 << j;\n                    }\n                }\n                ans = Math.min(ans, Math.abs(k - and));\n                if (k <= and) {\n                    l = m + 1;\n                } else {\n                    r = m - 1;\n                }\n            }\n        }\n        return ans;\n    }\n}\n\n/*\n    public int minimumDifference(int[] nums, int k) {\n        int l = 0, r = Integer.MAX_VALUE;\n        // int l = 0, r = k;\n        while (l < r) {\n            int m = l + (r - l) / 2, and = Integer.MAX_VALUE;\n            var found = false;\n            for (int p : nums) {\n                if (Math.abs(k - p) < Math.abs(k - (and & p))) {\n                // if (m < Math.abs(k - (and & p))) {\n                    and = p;\n                }\n                and &= p;\n                found |= Math.abs(k - and) <= m;\n            }\n            if (found) {\n                r = m;\n            } else {\n                l = m + 1;\n            }\n        }\n        return l;\n    }\n\n    public int minimumDifference(int[] nums, int k) {\n        int ans = Integer.MAX_VALUE, and = ans;\n        for (int p : nums) {\n            if ((and & p) < p) {\n                and = p;\n            }\n            and &= p;\n            ans = Math.min(ans, Math.abs(k - p));\n            ans = Math.min(ans, Math.abs(k - and));\n        }\n        return ans;\n    }\n\n\n[5,13,90,92,49]\n10\n=> 2\n\n[6]\n2\n=> 4\n\n[40,3,70,86,89]\n57\n=> 7\n\n[12,38,79,20,25]\n7\n=> 1\n*/",
    "submit_ts": 1717299087.0
}