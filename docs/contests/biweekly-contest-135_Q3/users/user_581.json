{
    "username": "bloodybanker",
    "submission": "class Solution {\npublic:\n    int minChanges(vector<int>& a, int k) {\n        int n=a.size();\n        set<int>st;\n        for(int i=0;i<n/2;i++){\n            int d=abs(a[i]-a[n-1-i]);\n            int ma1=max({abs(a[i]),abs(k-a[i]),d,(a[i]<=k?0:INT_MIN)});\n            int mi1=min({abs(a[i]),abs(k-a[i]),d,(a[i]<=k?0:INT_MAX)});\n            int ma2=max({abs(a[n-1-i]),abs(k-a[n-1-i]),d,(a[n-1-i]<=k?0:INT_MIN)});\n            int mi2=min({abs(a[n-1-i]),abs(k-a[n-1-i]),d,(a[n-1-i]<=k?0:INT_MAX)});\n            st.insert(ma1);\n            st.insert(mi1);\n            st.insert(ma1+1);\n            st.insert(ma2);\n            st.insert(mi2);\n            st.insert(ma2+1);\n        }\n        map<int,int>index;\n        int in=0;\n        for(auto it:st){\n            index[it]=in;\n            in++;\n        }\n        vector<int>v(in,0);\n        for(int i=0;i<n/2;i++){\n            int d=abs(a[i]-a[n-1-i]);\n            int ma1=max({abs(a[i]),abs(k-a[i]),d,(a[i]<=k?0:INT_MIN)});\n            int mi1=min({abs(a[i]),abs(k-a[i]),d,(a[i]<=k?0:INT_MAX)});\n            int ma2=max({abs(a[n-1-i]),abs(k-a[n-1-i]),d,(a[n-1-i]<=k?0:INT_MIN)});\n            int mi2=min({abs(a[n-1-i]),abs(k-a[n-1-i]),d,(a[n-1-i]<=k?0:INT_MAX)});\n            if(max(abs(ma2-mi1),abs(ma1-mi2))>abs(ma1-mi1)+abs(ma2-mi2)){\n                v[index[mi1]]++;\n                v[index[ma1+1]]--;\n                v[index[mi2]]++;\n                v[index[ma2+1]]--;\n            }else{\n                int ma=max(ma1,ma2);\n                int mi=min(mi1,mi2);\n                v[index[mi]]++;\n                v[index[ma+1]]--;\n            }\n            // cout<<a[i]<<\" \"<<a[n-1-i]<<\" \"<<mi1<<\" \"<<ma1<<\" \"<<mi2<<\" \"<<ma2<<endl;\n        }\n        for(int i=1;i<v.size();i++){\n            v[i]+=v[i-1];\n        }\n        map<int,int>mp;\n        for(int i=0;i<n/2;i++){\n            int diff=abs(a[i]-a[n-i-1]);\n            mp[diff]++;\n        }\n        // cout<<v[index[1]]<<endl;\n        int ans=n;\n        for(auto it:mp){\n            int val=it.first;\n            int pairs=v[index[val]];\n            int cost=pairs-it.second;\n            int left=n/2-pairs;\n            cost+=(2*left);\n            ans=min(ans,cost);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1721488416",
    "subm_id": "1327421545"
}