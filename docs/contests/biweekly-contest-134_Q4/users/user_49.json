{
    "username": "vijaykatari23",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& A, int K) {\n        ll N = A.size();\n        vector<vector<ll>> pre(N, vector<ll>(30));\n        for(ll i = 0; i < N; ++i) {\n            for(ll bit = 0; bit < 30; ++bit) if(A[i] & (1LL << bit)) {\n                pre[i][bit]++;\n            }\n            if(i == 0) continue;\n            for(ll bit = 0; bit < 30; ++bit)\n                pre[i][bit] += pre[i - 1][bit];\n        }\n        auto g = [&] (ll l, ll r) -> ll {\n            if(r < l) return -1;\n            ll ret = 0;\n            for(ll bit = 0; bit < 30; ++bit) {\n                ll cnt = pre[r][bit];\n                if(l)\n                    cnt -= pre[l - 1][bit];\n                if(cnt == r - l + 1) ret ^= (1LL << bit);\n            }\n            return ret;\n        };\n        ll ans = 0;\n        for(ll i = 0; i < N; ++i) {\n            ll low = 0, high = i;\n            ll id = -1;\n            while(low <= high) {\n                ll mid = (low + high) >> 1;\n                if(g(mid, i) >= K) {\n                    id = mid;\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n            low = 0, high = i;\n            ll id1 = -1;\n            while(low <= high) {\n                ll mid = (low + high) >> 1;\n                if(g(mid, i) <= K) {\n                    id1 = mid;\n                    low = mid + 1;\n                } else {\n                    high = mid - 1;\n                }\n            }\n            if(id != -1) \n                ans += (id1 - id + 1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720277868",
    "subm_id": "1311683776"
}