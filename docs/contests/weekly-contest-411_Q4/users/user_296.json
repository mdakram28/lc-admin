{
    "username": "\u5c11\u5e74\u03c0",
    "submission": "class Solution {\n\n    long getSum(int l, int r){\n        if(r<l){\n            return 0L;\n        }\n        return 1L*(r-l+1+1)*(r-l+1)/2;\n    }\n    public long[] countKConstraintSubstrings(String s, int K, int[][] queries) {\n            int m = queries.length;\n\n            int n = s.length();\n            int j = 0;\n            long []dp = new long[n];\n            long []sum = new long[n+1];\n            int num0 = 0, num1 = 0;\n\n            for(int i=0;i<n;++i){\n                if(s.charAt(i) == '0'){\n                    ++num0;\n                }else{\n                    ++num1;\n                }\n\n                while(j<i && (num0>K && num1>K)){\n                    if(s.charAt(j)=='0'){\n                        --num0;\n                    }else{\n                        --num1;\n                    }\n                    ++j;\n                }\n                dp[i] = j;\n                sum[i+1] = sum[i] + (i-dp[i]+1);\n\n              //  System.out.println(i+\" \"+dp[i]);\n            }\n\n            long []res = new long[m];\n            for(int i=0;i<m;++i){\n                int ql = queries[i][0], qr= queries[i][1];\n                int l = ql, r = qr+1 , mid=0 ;\n                while(l < r){\n                    mid = l + (r-l)/2;\n                    if(dp[mid]<=ql){\n                        l = mid + 1;\n                    }else{\n                         r = mid;\n                    }\n                }\n\n              //  System.out.println(l);\n\n                if(l == qr + 1){\n                    res[i] = getSum(ql, qr);\n                }else{\n                    res[i] = getSum(ql, l-1);\n                 //   System.out.println(res[i]+\" \"+(sum[qr+1] - sum[l]));\n                    res[i] = res[i] + sum[qr+1] - sum[l];\n                }\n\n\n            }\n            return res;\n\n    }\n}",
    "submit_ts": "1723953312",
    "subm_id": "556416783"
}