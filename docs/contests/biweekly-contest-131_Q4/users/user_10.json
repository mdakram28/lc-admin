{
    "username": "rgb234rgb",
    "submission": "class Solution {\n    \n    int max(int a,int b){\n        return a>b?a:b;\n    }\n    class Ret{\n        boolean hasBl;\n        int ls,rs,ms;\n\n        public Ret(int lls,int rrs,int mms,boolean bl){\n            ls=lls;rs=rrs;ms=mms;hasBl=bl;\n        }\n    }\n    class ST{\n        boolean hasBl;\n        int ls,rs,ms;\n        int s,e;\n        ST l,r;\n        public ST(int ss,int ee){\n            s=ss;e=ee;\n            ms=ee-ss;\n            ls=ms;rs=ms;\n            if (s<e){\n                int mid=(s+e)/2;\n                l=new ST(s,mid);r=new ST(mid+1,e); \n            }\n        }\n\n        public void set(int x){\n            if (s==e){\n                hasBl=true;\n            } else {\n                int mid=(s+e)/2;\n                if (x<=mid){\n                    l.set(x);\n                } else {\n                    r.set(x);\n                }\n                hasBl=l.hasBl || r.hasBl;\n                ms=max(max(l.ms,r.ms),l.rs+r.ls+1);\n                ls=l.hasBl ? l.ls : l.ms+r.ls+1;\n                rs=r.hasBl ? r.rs: r.ms+l.rs+1;\n            }\n            \n        }\n\n        public Ret query(int ss,int ee){\n            if (s>=ss&&e<=ee){\n                return new Ret(ls,rs,ms,hasBl);\n            } else {\n                int mid=(s+e)/2;\n                if (mid>=ee){\n                    return l.query(ss,ee);\n                }\n                if (mid<ss){\n                    return r.query(ss,ee);\n                }\n                Ret ret1=l.query(ss,ee);\n                Ret ret2=r.query(ss,ee);\n                Ret ret=new Ret(0,0,0,false);\n                ret.hasBl=ret1.hasBl || ret2.hasBl;\n                ret.ms=max(max(ret1.ms,ret2.ms),ret1.rs+ret2.ls+1);\n                ret.ls=ret1.hasBl ? ret1.ls : ret1.ms+ret2.ls+1;\n                ret.rs=ret2.hasBl ? ret2.rs: ret2.ms+ret1.rs+1;                \n                return ret;\n            }\n        }\n    }\n\n    public List<Boolean> getResults(int[][] queries) {\n        int n=queries.length;\n        int ma=0;\n        for (int i=0;i<n;i++){\n            if (queries[i][1]>ma){\n                ma=queries[i][1];\n            }\n        }\n        ST st=new ST(0,ma);\n        List<Boolean> bl=new ArrayList<>();\n        for (int i=0;i<n;i++){\n            if (queries[i][0]==1){\n                st.set(queries[i][1]);\n            } else {\n                Ret t=st.query(0,queries[i][1]);\n                bl.add(t.ms>=queries[i][2]);\n            }\n        }\n        return bl;\n    }\n}",
    "submit_ts": 1716648741.0
}