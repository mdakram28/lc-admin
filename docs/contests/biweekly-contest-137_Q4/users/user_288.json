{
    "username": "Pranjal Singh",
    "submission": "#define ll int\n#define ll1 long long\nll dp1[500][500][500];\nll mx[500][500];\nclass Solution {\npublic:\n    ll mnm=-2*1e9-100;\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n=board.size(),m=board[0].size();\n        for(int j=0;j<m;j++) mx[0][j]=board[0][j];\n        for(int i=1;i<n;i++){\n            for(int j=0;j<m;j++) mx[i][j]=max(board[i][j],mx[i-1][j]);\n        }\n\n       for(int i=0;i<1;i++){\n        for(int j=0;j<m;j++){\n            for(int k=0;k<m;k++) dp1[i][j][k]=mnm;\n        }\n       }\n        for(int i=1;i<n;i++){\n            for(int j=0;j<m;j++){\n                for(int k=j+1;k<m;k++){\n                    dp1[i][j][k]=max({dp1[i-1][j][k],board[i][j]+mx[i-1][k],board[i][k]+mx[i-1][j]});\n                    // cout<<i<<\" \"<<j<<\" \"<<k<<\" \"<<dp1[i][j][k]<<'\\n';\n                }\n            }\n        }\n\n\n        long long ans=-1e14;\n        for(int i=2;i<n;i++){\n            vector<ll> mx1(m,mnm);\n\n            for(int x=0;x<m;x++){\n                for(int j=0;j<x-1;j++) ans=max(ans,(ll1)board[i][x]+(ll1)mx1[j]);\n                for(int j=0;j<x;j++) mx1[j]=max(mx1[j],dp1[i-1][j][x]);\n            }\n            vector<ll> mx2(m,mnm);\n            ll mxxx=mnm;\n            for(int x=m-1;x>=0;x--){\n                ans=max(ans,(ll1)board[i][x]+(ll1)mxxx);\n                for(int j=0;j<x;j++) ans=max(ans,(ll1)mx2[j]+(ll1)board[i][x]);\n                for(int j=x+1;j<m;j++) mxxx=max(mxxx,dp1[i-1][x][j]);\n                for(int j=0;j<x-1;j++) mx2[j]=max(mx2[j],dp1[i-1][j][x]);\n            }\n\n        }\n\n        return ans;\n\n    }\n};",
    "submit_ts": "1723909499",
    "subm_id": "1359194883"
}