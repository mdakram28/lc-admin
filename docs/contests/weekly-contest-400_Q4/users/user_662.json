{
    "username": "Vintage18",
    "submission": "class RangeAND{\n  vector<vector<int>> pref;\n  int INF;\n\n  public:\n  RangeAND(int n){\n    pref = vector<vector<int>> (n+1,vector<int>(32,0));\n    INF = 0;\n  }\n\n  void Build(int n, vector<int> &a){\n    for(int i=0; i<n; i++){\n      for(int j=0;j<32 ;j++){\n        if((a[i]&(1LL<<j))){\n          pref[i+1][j] =1;\n        } \n      }\n    } \n\n    for(int j=0 ;j<32;j++){  \n      for(int i=1; i<=n; i++){\n        pref[i][j] += pref[i-1][j];\n      }\n    }\n  }\n\n  int Query(int l, int r){\n    r++;\n    int ans=0;\n    for(int i=0; i<31; i++){\n      if(pref[r][i]- pref[l][i] ==  r-l){\n        ans|=(1LL<<i);\n      }\n    }  \n    return ans;\n  }\n};\n\nclass Solution {\npublic:\nint minimumDifference(vector<int>& nums, int k) {\n    int n = nums.size();\n    RangeAND st(n);\n    int ans=INT_MAX;\n    st.Build(n,nums);\n\n\n    for(int i=0; i<n; i++){\n      // greater than K\n      int l =i, r =n-1,ind =i;\n      while(l<=r){\n        int mid = (l+r)/2;\n        int andr = st.Query(i,mid);\n        ans = min(ans, abs(k-andr));\n        if(andr<=k){\n          r = mid-1;\n        }\n        else{\n          ind = mid;\n          l = mid+1;\n        }\n      }  \n\n      // less than k\n      l =ind, r =n-1;\n      while(l<=r){\n        int mid = (l+r)/2;\n        int andr = st.Query(i,mid);\n        ans = min(ans, abs(k-andr));\n        if(andr<=k){\n          l = mid+1;\n        }\n        else{\n          r = mid-1;\n        }\n      } \n  \n    }\n\n  return ans;\n}\n};",
    "submit_ts": 1717298490.0
}