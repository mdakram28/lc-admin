{
    "username": "darrenhp",
    "submission": "int C[4][33][33][33][33];\nclass Solution {\npublic:\n  vector<vector<int>> A;\n  int n, m;\n  int dp(int x1, int x2, int y1, int y2, int d) {\n    if (x1 >=x2 || y1 >= y2) return 0x3f3f3f3f;\n    int &res = C[d][x1][x2][y1][y2];\n    if (res != 0x3f3f3f3f) return res;\n    res = (x2-x1)*(y2-y1);\n    if (d == 1) {\n      if (x2-x1==1&&y2-y1==1) res = A[x1][y1];\n      if (x2-x1>1) {\n        if (dp(x1, x1+1, y1, y2, 1) == 0) res = min(res, dp(x1+1, x2, y1, y2, 1));\n        if (dp(x2-1, x2, y1, y2, 1) == 0) res = min(res, dp(x1, x2-1, y1, y2, 1));\n      }\n      if (y2-y1>1) {\n        if (dp(x1, x2, y1, y1+1, 1) == 0) res = min(res, dp(x1, x2, y1+1, y2, 1));\n        if (dp(x1, x2, y2-1, y2, 1) == 0) res = min(res, dp(x1, x2, y1, y2-1, 1));\n      }\n    }\n    if (d == 2) {\n      for (int i = x1+1; i < x2; i++) res = min(res, dp(x1, i, y1, y2, 1)+dp(i, x2, y1, y2, 1));\n      for (int i = y1+1; i < y2; i++) res = min(res, dp(x1, x2, y1, i, 1)+dp(x1, x2, i, y2, 1));\n    }\n    if (d == 3) {\n      for (int i = x1+1; i < x2; i++) res = min(res, dp(x1, i, y1, y2, 1)+dp(i, x2, y1, y2, 2));\n      for (int i = y1+1; i < y2; i++) res = min(res, dp(x1, x2, y1, i, 1)+dp(x1, x2, i, y2, 2));\n      for (int i = x1+1; i < x2; i++) res = min(res, dp(x1, i, y1, y2, 2)+dp(i, x2, y1, y2, 1));\n      //if (x1 == 0 && y1 == 0 && x2 == 2 && y2 == 3)\n    // cout << x1 << \" \" << x2 << \" \" << y1 << \" \" << y2 << \",\" << d << \":\" << res << endl;\n      for (int i = y1+1; i < y2; i++) res = min(res, dp(x1, x2, y1, i, 2)+dp(x1, x2, i, y2, 1));\n      // if (x1 == 0 && y1 == 0 && x2 == 2 && y2 == 3)\n    // cout << x1 << \" \" << x2 << \" \" << y1 << \" \" << y2 << \",\" << d << \":\" << res << endl;\n    }\n    // cout << x1 << \" \" << x2 << \" \" << y1 << \" \" << y2 << \",\" << d << \":\" << res << endl;\n    return res;\n  }\n  int minimumSum(vector<vector<int>>& A) {\n    this->A = A;\n    n = A.size(), m = A[0].size();\n    memset(C, 0x3f, sizeof(C));\n    return dp(0, n, 0, m, 3);\n  }\n};",
    "submit_ts": 1719112869.0
}