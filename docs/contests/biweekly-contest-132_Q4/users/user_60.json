{
    "username": "edward_elric_1729",
    "submission": "#define pb push_back\n#define all(x) (x).begin(), (x).end()\n#define forn(i, a, b) for(int i = (a); i < (b); i++)\n\nusing namespace std;\n\n#include <ext/pb_ds/assoc_container.hpp> \n#include <ext/pb_ds/tree_policy.hpp> \nusing namespace __gnu_pbds; \n  \ntypedef tree<pair<int, int>, null_type,less<pair<int, int> >, rb_tree_tag,tree_order_statistics_node_update> ordered_set;\n\ntypedef long long ll;\ntypedef vector<int> vi;\ntypedef vector<vi > vvi;\ntypedef vector<ll> vl;\ntypedef vector<vl > vvl;\ntypedef vector<double> vd;\ntypedef vector<vd > vvd;\n\nconst int inf = 2e9+7;\nconst ll mod = 1e9+7;\n\n\nclass Solution {\npublic:\n    int maximumLength(vector<int>& nums, int K) {\n        int n = nums.size();\n        map<int, int> dp;\n        vi mx(n+1);\n        forn(k, 0, K+1) {\n            vi nxt_mx(n+1);\n            forn(i, 0, n) {\n                dp[nums[i]] = max(dp[nums[i]], mx[i]) + 1;\n                nxt_mx[i+1] = dp[nums[i]];\n            }\n            forn(i, 1, n+1) nxt_mx[i] = max(nxt_mx[i-1], nxt_mx[i]);\n            dp.clear();\n            nxt_mx.swap(mx);\n        }\n        return mx.back();\n    }\n};",
    "submit_ts": 1717859608.0
}