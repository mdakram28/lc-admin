{
    "username": "0x8c",
    "submission": "typedef pair<int, int> pii;\ntypedef long long ll;\nstatic constexpr int INF = 0x3f3f3f3f;\nstatic constexpr int MAXN = 100005;\nstatic constexpr int LIM = 22;\n\n\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size(), m = board[0].size();\n        vector<vector<int>> a(n + 1, vector<int>(m + 1, 0));\n\n        for (int i = 0; i < n; i ++) {\n            for (int j = 0; j < m; j ++) {\n                a[i + 1][j + 1] = board[i][j];\n            }\n        }\n        vector<vector<pii>> top(m + 1);\n        vector<pair<int, pii>> v;\n        for (int j = 1; j <= m; j ++) {\n            vector<pii> tmp;\n            for (int i = 1; i <= n; i ++) {\n                tmp.emplace_back(a[i][j], i);\n            }\n            sort(tmp.begin(), tmp.end(), greater<>());\n            top[j].push_back(tmp[0]); top[j].push_back(tmp[1]); top[j].push_back(tmp[2]);\n            v.emplace_back(tmp[0].first, make_pair(tmp[0].second, j));\n            v.emplace_back(tmp[1].first, make_pair(tmp[1].second, j));\n            v.emplace_back(tmp[2].first, make_pair(tmp[2].second, j));\n        }\n        sort(v.begin(), v.end(), greater<>());\n        ll ans = -1e18;\n        for (int y1 = 1; y1 <= m - 1; y1 ++) {\n            for (int y2 = y1 + 1; y2 <= m; y2 ++) {\n                for (auto &a : top[y1]) {\n                    for (auto &b : top[y2]) {\n                        if (a.second != b.second) {\n                            int x1 = a.second, x2 = b.second;\n                            int tmp = 0;\n                            for (auto &c : v) {\n                                if (c.second.second != y1 && c.second.second != y2 && c.second.first != x1 && c.second.first != x2) {\n                                    ans = max(ans, (ll)a.first + (ll)b.first + (ll)c.first);\n                                    break;\n                                }\n                            }\n                        }\n                    }\n                }\n\n            }\n        }\n        return ans;\n\n    }\n};",
    "submit_ts": "1723909892",
    "subm_id": "556338474"
}