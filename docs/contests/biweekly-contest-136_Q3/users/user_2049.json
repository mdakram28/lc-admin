{
    "username": "pikapika123",
    "submission": "from typing import List\n\n\nclass Solution:\n    def minFlips(self, a: List[List[int]]) -> int:\n        def solve1D(arr):\n            ans = 0\n            if len(arr) % 2 == 1:\n                ans += arr[len(arr) // 2]\n                arr[len(arr) // 2] = 0\n            same, diff = [0, 0], 0\n            i, j = 0, len(arr) - 1\n            while i < j:\n                if arr[i] != arr[j]:\n                    ans += 1\n                    diff += 1\n                else:\n                    same[arr[i]] += 2\n                i += 1\n                j -= 1\n            if same[1] % 4 == 0 or diff > 0:\n                return ans, same, diff\n            else:\n                return ans + 2, same, diff\n\n        n, m = len(a), len(a[0])\n        if n == 1:\n            return solve1D(a[0])[0]\n        if m == 1:\n            return solve1D([a[i][0] for i in range(n)])[0]\n        ans = 0\n        for i1 in range(n // 2):\n            for j1 in range(m // 2):\n                i2, j2 = i1, m - 1 - j1\n                i3, j3 = n - 1 - i1, j1\n                i4, j4 = n - 1 - i1, m - 1 - j1\n                counter = [0, 0]\n                counter[a[i1][j1]] += 1\n                counter[a[i2][j2]] += 1\n                counter[a[i3][j3]] += 1\n                counter[a[i4][j4]] += 1\n                ans += 4 - max(counter)\n        if m % 2 == 1 and n % 2 == 1:\n            ans += a[n // 2][m // 2]\n            a[n // 2][m // 2] = 0\n        same, diff = [0, 0], 0\n        same1, diff1 = [0, 0], 0\n        same2, diff2 = [0, 0], 0\n        if m % 2 == 1:\n            v1, same1, diff1 = solve1D([a[i][m // 2] for i in range(n)])\n        if n % 2 == 1:\n            v2, same2, diff2 = solve1D([a[n // 2][j] for j in range(m)])\n        ans += diff1 + diff2\n        same = [same1[0] + same2[0], same1[1] + same2[1]]\n        diff = diff1 + diff2\n        if same[1] % 4 == 0 or diff > 0:\n            return ans\n        else:\n            return ans + 2",
    "submit_ts": "1722698971",
    "subm_id": "1343197542"
}