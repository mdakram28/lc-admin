{
    "username": "guiguia",
    "submission": "class Solution {\n    public int countOfPairs(int[] nums) {\n        int n = nums.length;\n        int mod = 1000000007;\n        int maxValue = 0;\n        for(int num : nums) {\n            maxValue = Math.max(maxValue, num);\n        }\n        long[][] counts = new long[n][maxValue + 1];\n        long[] prevSum = new long[maxValue + 2];\n        for(int j = 0; j <= maxValue && j <= nums[0]; j++) {\n            counts[0][j] = 1;\n            prevSum[j + 1] = prevSum[j] + counts[0][j];\n        }\n        //System.out.println(Arrays.toString(counts[0]));\n       // System.out.println(Arrays.toString(prevSum));\n        //System.out.println(maxValue);\n        for(int i = 1; i < n; i++) {\n            long[] curSum = new long[maxValue + 2];\n            for(int j = 0; j <= nums[i]; j++) {\n\n                // maxValue of Previous Pos which can make arr2 non-increasing\n                int maxPrevValuePos = nums[i - 1] - nums[i] + j;\n\n                 //System.out.println(\"i: \" + i + \" j: \" + j + \" prev: \" +  maxPrevValuePos); \n                if(maxPrevValuePos >= 0 && maxPrevValuePos <= nums[i - 1]) {\n\n                    // prev pos should be min of j and allowed maxPrevValuePos\n                    int prev = Math.min(maxPrevValuePos, j);\n                    counts[i][j] = prevSum[prev + 1];\n                    //System.out.println(\"i: \" + i + \" j: \" + j + \" prev: \" +  maxPrevValuePos); \n                    //System.out.println(Arrays.toString(prevSum));\n                    curSum[j + 1] = (curSum[j] + counts[i][j]) % mod;\n                }\n            }\n            prevSum = curSum;\n            //System.out.println(Arrays.toString(counts[i]));\n        }\n        long ans = 0;\n\n        for(int i = 0; i <= maxValue; i++) {\n            ans = (ans + counts[n - 1][i]) % mod;\n        }\n\n        return (int) ans;\n    }\n}\n\n/*\n\nk : [0, j]\n\nj >= k\nnums[i] - j <= nums[i - 1] - k\n\n=> k <= nums[i - 1] - nums[i] + j\n\n*/",
    "submit_ts": "1723348057",
    "subm_id": "1351610733"
}