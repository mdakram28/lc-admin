{
    "username": "vigilant-perlmanstv",
    "submission": "class Solution {\npublic:\n    typedef long long ll;\n    ll dp[105][105][105][3];\n    long long maximumValueSum(vector<vector<int>>& a) {\n        int n = a.size(), m = a[0].size();\n        vector<multiset<int> > st(n);\n        for(int i = 0; i < n; i++) {\n            for(int x1 = 0; x1 < m; x1++) {\n                st[i].insert(a[i][x1]);\n                for(int x2 = 0; x2 < m; x2++)\n                    for(int k = 0; k < 3; k++)\n                        dp[i][x1][x2][k] = -1e12;\n            }\n        }\n        ll ans = -1e12;\n        for(int i = 0; i < n; i++) {\n            if(i > 0) {\n                for(int x1 = 0; x1 < m; x1++) \n                    for(int x2 = 0; x2 < m; x2++)\n                        for(int k = 0; k < 3; k++) \n                            dp[i][x1][x2][k] = dp[i - 1][x1][x2][k];\n            }\n            for(int x1 = 0; x1 < m; x1++) {\n                dp[i][x1][0][1] = max(dp[i][x1][0][1], 1LL * a[i][x1]);\n                for(int x2 = 0; x2 < m; x2++) {\n                    if(i > 0 and x1 != x2) dp[i][x1][x2][2] = max(dp[i][x1][x2][2], dp[i - 1][x1][0][1] + a[i][x2]);\n                }\n            }\n        }\n        for(int i = 2; i < n; i++) {\n            for(int x1 = 0; x1 < m; x1++) {\n                st[i].erase(st[i].find(a[i][x1]));\n                for(int x2 = x1 + 1; x2 < m; x2++) {\n                    st[i].erase(st[i].find(a[i][x2]));\n                    ans = max(ans, dp[i - 1][x1][x2][2] + *st[i].rbegin());\n                    ans = max(ans, dp[i - 1][x2][x1][2] + *st[i].rbegin());\n                    st[i].insert(a[i][x2]);\n                }\n                st[i].insert(a[i][x1]);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723909630",
    "subm_id": "556337233"
}