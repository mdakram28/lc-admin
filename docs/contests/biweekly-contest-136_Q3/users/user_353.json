{
    "username": "ForgottenSemicolon",
    "submission": "class Solution {\n    public int minFlips(int[][] grid) {\n        int m = grid.length, n = grid[0].length;\n        int ans = 0;\n        for(int i = 0; i<m; i++){\n            for(int j = 0; j<n; j++){\n                if(grid[i][j]==1)   ans++;\n            }\n        }\n        if((m*n)%4==0){\n            int curr = 0;\n            for(int i = 0; i<m; i++){\n                for(int j = 0; j<n; j++){\n                    if(grid[i][j]==0)   curr++;\n                }\n            }\n            ans = Math.min(curr, ans);\n        }\n        int halfm = m/2, halfn = n/2;\n        int curr = 0;\n        for(int i = 0; i<halfm; i++){\n            for(int j = 0; j<halfn; j++){\n                int count = 0;\n                if(grid[i][j]==0)   count++;\n                if(grid[m-i-1][j]==0)   count++;\n                if(grid[i][n-j-1]==0)   count++;\n                if(grid[m-i-1][n-j-1]==0)  count++;\n                curr += Math.min(count, 4-count);\n            }\n        }\n        int one = 0;\n        int diff = 0;\n        if(m%2!=0){\n            int left = 0, right = n-1;\n            while(left<right){\n                if(grid[halfm][left]!=grid[halfm][right])   diff++;\n                if(grid[halfm][left]==1)   one++;\n                if(grid[halfm][right]==1)   one++;\n                left++;\n                right--;\n            }\n        }\n        if(n%2!=0){\n            int left = 0, right = m-1;\n            while(left<right){\n                if(grid[left][halfn]!=grid[right][halfn])   diff++;\n                if(grid[left][halfn]==1)   one++;\n                if(grid[right][halfn]==1)   one++;\n                left++;\n                right--;\n            }\n        }\n        if(m%2!=0 && n%2!=0){\n            if(grid[halfm][halfn]==1)   curr++;\n        }\n        int rem = one%4;\n        if(Math.min(rem, 4-rem)<=diff)   curr+=diff;\n        else{\n            curr += diff+2;\n        }\n        ans = Math.min(ans, curr);\n        return ans;\n    }\n}\n\n\n// (i, j)\n// (m-i, j)\n// (i, n-j)\n// (m-i, n-j)",
    "submit_ts": "1722698893",
    "subm_id": "1343195150"
}