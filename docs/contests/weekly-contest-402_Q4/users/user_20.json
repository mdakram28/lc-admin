{
    "username": "uwi",
    "submission": "\tclass Solution {\n\t\tpublic List<Integer> countOfPeaks(int[] a, int[][] queries) {\n\t\t\tint n = a.length;\n\t\t\tint[] ft = new int[n+5];\n\t\t\tfor(int i = 1;i < n-1;i++){\n\t\t\t\tif(a[i] > a[i-1] && a[i] > a[i+1]){\n\t\t\t\t\taddFenwick(ft, i, 1);\n\t\t\t\t}\n\t\t\t}\n\t\t\tList<Integer> ret = new ArrayList<>();\n\t\t\tfor(int[] q : queries){\n\t\t\t\tif(q[0] == 1){\n\t\t\t\t\tint l = q[1]+1, r = q[2];\n\t\t\t\t\tret.add(l <= r ? sumFenwick(ft, r-1) - sumFenwick(ft, l-1) : 0);\n\t\t\t\t}else if(q[0] == 2){\n\t\t\t\t\tint i = q[1], v = q[2];\n\t\t\t\t\tfor(int j = Math.max(1, i-1);j <= i+1 && j < n-1;j++){\n\t\t\t\t\t\tif(a[j] > a[j-1] && a[j] > a[j+1]){\n\t\t\t\t\t\t\taddFenwick(ft, j, -1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\ta[i] = v;\n\t\t\t\t\tfor(int j = Math.max(1, i-1);j <= i+1 && j < n-1;j++){\n\t\t\t\t\t\tif(a[j] > a[j-1] && a[j] > a[j+1]){\n\t\t\t\t\t\t\taddFenwick(ft, j, 1);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn ret;\n\t\t}\n\n\t\tpublic static int sumFenwick(int[] ft, int i)\n\t\t{\n\t\t\tint sum = 0;\n\t\t\tfor(i++;i > 0;i -= i&-i)sum += ft[i];\n\t\t\treturn sum;\n\t\t}\n\n\t\tpublic static void addFenwick(int[] ft, int i, int v)\n\t\t{\n\t\t\tif(v == 0 || i < 0)return;\n\t\t\tint n = ft.length;\n\t\t\tfor(i++;i < n;i += i&-i)ft[i] += v;\n\t\t}\n\t}\n",
    "submit_ts": 1718505540.0
}