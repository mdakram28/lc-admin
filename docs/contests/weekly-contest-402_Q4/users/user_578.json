{
    "username": "Harsh1610",
    "submission": "#define ll long long\n#define vl vector<ll>\n\nclass Solution {\npublic:\n    \n    ll get(vl &BIT, ll index)\n    {\n        ll sum = 0;\n        index = index + 1;\n        while (index>0)\n        {\n            sum += BIT[index];\n            index -= index & (-index);\n        }\n        return sum;\n    }\n\n    void upd(vl &BIT,ll n,ll index,ll val)\n    {\n        index = index + 1;\n        while (index <= n)\n        {\n            BIT[index] += val;\n            index += index & (-index);\n        }\n    }\n    \n    bool isPeak(vector<int> &nums, int ind)\n    {\n        if(ind>0&&ind<nums.size()-1&&nums[ind]>nums[ind-1]&&nums[ind]>nums[ind+1])\n            return true;\n        return false;\n    }\n    \n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        \n        ll n=nums.size(),i,j;\n        vector<ll> bit(n+1);\n        vector<int> ans;\n        for(i=0;i<nums.size();i++)\n        {\n            if(isPeak(nums,i))\n                {\n                \n                upd(bit,n,i,1);}\n        }\n        \n        for(auto qu: queries)\n        {\n            int q=qu[0],x=qu[1],y=qu[2];\n            if(q==1)\n            {\n                if(y-x<=1)\n                    ans.push_back(0);\n                else\n                    ans.push_back(get(bit,y-1)-get(bit,x));\n            }\n            else\n            {\n                int temp1=0,temp2=0,temp3=0;\n                if(isPeak(nums,x))\n                    temp1--;\n                if(isPeak(nums,x-1))\n                    temp2--;\n                if(isPeak(nums,x+1))\n                    temp3--;\n                nums[x]=y;\n                if(isPeak(nums,x))\n                    temp1++;\n                if(isPeak(nums,x-1))\n                    temp2++;\n                if(isPeak(nums,x+1))\n                    temp3++;\n                // cout<<temp1<<\" \"<<temp2<<\" \"<<temp3<<endl;\n                upd(bit,n,x,temp1);\n                if(x-1>=0)\n                upd(bit,n,x-1,temp2);\n                upd(bit,n,x+1,temp3);\n            }\n        }\n        \n        return ans;\n        \n    }\n};",
    "submit_ts": 1718507663.0
}