{
    "username": "chroniclesofcode",
    "submission": "class Solution {\npublic:\n    class SegtreePNode {\n    public:\n        using LL = long long;\n        LL n = 0;\n\n        struct node {\n            LL x;\n            node() : x{-1} {}\n            node(int e) : x{e} {}\n\n            friend node operator+(const node &a, const node &b) {\n                return node((a.x) & (b.x));\n            }\n        };\n\n        vector<node> t;\n\n        SegtreePNode(LL sz) : n(sz), t(4 * sz + 1) {}\n\n        node query(LL l, LL r, LL v = 1, LL tl = 0, LL tr = -1) {\n            if (tr == -1) tr = n - 1;\n            if (l > r) \n                return node();\n            if (l == tl && r == tr) {\n                return t[v];\n            }\n            LL tm = (tl + tr) / 2;\n            return query(l, min(r, tm), v * 2, tl, tm) +\n                   query(max(l, tm + 1), r, v * 2 + 1, tm + 1, tr);\n        }\n\n        void update(LL pos, LL new_val, LL v = 1, LL tl = 0, LL tr = -1) {\n            if (tr == -1) tr = n - 1;\n            if (tl == tr) {\n                t[v] = new_val;\n            } else {\n                LL tm = (tl + tr) / 2;\n                if (pos <= tm)\n                    update(pos, new_val, v * 2, tl, tm);\n                else\n                    update(pos, new_val, v * 2 + 1, tm + 1, tr);\n                t[v] = t[v * 2] + t[v * 2 + 1];\n            }\n        }\n    };\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        SegtreePNode s(n);\n        for (int i = 0; i < n; i++) s.update(i, nums[i]);\n        long long ans = abs(nums[0]-k);\n        for (int i = 0; i < n; i++) {\n            if (nums[i] == k) return 0;\n            int lo = i+1, hi = n-1;\n            ans = min(ans, (long long)abs(nums[i]-k));\n            while (lo <= hi) {\n                int mid = lo + (hi-lo)/2;\n                long long q = s.query(i, mid).x;\n                ans = min(ans, abs(k-q));\n                if (q > k) {\n                    lo = mid+1;\n                } else if (q < k) {\n                    hi = mid-1;\n                } else return 0;\n                    \n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717297660.0
}