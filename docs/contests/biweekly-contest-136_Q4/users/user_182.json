{
    "username": "prashant933",
    "submission": "class Solution {\npublic:\n    \n    static const int N = 1e5+1;\n    vector<int> adj[N];\n    int t[N], mx[N];\n    \n    void dfs(int v, int par, int cur)\n    {\n        t[v] = cur;\n        mx[v] = cur;\n        for (int x : adj[v])\n        {\n            if (x == par)\n                continue;\n            if (x%2 == 0)\n                dfs(x, v, cur + 2);\n            else\n                dfs(x, v, cur + 1);\n            mx[v] = max(mx[v], mx[x]);\n        }\n    }\n    \n    void dfs2(int v, int par, int par_ans, vector<int> &ans)\n    {\n        ans[v] = max(mx[v] - t[v], par_ans);\n        int m = adj[v].size();\n        int pre[m], suff[m];\n        for (int i=0;i<m;i++)\n        {\n            if (adj[v][i] == par)\n            {\n                pre[i] = suff[i] = 0;\n            }\n            else\n            {\n                pre[i] = mx[adj[v][i]];\n                suff[i] = pre[i];\n            }\n            if (i)\n                pre[i] = max(pre[i], pre[i-1]);\n        }\n        for (int i=m-2;i>=0;i--)\n            suff[i] = max(suff[i], suff[i+1]);\n        for (int i=0;i<m;i++)\n        {\n            if (adj[v][i] == par)\n                continue;\n            int l = (i-1>=0 ? pre[i-1] : 0);\n            int r = (i+1 < m ? suff[i+1] : 0);\n            int newParAns = max(l, r) - t[v];\n            newParAns = max(newParAns, par_ans);\n            if (v%2 == 0)\n                newParAns+=2;\n            else\n                newParAns++;\n            dfs2(adj[v][i], v, newParAns, ans);\n        }\n    }\n    \n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = 1 + edges.size();\n        for (int i=0;i<n;i++)\n            adj[i].clear();\n        for (auto &it : edges)\n        {\n            int u = it[0], v = it[1];\n            adj[u].push_back(v);\n            adj[v].push_back(u);\n        }\n        dfs(0, -1, 0);\n        vector<int> ans(n);\n        ans[0] = mx[0];\n        dfs2(0, 0, 0, ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722699286",
    "subm_id": "1343207080"
}