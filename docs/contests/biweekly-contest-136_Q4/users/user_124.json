{
    "username": "yefllowers",
    "submission": "class Solution {\npublic:\n\tvector<vector<int>> e;\n\tvector<int> f, d, u;\n\tint n;\n\tint dfs(int x, int fa) {\n\t\tf[x] = fa;\n\t\tfor (auto y : e[x]) {\n\t\t\tif (y == fa) continue;\n\t\t\tint tmp = dfs(y, x) + 1 + ((y+1) % 2);\n\t\t\td[x] = max(tmp, d[x]);\n\t\t\t// cout << \"dfs \" << x << \" \" << fa << \" \" << y << \" \" << tmp << endl;\n\t\t}\n\t\treturn d[x];\n\t}\n\tvoid dfs2(int x, int fa, int z) {\n\t\tvector<int> a, b;\n\t\tfor (auto y : e[x]) {\n\t\t\tif (y == fa) continue;\n\t\t\ta.push_back(y);\n\t\t\tb.push_back(d[y] + 1 + ((y+1) % 2));\n\t\t}\n\t\tvector<int> prefix, suffix;\n\t\tprefix.push_back(0);\n\t\tfor (int i = 0; i < a.size(); i++) {\n\t\t\tprefix.push_back(max(prefix.back(), b[i]));\n\t\t}\n\t\tsuffix.push_back(0);\n\t\tfor (int i = a.size()-1; i >= 0; i--) {\n\t\t\tsuffix.push_back(max(suffix.back(), b[i]));\n\t\t}\n\t\treverse(suffix.begin(), suffix.end());\n\t\tfor (int i = 0; i < a.size(); i++) {\n\t\t\tint y = a[i];\n\t\t\tint tmp = max(prefix[i], suffix[i+1]);\n\t\t\ttmp = max(tmp, z);\n\t\t\tu[y] = tmp + 1 + ((x+1) % 2);\n\t\t}\n\t\tfor (int i = 0; i < a.size(); i++) {\n\t\t\tint y = a[i];\n\t\t\tdfs2(y, x, u[y]);\n\t\t}\n\t}\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n\t\tn = edges.size() + 1;\n\t\te.resize(n);\n\t\tf.resize(n, -1);\n\t\td.resize(n, 0);\n\t\tu.resize(n, 0);\n\t\tfor (auto &x : edges) {\n\t\t\te[x[0]].push_back(x[1]);\n\t\t\te[x[1]].push_back(x[0]);\n\t\t}\n\t\tdfs(0, -1);\n\t\tdfs2(0, -1, 0);\n\t\t// for (int i = 0; i < n; i++) {\n\t\t// \tcout << i << \" \" << d[i] <<  \" \" << u[i] << endl;\n\t\t// }\n\t\tvector<int> ans;\n\t\tfor (int i = 0; i < n; i++) {\n\t\t\t// int tmp = d[i];\n\t\t\t// if (f[i] != -1) {\n\t\t\t// \tint z = 1 + ((f[i]+1) % 2);\n\t\t\t// \ttmp = max(tmp, z);\n\t\t\t// \tcout << \"i \" << i << \" \" << f[i] << \" \" << z << endl;\n\t\t\t// \tfor (auto y : e[f[i]]) {\n\t\t\t// \t\tif (y == i || y == f[f[i]]) continue;\n\t\t\t// \t\tz = d[y] + 1 + ((y+1) % 2) + 1 + ((f[i]+1) % 2);\n\t\t\t// \t\ttmp = max(tmp, z);\n\t\t\t// \t\tcout << \"i \" << i << \" \" << f[i] << \" \" << y << \" \" << z << endl;\n\t\t\t// \t}\n\t\t\t// }\n\t\t\tans.push_back(max(d[i], u[i]));\n\t\t}\n\t\treturn ans;\n    }\n};",
    "submit_ts": "1722698596",
    "subm_id": "1343185737"
}