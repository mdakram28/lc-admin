{
    "username": "mble6125",
    "submission": "class Solution {\n    vector<array<long long,4>> tree;\npublic:\n    int maximumSumSubsequence(vector<int>& nums, vector<vector<int>>& queries) {\n        int res=0, m=1e9+7;\n        int n=nums.size();\n        tree.resize(n*4);\n        build(nums, 0, 0, n-1);\n        \n        for (auto& q : queries) {\n            adjust(nums, 0, 0, n-1, q[0], q[1]);\n            res+=tree[0][0];\n            res%=m;\n        }\n        \n        return res;\n    }\n    \n    void adjust(vector<int>& nums, int cur, int l, int r, int p, int t) {\n        if (l==r) {\n            tree[cur][0]=max(0, t);\n            tree[cur][1]=0;\n            tree[cur][2]=0;\n            tree[cur][3]=0;\n            return;\n        }\n        \n        int mid=(l+r)/2;\n        int left=cur*2+1, right=cur*2+2;\n        \n        if (p<=mid) adjust(nums, left, l, mid, p, t);\n        else adjust(nums, right, mid+1, r, p, t);\n        auto& templ=tree[left];\n        auto& tempr=tree[right];\n        tree[cur][0]=max(templ[0]+tempr[1], templ[2]+tempr[0]);\n        tree[cur][1]=max(templ[1]+tempr[1], templ[3]+tempr[0]);\n        tree[cur][2]=max(templ[0]+tempr[3], templ[2]+tempr[2]);\n        tree[cur][3]=max(templ[1]+tempr[3], templ[3]+tempr[2]);\n    }\n    \n    void build(vector<int>& nums, int cur, int l, int r) {\n        if (l==r) {\n            tree[cur][0]=max(0, nums[l]);\n            tree[cur][1]=0;\n            tree[cur][2]=0;\n            tree[cur][3]=0;\n            return;\n        }\n        int mid=(l+r)/2;\n        int left=cur*2+1, right=cur*2+2;\n        build(nums, left, l, mid);\n        build(nums, right, mid+1, r);\n        auto& templ=tree[left];\n        auto& tempr=tree[right];\n        tree[cur][0]=max(templ[0]+tempr[1], templ[2]+tempr[0]);\n        tree[cur][1]=max(templ[1]+tempr[1], templ[3]+tempr[0]);\n        tree[cur][2]=max(templ[0]+tempr[3], templ[2]+tempr[2]);\n        tree[cur][3]=max(templ[1]+tempr[3], templ[3]+tempr[2]);\n    }\n};",
    "submit_ts": "1716693031",
    "subm_id": "1268072977"
}