{
    "username": "Rohit2593",
    "submission": "class Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> dp(n, vector<int>(k + 5));\n        \n        vector<vector<int>> mx(k + 5, vector<int>(n + 10));\n        \n        \n        for(int i = 0; i<n; i++) {\n            dp[i][0] = 1;\n            mx[0][i] = 1;\n        }\n        \n        map<int, int> index;\n        index[nums[0]] = 0;\n        for(int i = 1; i<n; i++) {\n            int idx = -1;\n            if(index.find(nums[i]) != index.end())\n                idx = index[nums[i]];\n            for(int j = 0; j<=k; j++) {\n                mx[j][i] = max(mx[j][i], mx[j][i-1]);\n                if(idx != -1) {\n                    dp[i][j] = max(dp[i][j], dp[idx][j] + 1);\n                    mx[j][i] = max(mx[j][i], dp[i][j]);\n                }\n                \n                if(j > 0) {\n                    int val = mx[j-1][i-1];\n                    dp[i][j] = max(dp[i][j], val + 1);\n                    mx[j][i] = max(mx[j][i], dp[i][j]);\n                }\n            }\n            index[nums[i]] = i;\n        }\n        \n        int ans = 0;\n        \n        for(int i = 0; i<n; i++) {\n            for(int j = 0; j<=k; j++)\n                ans = max(ans, dp[i][j]);\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": 1717858845.0
}