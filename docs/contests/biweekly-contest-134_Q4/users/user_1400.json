{
    "username": "Tani2611",
    "submission": "class Solution {\n    public long countSubarrays(int[] nums, int k) {\n        long ans =0;\n        int count[][] = new int[nums.length+1][33];\n        for(int i =1;i<=nums.length;i++){\n            int x= nums[i-1];\n            for(int j =0;j <=32;j++){\n                count[i][j]= count[i-1][j]; \n                if(x%2==1){\n                    count[i][j]++;\n                }\n                x/=2;\n            }\n        }\n        for(int i =1;i<=nums.length;i++){\n            long m = fkn(count,i,nums.length,k);\n            long n= fkn2(count,i,nums.length,k);\n            if(m==-1){\n\n            }else{\n                // System.out.println(n+\" \"+m+\" \"+i);\n                ans += (n-m+1);\n            }\n        }\n        return ans;\n    }\n    public long fkn(int count[][],int i,int j,int k ){\n        int ans = -1;\n        int start = i;\n        int end = j;\n        while(start<=end){\n            int mid = (start+end)/2;\n            int x= c(i,mid,count);\n            if(x<k){\n                end=mid-1;\n            }else if(x>k){\n                start = mid+1;\n            }\n            else{\n                ans =mid;\n                end = mid-1;\n            }\n        }\n            return ans;\n    }\n    public long fkn2(int count[][],int i,int j,int k ){\n        int ans = -1;\n        int start = i;\n        int end = j;\n        while(start<=end){\n            int mid = (start+end)/2;\n            int x= c(i,mid,count);\n            if(x<k){\n                end=mid-1;\n            }else if(x>k){\n                start = mid+1;\n            }\n            else{\n                ans =mid;\n                start = mid+1;\n            }\n        }\n            return ans;\n\n    }\n    public int c(int i,int j,int arr[][]){\n        int ans =0;\n        for(int m = 0 ;m<=32;m++){\n            if(arr[j][m]-arr[i-1][m] == j-i+1){\n                ans+= (int)Math.pow(2,m);\n            }\n        }\n        return ans;\n    }\n}",
    "submit_ts": "1720280904",
    "subm_id": "1311806209"
}