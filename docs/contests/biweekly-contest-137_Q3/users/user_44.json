{
    "username": "newhar",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& a) {\n        int m = a.size(), n = a[0].size();\n        int mx1[m][n], mx2[m][n];\n        for(int i = 0; i < m; ++i) {\n            for(int j = 0; j < n; ++j) {\n                mx1[i][j] = mx2[i][j] = a[i][j];\n            }\n        }\n        for(int i = 1; i < m; ++i) {\n            for(int j = 0; j < n; ++j) {\n                mx1[i][j] = max(mx1[i][j], mx1[i-1][j]);\n            }\n        }\n        for(int i = m-2; i >= 0; --i) {\n            for(int j = 0; j < n; ++j) {\n                mx2[i][j] = max(mx2[i][j], mx2[i+1][j]);\n            }\n        }\n        \n        set<pair<int,int>> s1, s2;\n        \n        long long res = -1e15;\n        for(int i = 1; i+1 < m; ++i) {\n            s1.clear();\n            s2.clear();\n            for(int j = 0; j < n; ++j) {\n                s1.insert({-mx1[i-1][j], j});\n                s2.insert({-mx2[i+1][j], j});\n            }\n            \n            for(int j = 0; j < n; ++j) {\n                s1.erase({-mx1[i-1][j], j});\n                s2.erase({-mx2[i+1][j], j});\n                long long cur = a[i][j];\n                auto it1 = s1.begin(), it2 = s2.begin();\n                long long val1 = -it1->first, val2 = -it2->first;\n                if(it1->second != it2->second) {\n                    cur += val1 + val2;\n                } else {\n                    ++it1, ++it2;\n                    long long val3 = -it1->first, val4 = -it2->first;\n                    cur += max(val1 + val4, val2 + val3);\n                }\n                res = max(res, cur);\n                s1.insert({-mx1[i-1][j], j});\n                s2.insert({-mx2[i+1][j], j});\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723907043",
    "subm_id": "556323211"
}