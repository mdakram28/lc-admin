{
    "username": "hhhhyf",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(a) a.begin(), a.end()\nvoid print() { cout << '\\n'; }\ntemplate <typename T, typename...Args>\nvoid print(T t, Args...args) { cout << t << ' '; print(args...); }\nusing ll = long long;\nconst int N = 200010;\nconst ll inf = 1e18;\n\nint dir[4][2] = {\n    {1, 0}, {0, 1}, {-1, 0}, {0, -1}\n};\n\ntemplate <typename T> bool chmax(T &x, T y) { if (y > x) { x = y; return true; } return false; }\ntemplate <typename T> bool chmin(T &x, T y) { if (y < x) { x = y; return true; } return false; }\n\ntemplate <typename T = int>\nvector<T> readVector(int n) {\n    vector<T> a(n);\n    for(T &x: a) cin >> x;\n    return a;\n} \n\nusing ll = long long;\n\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& g) {\n        int n = g.size();\n        int m = g[0].size();\n        \n        vector lu(n + 2, vector<ll>(m + 2, -inf));\n        vector ru(n + 2, vector<ll>(m + 2, -inf));\n        vector ld(n + 2, vector<ll>(m + 2, -inf));\n        vector rd(n + 2, vector<ll>(m + 2, -inf));\n        vector l(n + 2, vector<ll>(m + 2, -inf));\n        vector r(n + 2, vector<ll>(m + 2, -inf));\n\n        for (int i = 1; i <= n; i ++) {\n            for (int j = 1; j <= m; j ++) {\n                lu[i][j] = ld[i][j] = ru[i][j] = rd[i][j] = l[i][j] = r[i][j] = g[i - 1][j - 1];\n                chmax(lu[i][j], max(lu[i - 1][j], lu[i][j - 1]));\n                chmax(l[i][j], l[i][j - 1]);\n            }\n            for (int j = m; j; j --) {\n                chmax(ru[i][j], max(ru[i - 1][j], ru[i][j + 1]));\n                chmax(r[i][j], r[i][j + 1]);\n            }\n        }\n        for (int i = n; i; i --) {\n            for (int j = 1; j <= m; j ++) {\n                chmax(ld[i][j], max(ld[i + 1][j], ld[i][j - 1]));\n            }\n            for (int j = m; j; j --) {\n                chmax(rd[i][j], max(rd[i + 1][j], rd[i][j + 1]));\n            }\n        }\n        \n        ll ans = -inf;\n        for (int i = 1; i <= n; i ++) {\n            for (int j = 1; j <= m; j ++) {\n                chmax(ans, g[i - 1][j - 1] + lu[i - 1][j - 1] + rd[i + 1][j + 1]);\n                chmax(ans, g[i - 1][j - 1] + ru[i - 1][j + 1] + ld[i + 1][j - 1]);\n            }\n        }\n        \n        \n        for (int j = 1; j <= m; j ++) {\n            ll v = -inf;\n            for (int i = 2; i <= n; i ++) {\n                chmax(v, l[i - 1][j - 1] + ru[i - 2][j + 1]);\n                chmax(v, r[i - 1][j + 1] + lu[i - 2][j - 1]);\n                chmax(ans, g[i - 1][j - 1] + v);\n            }\n            v = -inf;\n            for (int i = n - 2; i; i --) {\n                chmax(v, l[i + 1][j - 1] + rd[i + 2][j + 1]);\n                chmax(v, r[i + 1][j + 1] + ld[i + 2][j - 1]);\n                chmax(ans, g[i - 1][j - 1] + v);\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1723907862",
    "subm_id": "556327907"
}