{
    "username": "laughing-parepvg",
    "submission": "class prefix_sum:\n    #\u4e8c\u7ef4\u524d\u7f00\u548c\n    def __init__(self, mat: int):\n        m,n=len(mat),len(mat[0])\n        self.qz=[[0]*(n+1) for _ in range(m+1)]\n        qz=self.qz\n        for i in range(1,m+1):\n            for j in range(1,n+1):\n                qz[i][j]=qz[i-1][j]+qz[i][j-1]-qz[i-1][j-1]+mat[i-1][j-1]\n\n    #\u67e5\u8be2\u4ee5(r1,c1)\u4e3a\u5de6\u4e0a\u89d2\uff0c(r2,c2)\u4e3a\u53f3\u4e0b\u89d2\u7684\u77e9\u5f62\u533a\u95f4\u5185\u6240\u6709\u503c\u7684\u548c\n    def find(self,r1,c1,r2,c2):  \n        qz=self.qz\n        return qz[r2+1][c2+1]-qz[r2+1][c1]-qz[r1][c2+1]+qz[r1][c1]\nclass Solution:\n    def maximumScore(self, g: List[List[int]]) -> int:\n        n=len(g)\n        if n==1:\n            return 0\n        pre=prefix_sum(g)\n        for j in range(n):\n            if j==0:\n                dp1=[0]*(n+1)#\u4e0e\u4e0a\u4e00\u5217\u6709\u5173\n                dp2=[0]*(n+1)#\u4e0e\u4e0b\u4e00\u5217\u6709\u5173\n            else:\n                f1=[0]*(n+1)#\u4e0e\u4e0a\u4e00\u5217\u6709\u5173\n                f2=[0]*(n+1)#\u4e0e\u4e0b\u4e00\u5217\u6709\u5173\n                for a in range(n+1):\n                    for b in range(n+1):\n                        if b>a:\n                            f1[a]=max(f1[a],dp1[b]+pre.find(a,j,b-1,j),dp2[b]+pre.find(a,j,b-1,j))\n                            f2[a]=max(f2[a],dp1[b],dp2[b])\n                        elif a>b:\n                            f1[a]=max(f1[a],dp1[b],dp2[b]+pre.find(b,j-1,a-1,j-1))\n                            f2[a]=max(f2[a],dp1[b],dp2[b]+pre.find(b,j-1,a-1,j-1))\n                        else:\n                            f1[a]=max(f1[a],dp1[b],dp2[b])\n                            f2[a]=max(f2[a],dp1[b],dp2[b])\n                dp1,dp2=f1,f2\n        res=0\n        for i in range(n+1):\n            res=max(res,dp1[i],dp2[i])\n        return res \n\n            ",
    "submit_ts": "1721490546",
    "subm_id": "548323322"
}