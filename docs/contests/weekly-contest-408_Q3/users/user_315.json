{
    "username": "JJZin",
    "submission": "class Solution:\n    def numberOfSubstrings(self, s: str) -> int:\n        \n        total = (len(s)*(len(s) + 1))// 2\n        \n#         if all([i == '1' for i in s]):\n#             return total\n#         if s.count('0') == 1:\n#             return total - 1\n        \n        \n        \n        \n        \n        dunkidx = len(s)\n        \n        for ea in range(len(s) - 1, -1, -1):\n            if s[ea] == '0':\n                break\n            dunkidx = ea\n            \n        \n        speed_racer = defaultdict(int)\n        speed = 0\n        cont = 0\n        abashed = defaultdict(int)\n        for ea in range(len(s) - 1, -1, -1):\n            if s[ea] == '0':\n                speed = 0\n            else:\n                cont += 1\n                speed += 1\n            speed_racer[ea] = speed\n            abashed[ea] = cont\n            \n        ans = 0\n        \n        for i in range(len(s)):\n            zc = 0\n            zeros = 0\n            ones = 0\n            jh = i\n            while jh < len(s):\n                if speed_racer[jh] > 0 and (speed_racer[jh] + ones) < zeros:\n                    ans += speed_racer[jh] \n                    ones += speed_racer[jh]\n                    jh += speed_racer[jh]\n                    \n                    \n                    continue\n                if speed_racer[jh] > 0 and ones >= zeros:\n                    ones += speed_racer[jh]\n                    jh += speed_racer[jh]\n                    continue\n                \n                \n                \n                \n                if s[jh] == '0':\n                    zc += 1\n                    zeros = zc**2\n                else:\n                    ones += 1\n                \n                \n                if (zeros > ones):\n                    ans += 1\n                if (len(s) - jh) < (zeros - ones - 1):\n                    ans += (len(s) - jh - 1)\n                    break\n                    \n                if zeros - ones > abashed[jh]:\n                    ans += (len(s) - jh - 1)\n                    break\n                \n                \n                \n                \n                jh += 1\n        return total - ans\n                \n        \n                \n                \n            \n                ",
    "submit_ts": "1722138848",
    "subm_id": "1335801261"
}