{
    "username": "nhc",
    "submission": "class Solution {\npublic:\n    vector<int>e[100009];\n    vector<bool>vis;\n    vector<int>ans,dis;\n    int n;\n    void dfs(int x,int fa)\n    {\n        int d=0;\n        for (auto to:e[x])\n        {\n            if (to==fa) continue;\n            dfs(to,x);\n            d=max(dis[to]+(to&1?1:2),d);\n        }\n        dis[x]=d;\n    }\n    void dfs2(int x,int fa,int cos)\n    {\n        ans[x]=max(dis[x],cos);\n        int d1=0,idx1=-1,d2=0,idx2=-1;\n        for (auto to:e[x])\n        {\n            if (to==fa) continue;\n            int d=dis[to]+(to&1?1:2);\n            //cout<<d<<endl;\n            if (d>d1) d2=d1,idx2=idx1,d1=d,idx1=to;\n            else if (d>d2) d2=d,idx2=to;\n        }\n        for (auto to:e[x])\n        {\n            if (to==fa) continue;\n            int ncos=0;\n            if (to!=idx1) ncos=max(d1,cos);\n            else ncos=max(d2,cos);\n            ncos+=x&1?1:2;\n            //cout<<to<<\" \"<<d1<<\" \"<<d2<<\" \"<<ncos<<endl;\n            dfs2(to,x,ncos);\n        }\n\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n=edges.size()+1;\n        for (auto x:edges)\n        {\n            e[x[0]].push_back(x[1]);\n            e[x[1]].push_back(x[0]);\n        }\n        for (int i=0;i<n;i++)\n        {\n            vis.push_back(false);\n            ans.push_back(0);\n            dis.push_back(0);\n        }\n        dfs(0,-1);\n        dfs2(0,-1,0);\n        return ans;\n    }\n};",
    "submit_ts": "1722698870",
    "subm_id": "552272928"
}