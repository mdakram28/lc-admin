{
    "username": "soul-12",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        set<pair<int,int>>st;\n        vector<int>res;\n        \n        st.insert({0,1});\n        st.insert({n-2,n-1});\n        \n        int dest=n-1;\n        \n        for(auto &i: queries){\n            int s=i[0];\n            int e=i[1];\n\n            if(st.empty()){\n                st.insert({s,e});\n                dest -= (e - s - 1);\n                \n                res.push_back(dest);\n                continue;\n            }\n            \n            auto pos=st.lower_bound({s,INT_MIN});\n\n            if((*pos).first==s && (*pos).second>e) {\n                res.push_back(dest);\n                continue;\n            }\n            \n            if(pos==st.begin()){\n                \n                while(pos!=st.end() && (*pos).second<=e){\n                    dest+=((*pos).second - (*pos).first-1);\n                    pos=st.erase(pos);\n                }\n                \n                dest-=(e-s-1);\n                st.insert({s,e});\n                res.push_back(dest);\n                continue;\n            }\n            \n            pos--;\n            \n            if((*pos).second>=e) {\n                res.push_back(dest);\n                continue;\n            } else{\n                pos++;\n                while(pos!=st.end() && (*pos).second<=e){\n                    dest+=((*pos).second - (*pos).first-1);\n                    pos=st.erase(pos);\n                }\n                dest-=(e-s-1);\n                st.insert({s,e});\n\n                res.push_back(dest);\n                continue;\n            }\n        }\n        return res;\n    }\n};\n",
    "submit_ts": "1722742878",
    "subm_id": "1343779189"
}