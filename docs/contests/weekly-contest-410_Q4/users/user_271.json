{
    "username": "pasricha_dhruv",
    "submission": "const int mod = 1e9 + 7;\n\nint dp[2005][1005], pref[1005];\n\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();       \n        \n        \n        for(int pos = n; pos > 0; --pos)\n        {\n            for(int prev1 = 0; prev1 <= 1000; ++prev1)\n            {\n                int &ans = dp[pos][prev1];\n                ans = 0;\n                if(pos == n)\n                {\n                    ans = 1;\n                }\n                else\n                {\n                    int prev2 = nums[pos - 1] - prev1;\n                    \n                    int minNum1 = prev1;\n                    int maxNum1 = nums[pos];\n                    \n                    int minNum2 = 0;\n                    int maxNum2 = prev2;\n                    \n                    minNum1 = max(minNum1, nums[pos] - maxNum2);\n                    \n                    if(maxNum1 < minNum1) {\n                        ans = 0;\n                        continue;\n                    }\n                    \n                    ans = pref[maxNum1];\n                    if(minNum1) ans -= pref[minNum1 - 1];\n                    \n                    ans %= mod;\n                    ans += mod;\n                    ans %= mod;\n                }\n            }\n            \n            pref[0] = dp[pos][0];\n            for(int j = 1; j <= 1000; ++j)\n            {\n                pref[j] = (dp[pos][j] + pref[j - 1]) % mod;\n            }\n        }\n        \n        \n        int ans = 0;\n        for(int i = 0; i <= nums[0]; ++i)\n        {\n            ans += dp[1][i];\n            ans %= mod;\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1723346407",
    "subm_id": "1351576905"
}