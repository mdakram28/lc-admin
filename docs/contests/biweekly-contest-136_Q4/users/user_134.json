{
    "username": "jiu-ren-36",
    "submission": "class Solution {\npublic:\n    using ll = long long;\n    ll max(ll a, ll b) {return a > b?a:b;}\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size();\n        vector<vector<int>> g(n+5);\n        for(auto i: edges) {\n            g[i[0]].push_back(i[1]);\n            g[i[1]].push_back(i[0]);\n        }\n        vector<int> res(n+1);\n        vector<ll> f(n+5, 0);\n        auto dfs = [&] (auto self, int cur, int fa)->void{\n            for(auto i: g[cur]) {\n                if(i == fa) continue;\n                self(self, i, cur);\n                if(i % 2 == 0) f[cur] = max(f[cur], f[i] + 2);\n                else f[cur] = max(f[cur], f[i] + 1);\n                \n            }\n        };\n        auto dfs1 = [&] (auto self, int cur, int fa, ll p)->void{\n            ll mx1 = 0, mx2 = 0;\n            for(auto i: g[cur]) {\n                if(i == fa) continue;\n                if(i % 2 == 0) {\n                    if(f[i] + 2 > mx1) mx2 = mx1, mx1 = f[i] + 2;\n                    else if(f[i] + 2 > mx2) mx2 = f[i] + 2;\n                } \n                else {\n                    if(f[i] + 1 > mx1) mx2 = mx1, mx1 = f[i] + 1;\n                    else if(f[i] + 2 > mx2) mx2 = f[i] + 1;\n                } \n            }\n            for(auto i: g[cur]) {\n                if(i == fa) continue;\n                ll now = (i % 2 == 0?2:1) + f[i];\n                ll ok = max(mx1 + mx2 - max(now, mx2), p)+ (cur % 2 == 0?2:1);\n                res[i] = max(f[i], ok);\n                self(self, i, cur, ok);\n            }\n        };\n        dfs(dfs, 0, 0);\n        res[0] = f[0];\n        dfs1(dfs1, 0, 0, 0);\n        return res;\n    }\n};",
    "submit_ts": "1722699018",
    "subm_id": "552273657"
}