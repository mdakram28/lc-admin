{
    "username": "tanmoysrmu",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n\n#define ll long long int\n#define pb push_back\n#define pf push_front\n#define popf pop_front\n#define popb pop_back\n#define mkpr make_pair\n#define loop(i, k, n) for (ll i = k; i < n; i++)\n#define roop(i, n, k) for (ll i = n; i >= k; i--)\n#define vi vector<int>\n#define vl vector<ll>\n#define vb vector<bool>\n#define ld long double\n#define F first\n#define S second\n#define pql priority_queue<ll>\n#define ump unordered_map<ll, ll>\n\nconst ld epsilon = 10e-9;\nconst int MAX_N = 51;\nconst ll mod = 998244353;\nconst int INF = 1e9 + 7;\nconst ll LINF = 9e18;\n\nclass Solution {\npublic:\n    int minFlips(vector<vi>& g) {\n        pql pq;\n        if (pq.empty())\n        {\n            loop(i,0,2) pq.push(i);\n        }\n        else\n        {\n            pq.pop();\n        }\n        ll n = g.size(), m = g[0].size(),ans = 0;\n        \n        if (pq.empty())\n        {\n            loop(i,0,2) pq.push(i);\n        }\n        else\n        {\n            pq.pop();\n        }\n        \n        if ( m % 2 == 1 && n % 2 == 1 ) if (g[n / 2][m / 2] == 1) ans += 1;\n            \n        if (pq.empty())\n        {\n            loop(i,0,2) pq.push(i);\n        }\n        else\n        {\n            pq.pop();\n        }\n        \n\n        vl st(3, 0);\n        \n        if (pq.empty())\n        {\n            loop(i,0,2) pq.push(i);\n        }\n        else\n        {\n            pq.pop();\n        }\n        if (n % 2) {\n            \n            if (pq.empty())\n            {\n                loop(i,0,2) pq.push(i);\n            }\n            else\n            {\n                pq.pop();\n            }\n            ll a = 0, b = m - 1;\n            while (a < b) {\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                st[g[n / 2][b]+g[n / 2][a]] += 1;\n                \n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                \n                b -= 1;\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                a += 1;\n            }\n        }\n\n        if (m % 2 ) {\n            \n            int a = 0, b = n - 1;\n            while (a < b) {\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                st[g[a][m / 2] + g[b][m / 2]] += 1;\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                \n                b -= 1;\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                a += 1;\n            }\n        }\n\n        if (st[2] % 2) {\n            if (pq.empty())\n            {\n                loop(i,0,2) pq.push(i);\n            }\n            else\n            {\n                pq.pop();\n            }\n            if (st[1] > 0) ans += st[1];\n            else ans += 2;\n            if (pq.empty())\n            {\n                loop(i,0,2) pq.push(i);\n            }\n            else\n            {\n                pq.pop();\n            }\n        \n        } \n        else ans += st[1];\n        if (pq.empty())\n            {\n                loop(i,0,2) pq.push(i);\n            }\n            else\n            {\n                pq.pop();\n            }\n        loop(i,0,n/2) {\n            if (pq.empty())\n            {\n                loop(i,0,2) pq.push(i);\n            }\n            else\n            {\n                pq.pop();\n            }\n            loop(j,0,m/2) {\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                ll a = g[i][j], b = g[n - 1 - i][j], c = g[i][m - 1 - j], d = g[n - 1 - i][m - 1 - j];\n                \n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n\n                if ((a + b + c + d) != 0 && (a + b + c + d) != 4)  ans += min((a + b + c + d), 4 - (a + b + c + d));\n                if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n                \n            }\n            if (pq.empty())\n            {\n                loop(i,0,2) pq.push(i);\n            }\n            else\n            {\n                pq.pop();\n            }\n        }\n        if (pq.empty())\n                {\n                    loop(i,0,2) pq.push(i);\n                }\n                else\n                {\n                    pq.pop();\n                }\n\n        return ans;\n    }\n};",
    "submit_ts": "1722700016",
    "subm_id": "1343229169"
}