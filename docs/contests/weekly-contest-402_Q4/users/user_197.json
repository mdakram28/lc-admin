{
    "username": "pein531",
    "submission": "class Solution {\npublic:\n    int n;\n    int a[100005];\n    int b[100005];\n    int c[100005];\n    int ask(int u)\n    {\n        int res=0;\n        while(u)\n        {\n            res+=c[u];\n            u-=u&-u;\n        }\n        return res;\n    }\n    void add(int u,int v)\n    {\n        while(u<=n)\n        {\n            c[u]+=v;\n            u+=u&-u;\n        }\n    }\n    int ask(int l,int r)\n    {\n        if(l>r) return 0;\n        return ask(r)-ask(l-1);\n    }\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        n=nums.size();\n        vector<int >ans;    ans.clear();\n        for(int i=1;i<=n;++i)   a[i]=nums[i-1];\n        for(int i=1;i<=n;++i)   c[i]=0;\n        for(int i=1;i<=n;++i)\n        {\n            b[i]=((a[i]>a[i-1])&&(a[i]>a[i+1]));\n            add(i,b[i]);\n        }\n        for(auto v:queries)\n        {\n            if(v[0]==2)\n            {\n                int x=v[1]+1;\n                for(int i=x-1;i<=x+1;++i)\n                    if(i-1>=1&&i+1<=n)\n                        add(i,-((a[i]>a[i-1])&&(a[i]>a[i+1])));\n                a[x]=v[2];\n                for(int i=x-1;i<=x+1;++i)\n                    if(i-1>=1&&i+1<=n)\n                        add(i,+((a[i]>a[i-1])&&(a[i]>a[i+1])));\n                cout<<\"----- \"<<x<<\" \"<<((a[x]>a[x-1])&&(a[x]>a[x+1]))<<endl;\n            }\n            else\n                ans.push_back(ask(v[1]+1+1,v[2]-1+1));\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1718506150",
    "subm_id": "1289608755"
}