{
    "username": "sr2005roy",
    "submission": "class Solution {\npublic:\n    vector<int> countOfPeaks(vector<int>& v, vector<vector<int>>& q) {\n        int n=v.size();\n        int x=sqrtl(n);\n        x++;\n        n=(x*x);\n        for(int i=v.size();i<n;i++) v.push_back(1e5+1);\n        vector<int> b(x,0);\n        for(int xx=0;xx<x;xx++){\n            int start=xx*x,end=(xx+1)*x;\n            for(int i=start;i<end;i++){\n                if(i-1>=0 && i+1<n && (v[i]>v[i-1] && v[i]>v[i+1])) b[xx]++; \n            }\n        }\n        vector<int> xxx;\n        for(auto y:q){\n            int a1=y[0],a2=y[1],a3=y[2];\n            if(a1==1){\n                int start=a2,end=a3,ans=0;\n                for(int i=start;i<=end;i++){\n                    if(i%x==0 && i>start && (i/x+1)*x<end){\n                        ans+=b[i/x];\n                        i=(i/x+1)*x -1;\n                    }\n                    else{\n                        if(i-1>=start && i+1<=end && (v[i]>v[i-1] && v[i]>v[i+1])) ans++;\n                    }\n                }\n                xxx.push_back(ans);\n            }\n            else{\n                v[a2]=a3;\n                int xx=a2/x;\n                int start=xx*x,end=(xx+1)*x;\n                b[xx]=0;\n                for(int i=start;i<end;i++){\n                    if(i-1>=0 && i+1<n && (v[i]>v[i-1] && v[i]>v[i+1])) b[xx]++; \n                }\n                // if(xx<x&&xx>=0) cout<<xx<<\"==>\"<<b[xx]<<endl;\n                xx--;\n                if(xx>=0){\n                    b[xx]=0;\n                    start=xx*x,end=(xx+1)*x;\n                    for(int i=start;i<end;i++){\n                        if(i-1>=0 && i+1<n && (v[i]>v[i-1] && v[i]>v[i+1])) b[xx]++; \n                    }\n                }\n                // if(xx<x&&xx>=0) cout<<xx<<\"==>\"<<b[xx]<<endl;\n                xx+=2;\n                if(xx<x){\n                    b[xx]=0;\n                    start=xx*x,end=(xx+1)*x;\n                    for(int i=start;i<end;i++){\n                        if(i-1>=0 && i+1<n && (v[i]>v[i-1] && v[i]>v[i+1])) b[xx]++; \n                    }\n                }\n                // if(xx<x&&xx>=0) cout<<xx<<\"==>\"<<b[xx]<<endl;\n                xx--;\n                // for(auto i:v) cout<<i<<\" \";\n                // cout<<endl;\n                // for(auto i:b) cout<<i<<\" \";\n                // cout<<endl;\n                // cout<<\"===========================\\n\";\n            }\n        }\n        return xxx;\n    }\n};",
    "submit_ts": 1718507559.0
}