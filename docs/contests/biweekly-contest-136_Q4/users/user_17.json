{
    "username": "ethanrao",
    "submission": "class Solution {\npublic:\n    int n;\n    std::vector <int> vec[100005];\n    int f[100005], g[100005], fa[100005], ans[100005];\n    void dfs1(int x){\n        f[x] = 0;\n        for(auto v: vec[x]){\n            if(v == fa[x]) continue;\n            fa[v] = x;\n            dfs1(v);\n            if(v % 2 == 0) f[x] = std::max(f[x], f[v] + 2);\n            else f[x] = std::max(f[x], f[v] + 1);\n        }\n        return ;\n    }\n    void dfs2(int x){\n        if(x != 0){\n            int f = fa[x];\n            if(f % 2 == 0) g[x] = std::max(g[x], g[f] + 2);\n            else g[x] = std::max(g[x], g[f] + 1);\n        } \n        int m = 0;\n        for(int i = 0; i < vec[x].size(); ++i){\n            int v = vec[x][i];\n            if(v == fa[x]) continue;\n            if(x % 2 == 0) g[v] = std::max(g[v], m + 2);\n            else g[v] = std::max(g[v], m + 1);\n            if(v % 2 == 0) m = std::max(m, f[v] + 2);\n            else m = std::max(m, f[v] + 1);\n        }\n        m = 0;\n        for(int i = vec[x].size() - 1; i >= 0; --i){\n            int v = vec[x][i];\n            if(v == fa[x]) continue;\n            if(x % 2 == 0) g[v] = std::max(g[v], m + 2);\n            else g[v] = std::max(g[v], m + 1);\n            if(v % 2 == 0) m = std::max(m, f[v] + 2);\n            else m = std::max(m, f[v] + 1);\n        }\n        for(auto v: vec[x]){\n            if(v == fa[x]) continue;\n            dfs2(v);\n        }\n        ans[x] = std::max(f[x], g[x]);\n        return ;\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n = edges.size() + 1;\n        for(int i = 0; i < n - 1; ++i){\n            int u = edges[i][0], v = edges[i][1];\n            vec[u].push_back(v);\n            vec[v].push_back(u);\n        }\n        for(int i = 0; i < n; ++i) fa[i] = -1;\n        dfs1(0);\n        dfs2(0);\n        std::vector <int> res;\n        for(int i = 0; i < n; ++i) res.push_back(ans[i]);\n        return res;\n    }\n};",
    "submit_ts": "1722696388",
    "subm_id": "1343105359"
}