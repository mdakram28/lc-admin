{
    "username": "hvbird",
    "submission": "typedef long long ll;\n\nclass Solution {\npublic:\n    ll numberOfSubstrings(string s) {\n        int n = s.size();\n        ll ans = 0;\n\n        vector<int> zs;\n        for(int i=0;i<n;i++){\n            if(s[i]=='0'){\n                zs.push_back(i);\n            }\n\n            ans+=i+1;\n            for(int j=zs.size()-1;j>=0;j--){\n                int t = zs.size()-j;\n                if(t*t>i-t+1){\n                    ans-=zs[j]+1;\n                    break;\n                }\n\n                int k = -1;\n                if(j>0)\n                    k = zs[j-1];\n\n                for(int m=zs[j];m>k;m--){\n                    if(t*t>i-m+1-t){\n                        ans-=1;\n                    }else{\n                        break;\n                    }\n                }\n\n            }\n            //cout<<i<<\" \"<<ans<<endl;\n        }\n\n        return ans;  \n    }\n};",
    "submit_ts": "1722138174",
    "subm_id": "1335784053"
}