{
    "username": "cranky-mcnultyodw",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        vector<int>ans;\n        set<pair<int,int>>s;\n        s.insert({-1,-1});\n        s.insert({101010,101010});\n        int d=n-1;\n        for(auto &t:queries){\n            auto it=s.lower_bound({t[0],-1});\n            if(it==s.end()||it->first!=t[0]){\n                auto pre=prev(it);\n                if(pre->second>=t[1]){\n                    ans.push_back(d);\n                    continue;\n                }\n                else{\n                    vector<pair<int,int>>del;\n                    while(it!=s.end()&&it->first<t[1]){\n                        //cout<<it->first<<' '<<it->second<<'\\n';\n                        d+=it->second-it->first-1;\n                        del.push_back({it->first,it->second});\n                        ++it;\n                    }\n                    for(auto &t:del){\n                        s.erase(t);\n                    }\n                    d-=t[1]-t[0]-1;\n                    s.insert({t[0],t[1]});\n                }\n            }\n            else{\n                if(it->second>=t[1]){\n                    ans.push_back(d);\n                    continue;\n                }\n                else{\n                    vector<pair<int,int>>del;\n                    while(it!=s.end()&&it->first<t[1]){\n                        //cout<<it->first<<' '<<it->second<<'\\n';\n                        d+=it->second-it->first-1;\n                        del.push_back({it->first,it->second});\n                        ++it;\n                    }\n                    for(auto &t:del){\n                        s.erase(t);\n                    }\n                    d-=t[1]-t[0]-1;\n                    s.insert({t[0],t[1]});\n                }\n            }\n            ans.push_back(d);\n            //cout<<'\\n';\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722742399",
    "subm_id": "552344374"
}