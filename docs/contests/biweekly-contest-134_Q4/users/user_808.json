{
    "username": "xyz-pqr",
    "submission": "typedef long long ll;\n\nclass Solution {\nprivate:\n\n    ll solve(vector<int>& nums, int k) {\n    int n = nums.size();\n    ll total_count = 0;\n    \n    unordered_map<ll, ll> previous_results;\n\n    for (int i = 0; i < n; ++i) {\n        unordered_map<ll, ll> current_results; \n\n        if (nums[i] == k) {\n            ++total_count;\n        }\n        current_results[nums[i]] = 1;\n\n        for (auto& [prev_and_result, prev_frequency] : previous_results) {\n            ll new_and_result = prev_and_result & nums[i];\n            if (new_and_result == k) {\n                total_count += prev_frequency;\n            }\n            current_results[new_and_result] += prev_frequency;\n        }\n        \n        previous_results = current_results;\n    }\n    \n    return total_count;\n}\n    ll solve1(vector<int>& v, int k, unordered_map<ll, ll>& pr){\n        int n = v.size();\n        ll c = 0;       \n        \n\n        for (int i = 0; i < n; ++i) {\n            unordered_map<ll, ll> cr; \n\n            if (v[i] == k) {\n                ++c;\n            }\n            cr[v[i]] = 1;\n\n            for (auto& [x, f] : pr) {\n                ll r = x & v[i];\n                if (r == k) {\n                    c += f;\n                }\n                cr[r] += f;\n            }\n            \n            pr = cr;\n        }\n        \n        return c;\n    }\npublic:\n   \n    ll countSubarrays(vector<int>& v, int k) {\n        unordered_map<ll, ll> pr;\n        return solve1(v,k,pr);\n        \n    }\n    \n    // ll countSubarrays(vector<int>& nums, int k) {\n    //     int n=nums.size();\n    //     for (int i = 0; i < n; ++i) {\n    //     nums[i] = nums[i] * nums[i];\n    //     }\n    //     unordered_map<ll, ll> pr;\n    //     unordered_map<ll, ll> cr;\n    //     return solve1(nums,k,pr,cr);\n    // }\n};",
    "submit_ts": "1720279982",
    "subm_id": "1311772637"
}