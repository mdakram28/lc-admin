{
    "username": "Ethan",
    "submission": "class Solution {\npublic:\n    long long a[505][505], b[505][505], c[505][505], d[505][505];\n    long long v[505][505], ans = -1e18;\n    int n, m;\n    void work(){\n        for(int i = 1; i <= n; ++i){\n            a[i][1] = v[i][1];\n            for(int j = 2; j <= m; ++j)\n                a[i][j] = std::max(a[i][j - 1], v[i][j]);\n        }\n        for(int j = 1; j <= m; ++j){\n            b[1][j] = v[1][j];\n            for(int i = 2; i <= n; ++i)\n                b[i][j] = std::max(b[i - 1][j], v[i][j]);   \n        }\n        for(int i = 0; i <= n; ++i)\n            for(int j = 0; j <= m; ++j)\n                c[i][j] = d[i][j] = -1e18;\n        for(int i = 1; i <= n; ++i)\n            for(int j = 1; j <= m; ++j)\n                c[i][j] = std::max(c[i - 1][j], std::max(c[i][j - 1], v[i][j]));\n        for(int i = 2; i <= n - 1; ++i)\n            for(int j = 2; j <= m - 1; ++j){\n                d[i][j] = v[i][j] + c[i - 1][j - 1];\n                d[i][j] = std::max(d[i][j], d[i - 1][j]);\n                d[i][j] = std::max(d[i][j], d[i][j - 1]);\n                d[i][j] = std::max(d[i][j], a[i][j - 1] + b[i - 1][j]);\n            }\n        for(int i = 3; i <= n; ++i)\n            for(int j = 3; j <= m; ++j)\n                ans = std::max(ans, d[i - 1][j - 1] + v[i][j]);\n        return ;\n    }\n    long long maximumValueSum(vector<vector<int>>& board) {\n        n = board.size(), m = board[0].size();\n        for(int i = 1; i <= n; ++i)\n            for(int j = 1; j <= m; ++j)\n                v[i][j] = 1ll * board[i - 1][j - 1];\n        work();\n        for(int i = 1; i <= n / 2; ++i)\n            for(int j = 1; j <= m; ++j)\n                std::swap(v[i][j], v[n - i + 1][j]);\n        work();\n        for(int i = 1; i <= n; ++i)\n            for(int j = 1; j <= m / 2; ++j)\n                std::swap(v[i][j], v[i][m - j + 1]);\n        work();\n        for(int i = 1; i <= n / 2; ++i)\n            for(int j = 1; j <= m; ++j)\n                std::swap(v[i][j], v[n - i + 1][j]);\n        work();\n        return ans;\n    }\n};",
    "submit_ts": "1723908995",
    "subm_id": "1359175384"
}