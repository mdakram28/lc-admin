{
    "username": "hanzhoutang",
    "submission": "class Solution {\npublic:\n    const int INF = INT_MAX / 2; \n    int minimumDifference(vector<int>& nums, int k) {\n        vector<array<int,32>> ones(nums.size()); \n        vector<array<int,32>> zeros(nums.size()); \n        for(int i = 0;i<nums.size();i++) {\n            if(i > 0) [[likely]] {\n                ones[i] = ones[i-1]; \n                zeros[i] = zeros[i-1]; \n            }\n            int x = nums[i]; \n            for(int j = 0;j<32;j++) {\n                if(x & (1<<j)) {\n                    ones[i][j] += 1; \n                } else {\n                    zeros[i][j] += 1; \n                }\n            }\n        }\n        int ret = INF; \n        for(int i = 0;i<nums.size();i++) {\n            int x = nums[i]; \n                int l = 0; \n                int r = i; \n                while(l <= r) {\n                    int m = l + (r-l) / 2; \n                    int t = 0; \n                    for(int j = 0;j<32;j++) {\n                        int one = ones[i][j] - ones[m][j]; \n                        int zero = zeros[i][j] - zeros[m][j]; \n                        if(nums[m] & (1<<j)) {\n                            one += 1; \n                        } else {\n                            zero += 1; \n                        }\n                        if(one > 0 && zero == 0) {\n                            t |= 1<<j; \n                        }\n                    }\n                    if(t > k) {\n                        ret = min(ret, t - k); \n                        r = m - 1; \n                    } else if(t < k) {\n                        ret = min(ret, k - t); \n                        l = m + 1; \n                    } else {\n                        return 0; \n                    }\n                }\n        }\n        \n        /*for(int i = 0;i<nums.size();i++) {\n            int v = nums[i]; \n            for(int j = i;j<nums.size();j++) {\n                v &= nums[j]; \n                cout<<\"l= \"<<i<<\" r= \"<<j<<\" v = \"<<v<<endl;\n            }\n        }*/\n\n        return ret; \n    }\n};",
    "submit_ts": 1717299227.0
}