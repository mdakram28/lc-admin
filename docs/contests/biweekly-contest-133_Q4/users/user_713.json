{
    "username": "lazybearfiringrockets",
    "submission": "class Solution:\n    def numberOfPermutations(self, n: int, requirements: List[List[int]]) -> int:\n        mod_val = 10**9 + 7\n        constraints = {end_i: cnt_i for end_i, cnt_i in requirements}\n        \n        @cache\n        def F(i, k):\n            if i in constraints and constraints[i] != k:\n                return 0\n            \n            if k < 0:\n                return 0\n            \n            if i == 0:\n                return 1 if k == 0 else 0\n            \n            return sum(\n                F(i - 1, k - j)\n                for j in range(i + 1)\n            ) % mod_val\n        \n        return F(n - 1, constraints[n - 1]) % mod_val\n            ",
    "submit_ts": 1719070164.0
}