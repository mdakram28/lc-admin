{
    "username": "wixton",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& ar) {\n        int n = ar.size();\n        int m = ar[0].size();\n        int res = 0;\n        int one1 = 0;\n        for(int i = 0; i < n; i++) {\n            for(int j = 0; j < m; j++) {\n                one1 += ar[i][j];\n            }\n        }\n        map<int,vector<pair<int,int>>> sz;\n        for(int i = 0; i < n; i++) {\n            for(int j = 0; j < m; j++) {\n                int x1 = i, y1 = j;\n                int x2 = i, y2 = m - j - 1;\n                \n                int x3 = n - i - 1, y3 = j;\n                int x4 = x3, y4 = y2;\n                /*\n                x1,y1........x2y2\n                .\n                .\n                .\n                x3y3.........x4y4\n                */\n                set<pair<int,int>> st;\n                st.insert({x1, y1});\n                st.insert({x2, y2});\n                st.insert({x3, y3});\n                st.insert({x4, y4});\n                map<int,int> mp;\n                for(auto [l, r] : st) {\n                    mp[ar[l][r]]++;\n                }\n                if(mp[1] > mp[0]) {\n                    ar[x1][y1] = ar[x2][y2] = ar[x3][y3] = ar[x4][y4] = 1;\n                    res += mp[0];\n                    sz[st.size()].push_back({1, mp[0]});\n                }\n                else {\n                    ar[x1][y1] = ar[x2][y2] = ar[x3][y3] = ar[x4][y4] = 0;\n                    res += mp[1];\n                    sz[st.size()].push_back({0, mp[1]});\n                }\n            }\n        }\n        // for(int i = 0; i < n; i++) {\n        //     for(int j = 0; j < m; j++) {\n        //         cout << ar[i][j] << \" \";\n        //     }\n        //     cout << endl;\n        // }\n        int one = 0;\n        for(int i = 0; i < n; i++) {\n            for(int j = 0; j < m; j++) {\n                one += ar[i][j];\n            }\n        }\n        if(one % 4 == 0) return res;\n        int how = one % 4;\n        if((how % 2) == 1) {\n            if(sz[1].size() == 0) {\n                return one;\n            }\n            else {\n                vector<pair<int,int>> tmp1 = sz[1];\n                for(auto i : tmp1) {\n                    if(i.first == 1 && how == 1) {\n                        \n                        return res + 1;\n                    }\n                }\n                res++;\n                how--;\n            }\n        }\n        if(how % 4 == 0) return res;\n        if(how % 4 == 2) {\n            if(sz[2].size() == 0) {\n                return one;\n            }\n            else {\n                vector<pair<int,int>> tmp1 = sz[2];\n                int tres = res + 2;\n                for(auto i : tmp1) {\n                    // cout << i.first << \" \" << i.second << endl;\n                    if(i.second > 0) {\n                        // cout << \"YES\" << endl;\n                        return res;\n                    }\n                }\n                // cout << \"YES1\" << endl;\n                return tres;\n            }\n        }\n        return one;\n    }\n};",
    "submit_ts": "1722698829",
    "subm_id": "1343193153"
}