{
    "username": "uwi",
    "submission": "\tclass Solution {\n\t\tpublic int numberOfSubstrings(String S) {\n\t\t\tchar[] s = S.toCharArray();\n\t\t\tint n = s.length;\n\t\t\tList<Integer> zeros = new ArrayList<>();\n\t\t\tfor(int i = 0;i < n;i++){\n\t\t\t\tif(s[i] == '0'){\n\t\t\t\t\tzeros.add(i);\n\t\t\t\t}\n\t\t\t}\n\t\t\tint m = zeros.size();\n\t\t\tint all = 0;\n\t\t\tif(m == 0)return n*(n+1)/2;\n\t\t\tfor(int i = 0;i < m-1;i++){\n\t\t\t\tint l = zeros.get(i);\n\t\t\t\tint r = zeros.get(i+1);\n\t\t\t\tall += (r-l)*(r-l-1)/2;\n\t\t\t}\n\t\t\tall += zeros.get(0)*(zeros.get(0)+1)/2;\n\t\t\tall += (n-zeros.get(m-1))*(n-zeros.get(m-1)-1)/2;\n//\t\t\ttr(all);\n\t\t\tfor(int len = 1;len <= 200;len++){\n\t\t\t\tfor(int i = 0;i+len-1 < m;i++){\n\t\t\t\t\tint v = zeros.get(i);\n\t\t\t\t\tint l = i-1 >= 0 ? v - zeros.get(i-1)-1 : v;\n\t\t\t\t\tint r = i+len < m ? zeros.get(i+len) - zeros.get(i+len-1) - 1 : n  - zeros.get(i+len-1) - 1;\n\t\t\t\t\tint b = len*len - (zeros.get(i+len-1) - zeros.get(i)+1-len);\n\t\t\t\t\tif(l > r){\n\t\t\t\t\t\tint d = l; l = r; r = d;\n\t\t\t\t\t}\n\t\t\t\t\tint lall = go(l, r, b);\n//\t\t\t\t\ttr(l, r, len, b, lall);\n\t\t\t\t\tall += lall;\n\t\t\t\t}\n\t\t\t}\n\t\t\treturn all;\n\t\t}\n\n\t\t// >=b\u3067\u3042\u308b\u500b\u6570\n\t\t// <b\u3067\u3042\u308b\u500b\u6570\u3092\u5f15\u3044\u3066\u3044\u304f\n\t\tint go(int l, int r, int b)\n\t\t{\n\t\t\tif(b > l+r) {\n\t\t\t\treturn 0;\n\t\t\t}else if(b < 0){\n\t\t\t\treturn (l+1)*(r+1);\n\t\t\t}else if(b <= l){\n\t\t\t\treturn (l+1)*(r+1) - b*(b+1)/2;\n\t\t\t}else if(b <= r){\n\t\t\t\treturn (l+1)*(r+1) - l*(l+1)/2 - (b-l)*(l+1);\n\t\t\t}else{\n\t\t\t\treturn (l+r-b+1)*(l+r-b+2)/2;\n\t\t\t}\n\t\t}\n\t}\n",
    "submit_ts": "1722136468",
    "subm_id": "1335735401"
}