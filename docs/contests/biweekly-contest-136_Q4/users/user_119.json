{
    "username": "__Beginner_",
    "submission": "#define ff first\n#define ss second\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size() + 1;\n        vector<vector<pair<int, int>>> T(n);\n        for(int i = 0; i < n - 1; i++){\n            T[edges[i][0]].push_back({edges[i][1], 1 + (edges[i][1] % 2 == 0)});\n            T[edges[i][1]].push_back({edges[i][0], 1 + (edges[i][0] % 2 == 0)});\n        }\n        vector<pair<int, int>> d(n), p(n);\n        function<void(int, int)> dfs = [&](int u, int par){\n            for(auto [v, c] : T[u]){\n                if(v == par) continue;\n                dfs(v, u);\n                if(d[u].ff < d[v].ss + c) d[u].ff = d[v].ss + c, p[u].ff = v;\n                if(d[u].ff > d[u].ss) swap(d[u].ff, d[u].ss), swap(p[u].ss, p[u].ff);\n            }\n        };\n        dfs(0, -1);\n        vector<int> ans(n);\n        function<void(int, int)> calc = [&](int u, int par){\n            ans[u] = d[u].ss;\n            for(auto [v, c] : T[u]){\n                if(v == par) continue;\n                if(p[u].ss == v){\n                    int c = u % 2 == 0;\n                    if(d[v].ff < d[u].ff + c + 1) d[v].ff = d[u].ff + c + 1, p[v].ff = u;\n                    if(d[v].ff > d[v].ss) swap(d[v].ff, d[v].ss), swap(p[v].ss, p[v].ff);\n                }\n                else{\n                    int c = u % 2 == 0;\n                    if(d[v].ff < d[u].ss + c + 1) d[v].ff = d[u].ss + c + 1, p[v].ff = u;\n                    if(d[v].ff > d[v].ss) swap(d[v].ff, d[v].ss), swap(p[v].ss, p[v].ff);\n                }\n                calc(v, u);\n            }\n        };\n        calc(0, -1);\n        return ans;\n    }\n};",
    "submit_ts": "1722696926",
    "subm_id": "1343127578"
}