{
    "username": "Vasanth Reddy",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        int n = s.length();\n        vector<int> ones(n, 0), zeros(n, 0);\n        ones[0] = s[0] == '1';\n        zeros[0] = s[0] == '0';\n        for(int i = 1; i < n; i++) {\n            ones[i] = ones[i - 1];\n            ones[i] += s[i] == '1';\n            zeros[i] = zeros[i - 1];\n            zeros[i] += s[i] == '0';\n        }\n        vector<long long> sum(n);\n        for(int i = 0; i < n; i++) {\n            int l = i, r = n - 1;\n            int put = 0;\n            while(l <= r) {\n                int mid = (l + r) / 2;\n                int x = ones[mid];\n                if(i > 0) x -= ones[i - 1];\n                int y = zeros[mid];\n                if(i > 0) y -= zeros[i - 1];\n                if(x > k && y > k) {\n                    put = mid;\n                    r = mid - 1;\n                }\n                else l = mid + 1;\n            }\n            if(i > 0) sum[i] = sum[i - 1];\n            sum[i] += put;\n        }\n        \n        vector<long long> ans;\n        for(auto it : queries) {\n            int x = it[0], y = it[1];\n            int last = -1;\n            int l = x, r = y;\n            while(l <= r) {\n                int mid = (l + r) / 2;\n                int xx = ones[y];\n                if(mid > 0) xx -= ones[mid - 1];\n                int yy = zeros[y];\n                if(mid > 0) yy -= zeros[mid - 1];\n                if(xx > k && yy > k) {\n                    last = mid;\n                    l = mid + 1;\n                }\n                else r = mid - 1;\n            }\n            long long curr = 1LL * (y - x + 1) * (y - x + 2) / 2;\n            if(last != -1) {\n                long long rem = sum[last];\n                if(x > 0) rem -= sum[x - 1];\n                rem = 1LL * (last - x + 1) * (y + 1) - rem;\n                // cout << rem << '\\n';\n                curr -= rem;\n            }\n            ans.push_back(curr);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723949689",
    "subm_id": "1359726300"
}