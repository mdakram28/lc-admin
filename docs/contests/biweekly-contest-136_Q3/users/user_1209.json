{
    "username": "feetmode",
    "submission": "typedef long long ll;\ntypedef vector<pair<int, int>> vpii;\ntypedef vector<pair<int, ll>> vpil;\ntypedef vector<pair<ll, ll>> vpll;\ntypedef vector<int> vi;\ntypedef vector<ll> vll;\ntypedef vector<bool> vb;\ntypedef vector<vector<int>> vvi;\ntypedef vector<vector<ll>> vvll;\ntypedef pair<int, int> pii;\ntypedef pair<int, ll> pil;\ntypedef pair<ll, ll> pll;\n\nclass Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid[0].size(), i, j, c1h = 0, c1v = 0, cnt_h = 0, cnt_v = 0, cnt_ctr = 0, ans = 0;\n\n        for (i = 0; i < n - 1 - i; ++i) {\n            for (j = 0; j < m - 1 - j; ++j) {\n                int tmp = grid[i][j] + grid[n - 1 - i][j] + grid[i][m - 1 - j] + grid[n - 1 - i][m - 1 - j];\n                ans += min(tmp, 4 - tmp);\n            }\n        }\n        if (n % 2) {\n            for (j = 0; j < m; ++j) c1h += grid[n / 2][j];\n            if (m % 2) c1h -= grid[n / 2][m / 2];\n            for (j = 0; j < m - 1 - j; ++j) {\n                if (grid[n / 2][j] != grid[n / 2][m - 1 - j]) ++cnt_h;\n            }\n        }\n        if (m % 2) {\n            for (i = 0; i < n; ++i) c1v += grid[i][m / 2];\n            if (n % 2) c1v -= grid[n / 2][m / 2];\n            for (i = 0; i < n - 1 - i; ++i) {\n                if (grid[i][m / 2] != grid[n - 1 - i][m / 2]) ++cnt_v;\n            }\n        }\n        if (n % 2 && m % 2) cnt_ctr = grid[n / 2][m / 2];\n        // cout << ans << \" \" << cnt_v << \" \" << cnt_h << \" \" << cnt_ctr << \" \" << c1v << \" \" << c1h << endl;\n\n        if (cnt_ctr) ++ans;\n        ans += cnt_v + cnt_h;\n        c1v -= cnt_v;\n        c1h -= cnt_h;\n        // cout << c1v << \" \" << c1h << endl;\n        if ((c1v + c1h) % 4) {\n            if (cnt_v + cnt_h) return ans;\n            else return ans + 2;\n        }\n        else return ans;\n    }\n};",
    "submit_ts": "1722698719",
    "subm_id": "1343189570"
}