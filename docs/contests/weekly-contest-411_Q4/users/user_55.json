{
    "username": "w285714",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        int n=s.size();\n        vector<int> a,b;\n        for(int i=0;i<n;++i){\n            if(s[i]=='0'){\n                a.push_back(i);\n            }\n            else\n                b.push_back(i);\n        }\n        int na=a.size();\n        int nb=b.size();\n        vector<long long> res;\n        vector<int> c(n);\n        // cout<<0<<endl;\n        int ia=0,ib=0;\n        for(int i=0;i<n;++i){\n            int t;\n            if(ia+k>=na){\n                t=n;\n            }\n            else{\n                t=a[ia+k];\n            }\n            if(ib+k>=nb){\n                t=max(t,n);\n            }\n            else{\n                t=max(t,b[ib+k]);\n            }\n            if(s[i]=='0'){\n                ++ia;\n            }\n            else{\n                ++ib;\n            }\n\n            c[i]=t;\n            // cout<<c[i]<<\" \";\n        }\n        // cout<<endl;\n        // cout<<1<<endl;\n        vector<long long> sc(n+1);\n        for(int i=0;i<n;++i){\n            sc[i+1]=sc[i]+c[i];\n        }\n        for(auto& q:queries){\n            long long l=q[0];\n            long long r=q[1];\n            // cout<<\"l=\"<<l<<\" r=\"<<r<<endl;\n            long long ir=lower_bound(c.begin(),c.end(),r+1)-c.begin();\n            long long t=0;\n            ir=max(ir,l);\n            ir=min(ir,r);\n            // cout<<\"ir=\"<<ir<<endl;\n            t=(r-ir+2)*(r-ir+1)/2;\n            // cout<<\"t=\"<<t<<endl;\n            t+=sc[ir]-sc[l];\n            t-=(l+ir-1)*(ir-l)/2;\n            // cout<<\"t=\"<<t<<endl;\n            res.push_back(t);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723952132",
    "subm_id": "556409777"
}