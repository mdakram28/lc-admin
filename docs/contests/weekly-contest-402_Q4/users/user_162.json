{
    "username": "Ahemad_14",
    "submission": "/*\n\tName :- Tafheem Ahemad\n*/\n#include<bits/stdc++.h>\n#include<ext/pb_ds/assoc_container.hpp>\n#include<ext/pb_ds/tree_policy.hpp>\nusing namespace std;\nusing namespace __gnu_pbds;\n#define ll long long int\n#define ld long double\n#define F first\n#define S second\nconst int MOD=998244353;\n#define vl vector<ll>\n#define vi vector<int>\n#define vs vector<string>\n#define vll vector<vl>\n#define vii vector<vi>\n#define pii pair<int,int>\n#define pll pair<ll,ll>\n#define ump unordered_map\n#define all(v) v.begin(),v.end()\n#define take_matrix(a,n,m) for(int i=0; i<n; i++){for(int j=0; j<m; j++){cin>>a[i][j];}}\n#define print_matrix(a,n,m) for(int i=0; i<n; i++){for(int j=0; j<m; j++){cout<<a[i][j]<<' ';}cout<<endl;}\n#define input(a) for(auto &x:a) cin>>x;\n#define printv(a) for(auto i:a) cout<<i<<' '; cout<<endl;\n#define cl(n) for(int i=0;i<=n+5;i++) g[i].clear()\n#define mem(v,z) memset(v,z,sizeof(v))\n#define bpc(x) __builtin_popcountll(x)\n#define pq_max priority_queue<ll>\n#define pq_min priority_queue<ll,vl,greater<ll>>\n#define fast() ios_base::sync_with_stdio(false); cin.tie(NULL);\n#define pb push_back\n#define in insert\ntemplate <typename T> using ordered_set = tree<T, null_type, less<T>, rb_tree_tag, tree_order_statistics_node_update>;\nvector<vector<ll>>delta1={{1,0},{-1,0},{0,-1},{0,1}};\nvector<vector<ll>>delta2={{1,0},{-1,0},{0,-1},{0,1},{1,1},{-1,1},{1,-1},{-1,-1}};\n\nclass Solution {\npublic:\n    vector<int> countOfPeaks(vector<int>& v, vector<vector<int>>& queries) {\n        int n=v.size();\n        ordered_set<ll>st;\n        for(int i=1;i<n-1;i++){\n            if(v[i]>v[i+1] && v[i]>v[i-1]){\n                st.in(i);\n            }\n        }\n        \n        vector<int>ans;\n        for(auto it:queries){\n            // cout<<it[0]<<endl;\n            if(it[0]==1){\n                if(it[1] == it[2]){\n                    ans.pb(0);\n                    continue;\n                }\n                \n                ll a=st.order_of_key(it[2]);\n                ll b=st.order_of_key(it[1]+1);\n                \n                ans.pb(a-b);\n            }else{\n                if(it[1]==0){\n                    st.erase(1);\n                    v[it[1]]=it[2];\n                    if(v[1]>v[0] && v[1]>v[2]) st.in(1);\n                }else if(it[1]==n-1){\n                    st.erase(n-2);\n                    v[it[1]]=it[2];\n                    if(v[n-2]>v[n-3] && v[n-2]>v[n-1]) st.in(n-2);\n                }else{\n                    st.erase(it[1]);\n                    st.erase(it[1]+1);\n                    st.erase(it[1]-1);\n                    \n                    // cout<<st.size()<<endl;\n                    \n                    v[it[1]]=it[2];\n                    // cout<<it[1]<<endl;\n                    \n                    int i=it[1];\n                    \n                    // printv(v);\n                    \n                    if(v[i]>v[i+1] && v[i]>v[i-1]) st.in(i);\n                    \n                    int j=i+1;\n                    if(j != n-1){\n                        if(v[j]>v[j-1] && v[j]>v[j+1]) st.in(j);\n                    }\n                    \n                    j=i-1;\n                    if(j != 0){\n                        if(v[j]>v[j-1] && v[j]>v[j+1]) st.in(j);\n                    }\n                }\n            }\n        }\n        \n        \n        // cout<<\"**\"<<endl;\n        return ans;\n    }\n};",
    "submit_ts": "1718506914",
    "subm_id": "1289635129"
}