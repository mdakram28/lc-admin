{
    "username": "BtwdkEHOy2",
    "submission": "const int N = 2e3 + 3;\nconst int MOD = 1e9 + 7;\n    \nclass Solution {\npublic:\n    int dp[N][N], a[N], sum[N][N];\n    int countOfPairs(vector<int>& nums) {\n        \n        int n = (int)nums.size();\n        for(int i = 0; i < (int)nums.size(); i++)\n            a[i + 1] = nums[i];\n\n        for(int i = 0; i <= a[1]; i++)\n            dp[1][i] = 1, sum[1][i] = i + 1;\n        \n        cout << sum[1][2] << \"!!\\n\";\n\n        for(int i = 2; i <= n; i++)\n        {\n            for(int cur = 0; cur <= a[i]; cur++)\n            {\n                if(cur != 0) sum[i][cur] = sum[i][cur - 1];\n                int l = 0, r = min(cur, a[i - 1]);\n                int pos = 0;\n                int cur2 = a[i] - cur, ans = -1;\n                while(l <= r)\n                {\n                    int mid = (l + r) / 2;\n                    int prev2 = a[i - 1] - mid;\n                    if(prev2 >= cur2)\n                    {\n                        ans = mid;\n                        l = mid + 1;\n                    }\n                    else r = mid - 1;\n                }\n                if(ans == -1) continue;\n                if(i == 2) cout << cur << \" \" << ans << \"!!\\n\";\n                (dp[i][cur] += sum[i - 1][ans]) %= MOD;   \n                (sum[i][cur] += dp[i][cur]) %= MOD;\n            }\n        }\n        int ans = 0;\n        for(int i = 0; i <= a[2]; i++)\n        {\n            cout << dp[2][i] << \" \";\n        }\n        cout << \"\\n\";\n        for(int i = 0; i <= a[n]; i++)\n            (ans += dp[n][i]) %= MOD;\n        return ans;\n    }   \n};",
    "submit_ts": "1723345413",
    "subm_id": "1351555245"
}