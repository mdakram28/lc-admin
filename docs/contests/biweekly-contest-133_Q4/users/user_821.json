{
    "username": "harshit135",
    "submission": "class Solution {\npublic:\n    #define ll long long int \n    const ll mod = 1e9 + 7;\n    \n    ll add(ll a, ll b) {\n        a %= mod;\n        b %= mod;\n        ll ans = (a + b) % mod;\n        return ans%mod;\n    }\n    \n    ll max(ll a, ll b) {\n        if(a >= b) return a;\n        else return b;\n    }\n    \n    ll dp[305][405];\n    \n    ll cal(vector<vector<int>>& req, ll i, ll j, ll ind, ll n, vector<ll> &vis, vector<ll> &pref) {\n        // cout<<i<<\" \"<<j<<\" \"<<ind<<endl;\n        if(i == 0) {\n            if(j == 0) return 1;\n            else return 0; /////\n        }\n        \n        if(j == 0) { \n            if(ind >= 0 && pref[ind] != 0) return 0; /////\n            return 1;\n        }\n        \n        if(dp[i][j] != -1) return dp[i][j];\n        \n        // ind <= i condition  \n        ll flag = 0;\n        if(ind >= 0 && i == req[ind][0]) {\n            if(j != req[ind][1]) return 0;\n            flag = 1;\n        }\n        \n\n        ll big = 0;\n        ll ans = 0;\n        \n        for(ll p=n-1; p>=0; p--) {\n            if(vis[p] == 0) {\n                \n                vis[p] = 1;\n                \n                if(j-big >= 0) {\n                    ll d;\n                    if(flag == 0) {\n                        d = cal(req, i-1, j-big, ind, n, vis, pref);\n                    } else {\n                        d = cal(req, i-1, j-big, ind-1, n, vis, pref);\n                    }\n                    if(d != -1) {\n                     ans = add(ans , d);   \n                    }\n                }\n                \n                vis[p] = 0;\n                big++;\n            }\n        }\n        return dp[i][j] = ans;\n    }\n    \n    \n    int numberOfPermutations(int n, vector<vector<int>>& req) {\n        // increasing validation including zero index \n        ll size = req.size();\n        vector<ll> pref(size, 0);\n        \n        sort(req.begin(), req.end());\n        \n        if(req[0][0] == 0 && req[0][1] != 0) return 0;\n        \n        pref[0] = req[0][1]; ll maxi = req[0][1];\n        for(ll i=1; i<req.size(); i++) {\n            if(req[i][1] < maxi) return 0;\n            maxi = max(maxi, req[i-1][1]);\n            pref[i] = pref[i-1] + req[i][1];\n        }\n        \n        vector<ll> vis(n , 0);\n        \n        for(ll i=0; i<305; i++) {\n            for(ll j=0; j<405; j++) {\n                dp[i][j] = -1;\n            }\n        }\n        \n        // for(auto &it : req) cout<<it[0]<<\" \"<<it[1]<<endl;\n        // for(auto &it : pref) cout<<it<<\" \"; cout<<endl;\n        // for(auto &it : vis) cout<<it<<\" \"; cout<<endl;\n        // cout<<\"HB\"<<endl;\n        \n        ll ans = cal(req, req[size-1][0], req[size-1][1], size-1, n, vis, pref)%mod;\n        \n        for(ll i=0; i<3; i++) {\n            for(ll j=0; j<4; j++) {\n                cout<<dp[i][j]<<\" \";\n            }\n            cout<<endl;\n        }\n        cout<<endl;\n        \n        return ans;\n    }\n};",
    "submit_ts": 1719071017.0
}