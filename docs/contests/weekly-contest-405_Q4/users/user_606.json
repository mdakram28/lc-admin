{
    "username": "Atma_",
    "submission": "class Solution {\npublic:       \n    const int mod=1e9+7;\n    \n    long long poww(long long a, long long b){\n        if(b==0) return 1;\n        long long temp=poww(a,b>>1);\n        temp=temp*temp%mod;\n        if(b&1) temp=temp*a%mod;\n        return temp;\n    }\n    \n    int minimumCost(string target, vector<string>& words, vector<int>& costs) {\n        int n=words.size(),x=target.size();\n        vector<long long> dp(x+1,1e10);\n        vector<vector<int>> alphaw(26);\n        for(int i=0;i<n;++i){\n            alphaw[words[i][0]-'a'].push_back(i);\n        }\n        dp[x]=0;\n        vector<long long> prefHash(x+1,0),wordHash(n,0),inverse(x+1,0);\n        long long p=31,power=1,hash=0;\n        for(int i=0;i<x;++i){\n            hash+=(target[i]-'a'+1)*power%mod;\n            hash%=mod;\n            power=power*p%mod;\n            prefHash[i+1]=hash;\n        }\n        for(int i=n-1;i>=0;--i){\n            hash=0;power=1;\n            for(int j=0;j<words[i].size();++j){\n                 hash+=(words[i][j]-'a'+1)*power%mod;\n                hash%=mod;\n                power=power*p%mod;\n            }\n            wordHash[i]=hash;\n        }\n        power=1;\n        for(int i=0;i<=x;++i){\n            inverse[i]=poww(power,mod-2);\n            power=power*p%mod;\n        }\n        for(int i=x-1;i>=0;--i){\n            for(auto& m:alphaw[target[i]-'a']){\n                if(i+words[m].size()<=x){\n                    long long cur=(prefHash[i+words[m].size()]-prefHash[i]+mod)%mod*inverse[i]%mod;\n                    if(cur==wordHash[m]) dp[i]=min(dp[i],costs[m]+dp[i+words[m].size()]);\n                }\n            }\n        }\n        return dp[0]<1e10?dp[0]:-1;\n    }\n};",
    "submit_ts": "1720322239",
    "subm_id": "1312344490"
}