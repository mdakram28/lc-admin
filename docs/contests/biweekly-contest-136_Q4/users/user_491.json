{
    "username": "addusirmac",
    "submission": "class Solution {\npublic:\n    //RLDU\nint dx[8]={0,0,1,-1,1,1,-1,-1};\nint dy[8]={1,-1,0,0,1,-1,-1,1};\n \nconst int N=200001;\n#define ll long long int\n#define pii pair<int,int>\n#define all(arr) arr.begin(),arr.end()\n#define fr first\n#define sc second\n#define pb push_back\n// const int INF= 1e15;\n// const int mod= 1e12+9;\nconst int mod= 1e9+7;\n    \n    vector<int> timeTaken(vector<vector<int>>& e) {\n        int n= e.size();\n        n++;\n        vector<vector<int>>g(n);\n        for(auto &vec: e){\n            int u= vec[0], v= vec[1];\n            g[u].pb(v);\n            g[v].pb(u);\n        }\n        vector<int>time(n, 0);\n        vector<int>mx(n, 0);\n        auto dfs=[&](auto self, int v, int par)->void{\n            mx[v]= 0;\n            for(auto &ch: g[v]){\n                if(ch==par)continue;\n                time[ch]+= time[v]+ (ch%2==0?2:1);\n                self(self, ch, v);\n                mx[v]= max(mx[v], mx[ch]+ (ch%2?1:2));\n            }\n\n            // cout<<v<<\" \"<<time[v]<<\" \"<<mx[v]<<endl;\n        };\n        vector<int>ans(n, 0);\n        \n        \n        auto dfs2=[&](auto self, int v, int par)->void{\n            ans[v]= mx[v];\n            \n            vector<int>pre, suff;\n            // cout<<\"mx array=>\"<<endl;\n            for(auto &ch: g[v]){\n                pre.pb(mx[ch]+(ch%2?1:2));\n                suff.pb(mx[ch]+(ch%2?1:2));\n                // cout<<ch<<\" \"<<mx[ch]<<endl;\n            }\n            // cout<<endl;\n            \n            int sz=pre.size();\n            for(int i=1; i<sz; i++){\n                pre[i]= max(pre[i], pre[i-1]);\n            }\n            for(int i=sz-2; i>=0; i--){\n                suff[i]= max(suff[i], suff[i+1]);\n            }\n        \n            // cout<<\"for v= \"<<v<<endl;\n            for(int i=0; i<sz; i++){\n                int ch= g[v][i];\n                if(ch==par)continue;\n                \n                int a= mx[v];\n                int b= mx[ch];\n                \n                int preMx= (i==0?0ll:pre[i-1]), suffMx= (i+1==sz?0ll:suff[i+1]);\n                // cout<<\" for ch= \"<<ch<<\"=>  \"<<preMx<<\" & \"<<suffMx<<endl;\n                mx[v]= max(preMx, suffMx);\n                // mx[ch]-= (ch%2?1:2);\n                mx[ch]= max(mx[ch], mx[v]+ (v%2?1:2));\n                // if(ch==3){\n                //     cout<<mx[v]<<\" \"<<mx[ch]<<endl;\n                // }\n                \n                self(self, ch, v);\n                \n                mx[v]= a;\n                mx[ch]= b;\n            }\n            // cout<<endl;\n        };\n        \n        dfs(dfs, 0, -1);\n        dfs2(dfs2, 0, -1);\n        return ans;\n    }\n};",
    "submit_ts": "1722700625",
    "subm_id": "1343247597"
}