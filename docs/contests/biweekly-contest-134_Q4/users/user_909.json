{
    "username": "vivek_1998299",
    "submission": "class Solution {\n    \n    long long getAnswer(vector<int> a, int k) {\n        if (a.size() == 0) {\n            return 0;\n        }\n        // cout << a.size() << endl;\n        int n = a.size();\n        a.insert(a.begin(), 0);\n        int pBits[n + 5][32];\n        memset(pBits, 0, sizeof(pBits));\n        \n        for (int i = 1; i <= n; i++) {\n            for (int bit = 0; bit <= 30; bit++) {\n                pBits[i][bit] = pBits[i - 1][bit] + !((a[i] >> bit) & 1);\n            }\n        }\n        long long res = 0;\n        for (int i = 1; i <= n; i++) {\n            int low = 0, high = i - 1;\n            \n            while (low <= high) {\n                int mid = (low + high) >> 1;\n                bool isSuccess = true;\n                for (int bit = 0; bit <= 30; bit++) {\n                    if ((k >> bit) & 1) {\n                        continue;\n                    }\n                    int zeroes = pBits[i][bit] - pBits[mid][bit];\n                    \n                    // if (i == 2 && bit == 0) {\n                    //     cout << zeroes << \" T \" << mid << endl;\n                    // } \n                    if (zeroes == 0) {\n                        isSuccess = false;\n                        break;\n                    }\n                }\n                if (!isSuccess) {\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n            // cout << i << \" \" << low << \" \" << a[i] << endl;\n            res += high + 1;\n        }\n        return res;\n    }\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        vector<int> curr;\n        long long res = 0;\n        for (int i = 0; i < nums.size(); i++) {\n            if ((nums[i] & k) == k) {\n                curr.push_back(nums[i]);\n            } else {\n                res += getAnswer(curr, k);\n                curr.clear();\n            }\n        }\n        res += getAnswer(curr, k);\n        return res;\n    }\n};",
    "submit_ts": "1720279108",
    "subm_id": "1311737742"
}