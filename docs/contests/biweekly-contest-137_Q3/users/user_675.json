{
    "username": "varous",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int m=board.size(),n=board[0].size();\n        vector<long long> maxi(m,LLONG_MIN);  \n        vector<vector<long long>> dp(m,vector<long long>(m,LLONG_MIN));\n        for(int i=0;i<m;++i){\n            maxi[i]=max(maxi[i],1ll*board[i][0]);\n            // cout<<i<<\" \"<<maxi[i]<<\" \"<<board[i][0]<<endl;\n        }\n        for(int i=0;i<m;++i){\n            for(int j=0;j<m;++j){\n                if(i==j)continue;\n                long long cur=board[j][1]+maxi[i];\n                dp[i][j]=max(dp[i][j],cur);\n                // cout<<i<<\" \"<<j<<\" \"<<dp[i][j]<<endl;\n            }\n        }\n        for(int i=0;i<m;++i){\n            maxi[i]=max(maxi[i],1ll*board[i][1]);\n        }\n        long long res=LLONG_MIN;\n        for(int j=2;j<n;++j){\n            // cerr<<\"hi\"<<endl;\n            multiset<long long,greater<long long>> mst;\n            for(int i=0;i<m;++i)mst.insert(board[i][j]);\n            for(int a=0;a<m;++a){\n                mst.erase(mst.find(board[a][j]));\n                for(int b=0;b<m;++b){\n                    if(b==a)continue;\n                    mst.erase(mst.find(board[b][j]));\n                    long long cand=*mst.begin()+dp[a][b];\n                    res=max(res,cand);\n                    mst.insert(board[b][j]);\n                }\n                mst.insert(board[a][j]);\n            }\n            for(int a=0;a<m;++a){\n                for(int b=0;b<m;++b){\n                    if(a==b)continue;\n                    long long cur=board[b][j]+maxi[a];\n                    dp[a][b]=max(dp[a][b],cur);\n                }\n            }\n            for(int a=0;a<m;++a)maxi[a]=max(maxi[a],1ll*board[a][j]);\n            // if(j==2){\n            //     for(int a=0;a<m;++a){\n            //         cout<<a<<\" \"<<maxi[a]<<endl;\n            //     }\n            // }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723909366",
    "subm_id": "1359189823"
}