{
    "username": "seryp",
    "submission": "class Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<vector<int>> dp(n,vector<int>(k+1,-1));\n        vector<int> max_[2];\n        dp[0][0] = 1;\n        int cur = 0;\n        max_[0] = vector<int>(k+1,0);\n        max_[1] = vector<int>(k+1,0);\n        for(int i = 1;i < n;i++){\n            dp[i][0] = 1;\n            int aim;\n            for(int j = 0;j < k;j++){\n                if(dp[max_[cur][j]][j] != -1 && nums[max_[cur][j]] != nums[i]){\n                    aim = j +1;\n                            int w = dp[max_[cur][j]][j] + 1;\n                            //printf(\"%d -- %d\\n\",i ,aim);\n                            if(dp[i][aim] == -1 || w >dp[i][aim])\n                                dp[i][aim] = w;\n                }\n            }\n            int p = i -1;\n            while(p >=0 && nums[p]!=nums[i])\n                p--;\n            if(p>=0){\n                for(int j = 0;j <=k;j++){\n                        aim = j;\n                                int w = dp[p][j] + 1;\n                                //printf(\"%d -- %d\\n\",i ,aim);\n                                if(dp[i][aim] == -1 || w >dp[i][aim])\n                                    dp[i][aim] = w;\n                    }\n\n            }\n            for(int j = 0;j <=k;j++){\n                if( dp[max_[cur][j]][j] < dp[i][j] )\n                    max_[cur][j] = i;\n            }\n        }\n        int ans = 0;\n        for(int i = 0;i < n;i++){\n            for(int x = 0;x <=k;x++){\n                if(dp[i][x] !=-1){\n                    ans = max(dp[i][x],ans);\n                }\n            }\n                \n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717861744.0
}