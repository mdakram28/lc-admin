{
    "username": "danielchandg",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n=s.size();\n        set<int> a;\n        for(int i=0; i<n; i++){\n            if(s[i] == '0') a.insert(i);\n        }\n        int ans=0;\n        for(int i=0; i<n; i++){\n            auto it = a.lower_bound(i);\n            int l=i;\n            int cnt0=0;\n            int cnt1=0;\n            while(1){\n                int r = (it == end(a) ? n-1 : (*it)-1);\n                // start i, end l to r\n                if(cnt0 * cnt0 > n-cnt0) break;\n                \n                // need (cnt0 * cnt0 - cnt1) more 1's\n                int need = cnt0 * cnt0 - cnt1;\n                // cout << \"need \" << need << endl;\n                // cout << l << \" \" << r << endl;\n                // cout << cnt0 << \", \" << cnt1 << endl;\n                \n                if(need <= 0){\n                    ans += (r-l+1);\n                    // cout << \"start \" << i << \" with \" << cnt0 << \" 0s: \" << r-l+1 << endl;\n                }\n                else{\n                    ans += max(0, (r-l+1) - need);\n                    // cout << \"start \" << i << \" with \" << cnt0 << \" 0s: \" << max(0, (r-l+1) - need) << endl;\n                }\n                \n                if(it == end(a)) break;\n                it = next(it);\n                cnt1 += max(0, (r-l));\n                if(s[l] == '1') cnt1++;\n                cnt0++;\n                l=r+1;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722135403",
    "subm_id": "1335700619"
}