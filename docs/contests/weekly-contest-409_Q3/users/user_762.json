{
    "username": "dpdpdp",
    "submission": "class Solution {\npublic:\n    #define rep(i,a,b) for(int i=(a);i<=(b);++i)\n    typedef pair<int,int> P;\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>&ask) {\n        set<P>now;\n        rep(i,0,n-2)now.insert(P(i,i+1));    \n        vector<int>ans;\n        int c=0;\n        for(auto &x:ask){\n            int u=x[0],v=x[1];\n            bool no=0;\n            while(!now.empty()){\n                auto it=now.lower_bound(P(u,v));\n                //printf(\"u2:%d v2:%d\\n\",it->first,it->second);\n                if(it!=now.begin()){\n                    auto it2=prev(it);\n                    if(it2->second>=v){\n                        no=1;\n                        break;\n                    }\n                    else if(it2->first==u && it2->first<v){\n                        now.erase(*it2);\n                        continue;\n                    }\n                }\n                if(it==now.end())break;\n                if(it->first==u && it->second>=v){\n                    no=1;\n                    break;\n                }\n                //printf(\"u:%d v:%d\\n\",it->first,it->second);\n                if(it->first>=v)break;\n                now.erase(*it);\n            }\n            if(!no)now.insert(P(u,v));\n            //c++;\n            //printf(\"c:%d\\n\",c);\n            //for(auto &z:now)printf(\"(%d,%d) \",z.first,z.second);puts(\"\");\n            ans.push_back(now.size());\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722741793",
    "subm_id": "552340499"
}