{
    "username": "dush1729",
    "submission": "#include \"bits/stdc++.h\"\nusing namespace std;\n#define ll long long\n\n#include <ext/pb_ds/assoc_container.hpp>\nusing namespace __gnu_pbds;\ntemplate<typename T> using ordered_set = tree<T, null_type, less<T>, rb_tree_tag, tree_order_statistics_node_update>;\n\nclass Solution {\npublic:\n\tvector<int> countOfPeaks(vector<int>& a, vector<vector<int>>& queries) {\n\t\tordered_set <int> p;\n\t\tint n = a.size();\n\t\tfor(int i = 1; i + 1 < n; i++) {\n\t\t\tif(a[i] > a[i - 1] && a[i] > a[i + 1]) {\n\t\t\t\tp.insert(i);\n\t\t\t}\n\t\t}\n\n\t\tvector <int> ans;\n\t\tfor(auto &q: queries) {\n\t\t\tint type = q[0];\n\t\t\tif(type == 1) {\n\t\t\t\tint l = q[1], r = q[2];\n\t\t\t\tif(r - l < 2) {\n\t\t\t\t\tans.push_back(0);\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\n\t\t\t\tint cnt = p.order_of_key(r);\n\t\t\t\tcnt -= p.order_of_key(l + 1);\n\t\t\t\tans.push_back(cnt);\n\t\t\t} else {\n\t\t\t\tint idx = q[1], val = q[2];\n\t\t\t\tfor(int i = max(0, idx - 1); i <= min(n - 2, idx + 1); i++) {\n\t\t\t\t\tif(i > 0 && i + 1 < n && a[i] > a[i - 1] && a[i] > a[i + 1]) {\n\t\t\t\t\t\tp.erase(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\ta[idx] = val;\n\t\t\t\tfor(int i = max(0, idx - 1); i <= min(n - 2, idx + 1); i++) {\n\t\t\t\t\tif(i > 0 && i + 1 < n && a[i] > a[i - 1] && a[i] > a[i + 1]) {\n\t\t\t\t\t\tp.insert(i);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\treturn ans;\n\t}\n};\n\n#ifdef DUSH1729\nint main(){cout << \"Compiled!\";}\n#endif",
    "submit_ts": "1718507040",
    "subm_id": "1289639245"
}