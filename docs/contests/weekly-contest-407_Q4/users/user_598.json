{
    "username": "goats_9",
    "submission": "class Solution {\npublic:\n    int sgn(int x) {\n        if (x > 0) return 1;\n        if (x == 0) return 0;\n        return -1;\n    }\n\n    long long minimumOperations(vector<int>& nums, vector<int>& target) {\n        long long ans = 0;\n        vector<array<int, 2>> diff(nums.size());\n        for (int i = 0; i < nums.size(); i++) diff[i] = {abs(target[i] - nums[i]), sgn(target[i] - nums[i])};\n        stack<array<int, 2>> stk;\n        for (auto [u, s] : diff) {\n            if (stk.empty()) stk.push({u, s});\n            else {\n                if (s == 0) {\n                    ans += stk.top()[0];\n                    while (!stk.empty()) stk.pop();\n                } else {\n                    if (stk.top()[1] != s) {\n                        ans += stk.top()[0];\n                        while (!stk.empty()) stk.pop();\n                        stk.push({u, s});\n                    } else {\n                        while (!stk.empty() && stk.top()[0] < u) stk.pop();\n                        if (!stk.empty()) {ans += stk.top()[0] - u; stk.pop();}\n                        stk.push({u, s});\n                    }\n                }\n            }\n        }\n        if (!stk.empty()) ans += stk.top()[0];\n        return ans;        \n    }\n};",
    "submit_ts": "1721531521",
    "subm_id": "1327963089"
}