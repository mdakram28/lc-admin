{
    "username": "dhQ9olDGkC",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& a, int k) {\n        int n = a.size();\n        vector<vector<int>> pref(n + 1, vector<int>(31, 0));\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < 31; j++) {\n                if (a[i] & (1 << j))\n                    pref[i + 1][j] = pref[i][j] + 1;\n                else\n                    pref[i + 1][j] = pref[i][j];\n            }\n        }\n        int ans = 0;\n        for (int i : a) {\n            if (i <= k) {\n                ans = max(ans, i);\n            }\n        }\n        if (ans > 0)\n            ans = k - ans;\n        else\n            ans = 1e9 + 7;\n        if (ans == 0)\n            return ans;\n        for (int i = 0; i < n; i++) {\n            if (a[i] <= k)\n                continue;\n            int lo = i, hi = n - 1;\n            while (lo <= hi) {\n                int mid = (lo + hi) / 2;\n                int f = query(i, mid, pref);\n                if (f <= k) {\n                    ans = min(ans, k - f);\n                    hi = mid - 1;\n                } else {\n                    ans = min(ans, f - k);\n                    lo = mid + 1;\n                }\n            }\n        }\n        return ans;\n    }\n    \n    int query(int l, int r, vector<vector<int>> &pref) {\n        l++; r++;\n        int res = 0;\n        for (int i = 0; i < 31; i++) {\n            if (pref[r][i] - pref[l - 1][i] == r - l + 1)\n                    res += (1 << i);\n        } \n        return res;\n    }\n};",
    "submit_ts": "1717299174",
    "subm_id": "1274803865"
}