{
    "username": "SamyakSinghania",
    "submission": "int dp[31][31][31][31];\nint dp2[31][31][31][31];\nclass Solution {\npublic:\n\n    int minimumSum(vector<vector<int>>& grid) {\n        memset(dp,-1,sizeof(dp));\n        memset(dp2,-1,sizeof(dp2));\n        int n=grid.size();\n        int m=grid[0].size();\n        for(int up=0;up<n;up++){\n            for(int down=up;down<n;down++){\n                for(int l=0;l<m;l++){\n                    for(int r=l;r<m;r++){\n                        int flag=0;\n                        int here_up=-1,here_down=-1;\n                        int mini=40,maxi=-1;\n                        for(int row=up;row<=down;row++){\n                            int here_l=-1,here_r=-1;\n                            for(int col=l;col<=r;col++){\n                                if(grid[row][col]==1){\n                                    flag=1;\n                                    if(here_l==-1)  here_l=col;\n                                    here_r=col;\n                                    if(here_up==-1) here_up=row;\n                                    here_down=row;\n                                }\n                            }\n                            if(here_l!=-1){\n                                mini=min(mini,here_l);\n                                maxi=max(maxi,here_r);\n                            }\n                        }\n                        if(flag==0) continue;\n                        dp[up][down][l][r]=(maxi-mini+1)*(here_down-here_up+1);\n                    }\n                }\n            }\n        }\n    for(int up=0;up<n;up++){\n            for(int down=up;down<n;down++){\n                for(int l=0;l<m;l++){\n                    for(int r=l;r<m;r++){\n                        for(int curr=up;curr+1<=down;curr++){\n                            if(dp[up][curr][l][r]!=-1 && dp[curr+1][down][l][r]!=-1){\n                                if(dp2[up][down][l][r]==-1) dp2[up][down][l][r]=dp[up][curr][l][r]+dp[curr+1][down][l][r];\n                                else    dp2[up][down][l][r]=min(dp2[up][down][l][r],dp[up][curr][l][r]+dp[curr+1][down][l][r]);\n                            }\n                        }\n                        for(int col=l;col+1<=r;col++){\n                            if(dp[up][down][l][col]!=-1 && dp[up][down][col+1][r]!=-1){\n                                if(dp2[up][down][l][r]==-1) dp2[up][down][l][r]=dp[up][down][l][col]+dp[up][down][col+1][r];\n                                else    dp2[up][down][l][r]=min(dp2[up][down][l][r],dp[up][down][l][col]+dp[up][down][col+1][r]);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        int res=1000;\n        for(int col=0;col+1<m;col++){\n            if(dp[0][n-1][0][col]!=-1 && dp2[0][n-1][col+1][m-1]!=-1){\n                res=min(res,dp[0][n-1][0][col]+dp2[0][n-1][col+1][m-1]);\n            }\n            if(dp2[0][n-1][0][col]!=-1 && dp[0][n-1][col+1][m-1]!=-1){\n                res=min(res,dp2[0][n-1][0][col]+dp[0][n-1][col+1][m-1]);\n            }\n        }\n        for(int row=0;row+1<n;row++){\n            if(dp[0][row][0][m-1]!=-1 && dp2[row+1][n-1][0][m-1]!=-1){\n                res=min(res,dp[0][row][0][m-1]+dp2[row+1][n-1][0][m-1]);\n            }\n            if(dp2[0][row][0][m-1]!=-1 && dp[row+1][n-1][0][m-1]!=-1){\n                res=min(res,dp2[0][row][0][m-1]+dp[row+1][n-1][0][m-1]);\n            }\n        }\n        return res;\n    }\n\n};",
    "submit_ts": 1719113030.0
}