{
    "username": "loliconsk",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size(),m = board[0].size();\n        vector<vector<int> > col_up(n,vector<int>(m)),col_down(n,vector<int>(m));\n        for(int i = 0;i<n;i++){\n            for(int j = 0;j<m;j++){\n                if(i == 0)col_up[i][j] = board[i][j],col_down[n-1][j] = board[n-1][j];\n                else col_up[i][j] = max(col_up[i-1][j],board[i][j]),\n                col_down[n-i-1][j] = max(col_down[n-i][j],board[n-i-1][j]);\n            }\n        }\n        long long ans = -0x3f3f3f3f3f3f3f3f;\n        for(int i = 1;i<n-1;i++){\n            for(int j = 0;j<m;j++){\n                vector<pair<int,int> > v1;\n                for(int l = 0;l<m;l++){\n                    if(l == j)continue;\n                    v1.push_back({col_up[i-1][l],l});\n                }\n                sort(v1.begin(),v1.end());\n                vector<pair<int,int> > v2;\n                for(int r = 0;r<m;r++){\n                    if(r == j)continue;\n                    v2.push_back({col_down[i+1][r],r});\n                }\n                sort(v2.begin(),v2.end());\n                long long u = board[i][j];\n                if(v1.back().second == v2.back().second){\n                    u = max((long long)v1.back().first+u+v2[v2.size()-2].first,(long long)v1[v1.size()-2].first+u+v2.back().first);\n                }else{\n                    u += (long long)v1.back().first+v2.back().first;\n                }\n                ans = max(ans,u);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723910246",
    "subm_id": "556340308"
}