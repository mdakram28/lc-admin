{
    "username": "suspicious-fermateio",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\nconst int N = 1e5 + 5;\nclass Solution {\npublic:\n    int t[N], n;\n    void add(int x, int val)\n    {\n        for(; x <= n; x += (x & (-x))) t[x] += val;\n    }\n    int query(int x)\n    {\n        int res = 0;\n        for(; x; x -= (x & (-x))) res += t[x];\n        return res;\n    }\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        vector <int> ans, ss;\n        n = nums.size();\n        ss.push_back(INT_MAX);\n        for(int i = 1; i <= n; i++)\n            ss.push_back(nums[i - 1]);\n        ss.push_back(INT_MAX);\n        for(int i = 1; i <= n; i++)\n        {\n            if(ss[i] > ss[i - 1] && ss[i] > ss[i + 1])\n                add(i, 1);\n        }\n        for(auto que : queries)\n        {\n            // cout << query(n) << \"\\n\";\n            int opt = que[0], x = que[1] + 1, y = que[2];\n            if(opt == 1)\n            {\n                y++;\n                int res = query(y - 1) - query(x);\n                if(y - 1 < x) res = 0;\n                ans.push_back(res);\n            }\n            else\n            {\n                for(int j = -1; j <= 1; j++)\n                    if(x + j >= 1 && x + j <= n)\n                    {\n                        int now = x + j;\n                        if(ss[now] > ss[now - 1] && ss[now] > ss[now + 1])\n                            add(now, -1);\n                    }\n                ss[x] = y;\n                for(int j = -1; j <= 1; j++)\n                    if(x + j >= 1 && x + j <= n)\n                    {\n                        int now = x + j;\n                        if(ss[now] > ss[now - 1] && ss[now] > ss[now + 1])\n                            add(now, 1);\n                    }                    \n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1718507226",
    "subm_id": "539780027"
}