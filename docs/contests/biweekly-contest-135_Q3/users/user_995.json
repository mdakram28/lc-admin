{
    "username": "time-v5",
    "submission": "class Solution {\n      public int minChanges(int[] nums, int k) {\n        int n = nums.length;\n        int[] arr = new int[100002];\n        int[] can = new int[100002];\n        for (int i = 0, j = n - 1; i < j; i++, j--) {\n            int t = Math.abs(nums[i] - nums[j]);\n            can[t]++;\n            can[t + 1]--;\n            int l = nums[i] - k, r = nums[i];\n            if (l <= 0) {\n                r = Math.max(-l, r);\n                l = 0;\n            }\n            int l2 = nums[j] - k, r2 = nums[j];\n            if (l2 <= 0) {\n                r2 = Math.max(-l2, r2);\n                l2 = 0;\n            }\n            if (r < l2 ) {\n                int a = 0, b = Math.min(k, l - 1);\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n                arr[l]++;\n                arr[r + 1]--;\n                can[l]++;\n                can[r + 1]--;\n                if (l <= t && t <= r) {\n                    arr[t]--;\n                    arr[t + 1]++;\n                    can[t]--;\n                    can[t + 1]++;\n                }\n                a = r + 1;\n                b = Math.min(k, l2 - 1);\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n                arr[l2]++;\n                arr[r2 + 1]--;\n                can[l2]++;\n                can[r2 + 1]--;\n                if (l2 <= t && t <= r2) {\n                    arr[t]--;\n                    arr[t + 1]++;\n                    can[t]--;\n                    can[t + 1]++;\n                }\n                a = r2 + 1;\n                b = k;\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]++;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n            } else if (r2 < l) {\n                int a = 0, b = Math.min(k, l2 - 1);\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n                arr[l2]++;\n                arr[r2 + 1]--;\n                can[l2]++;\n                can[r2 + 1]--;\n                if (l2 <= t && t <= r2) {\n                    arr[t]--;\n                    arr[t + 1]++;\n                    can[t]--;\n                    can[t + 1]++;\n                }\n                a = r2 + 1;\n                b = Math.min(k, l - 1);\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n                arr[l]++;\n                arr[r + 1]--;\n                can[l]++;\n                can[r + 1]--;\n                if (l <= t && t <= r) {\n                    arr[t]--;\n                    arr[t + 1]++;\n                    can[t]--;\n                    can[t + 1]++;\n                }\n                a = r + 1;\n                b = k;\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n            } else {\n                int tl = Math.min(l, l2), tr = Math.max(r, r2);\n                int a = 0, b = Math.min(k, tl - 1);\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n                arr[tl]++;\n                arr[tr + 1]--;\n                can[tl]++;\n                can[tr + 1]--;\n                if (tl <= t && t <= tr) {\n                    arr[t]--;\n                    arr[t + 1]++;\n                    can[t]--;\n                    can[t + 1]++;\n                }\n                a = tr + 1;\n                b = k;\n                if (a <= b) {\n                    arr[a] += 2;\n                    arr[b + 1] -= 2;\n                    can[a]++;\n                    can[b + 1]--;\n                    if (a <= t && t <= b) {\n                        arr[t] -= 2;\n                        arr[t + 1] += 2;\n                        can[t]--;\n                        can[t + 1]++;\n                    }\n                }\n            }\n        }\n        for (int i = 1; i <= 100000; i++) {\n            arr[i] += arr[i - 1];\n            can[i] += can[i - 1];\n        }\n        int ans = n;\n        for (int i = 0; i <= 100000; i++) {\n            if (can[i] == n / 2) {\n                ans = Math.min(ans, arr[i]);\n            }\n        }\n        return ans;\n    }\n}",
    "submit_ts": "1721489339",
    "subm_id": "548318347"
}