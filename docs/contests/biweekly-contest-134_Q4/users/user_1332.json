{
    "username": "newbie_noob",
    "submission": "class Solution {\npublic:\n    void build(int i,int l,int r,vector<int>&nums,vector<int>&seg)\n    {\n        if(l==r)\n        {\n            seg[i]=nums[l];\n            return;\n        }\n        if(l>r)return;\n        int mid=(l+r)>>1;\n        build(2*i+1,l,mid,nums,seg);\n        build(2*i+2,mid+1,r,nums,seg);\n        seg[i]=seg[2*i+1]&seg[2*i+2];\n    }\n    int query(int i,int low,int high,int l,int r,vector<int>&seg)\n    {\n        if(low>=l && high<=r)return seg[i];\n        if(low>high)return -1;\n        if(low>r || high<l)return -1;\n        int mid=(l+r)>>1;\n        int left=query(2*i+1,low,mid,l,r,seg);\n        int right=query(2*i+2,mid+1,high,l,r,seg);\n        return left&right;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        vector<int>seg(4*n+1,-1);\n        build(0,0,n-1,nums,seg);\n        long long ans=0;\n        int l=0;\n        build(0,0,n-1,nums,seg);\n        map<long long,long long>m1;\n        for(int i=0;i<n;++i)\n        {\n            long long tot=nums[i];\n            map<long long,long long>temp;\n            if(nums[i]==k)\n            {\n                ++ans;\n            }\n            temp[nums[i]]=1;\n            for(auto it:m1)\n            {\n                long long next=it.first&nums[i];\n                if(next==k)ans+=1LL*it.second;\n                temp[next]+=it.second;\n            }\n            m1=temp;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280819",
    "subm_id": "1311803168"
}