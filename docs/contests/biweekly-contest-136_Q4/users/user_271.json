{
    "username": "Farhan20",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& e) {\n        int mx = 0;\n        for(auto x : e) {\n            mx = max(mx, x[0]);\n            mx = max(mx, x[1]);\n        }\n\n        int n = mx + 1;\n        vector<int> g[n];\n        for(auto x : e) {\n            g[x[0]].push_back(x[1]);\n            g[x[1]].push_back(x[0]);\n        }\n\n        vector<int> d1(n), d2(n);\n        dfs(0, -1, d1, d2, g);\n\n        vector<int> ans(n);\n        ans[0] = d1[0];\n        dfs2(0, -1, d1, d2, g, ans);\n        return ans;\n    }\n\n    void dfs2(int node, int par, vector<int>& d1, vector<int>& d2, vector<int> g[], vector<int>& ans) {\n        for(auto child : g[node]) {\n            if(child != par) {\n                int pw = d1[child] + 1;\n                if(child % 2 == 0) pw++;\n                if(pw == d1[node]) {\n                    d1[node] = d2[node];\n                    d2[node] = 0;\n                } else if(pw == d2[node]) {\n                    d2[node] = 0;\n                }\n\n                int cw = d1[node] + 1;\n                if(node % 2 == 0) cw++;\n                if(cw >= d1[child]) {\n                    d2[child] = d1[child];\n                    d1[child] = cw;\n                } else {\n                    d2[child] = max(d2[child], cw);\n                }\n\n                ans[child] = d1[child];\n                dfs2(child, node, d1, d2, g, ans);\n                \n                pw = d1[node] + 1;\n                if(node % 2 == 0) pw++;\n                if(pw == d1[child]) {\n                    d1[child] = d2[child];\n                    d2[child] = 0;\n                } else if(pw == d2[child]) {\n                    d2[child] = 0;\n                }\n\n                cw = d1[child] + 1;\n                if(child % 2 == 0) cw++;\n                if(cw >= d1[node]) {\n                    d2[node] = d1[node];\n                    d1[node] = cw;\n                } else {\n                    d2[node] = max(d2[node], cw);\n                }\n            }\n        }\n    }\n\n    void dfs(int node, int par, vector<int>& d1, vector<int>& d2, vector<int> g[]) {\n        for(auto child : g[node]) {\n            if(child != par) {\n                dfs(child, node, d1, d2, g);\n\n                int w = 1 + d1[child];\n                if(child % 2 == 0) w++;\n                if(w >= d1[node]) {\n                    d2[node] = d1[node];\n                    d1[node] = w;\n                } else {\n                    d2[node] = max(d2[node], w);\n                }\n            }\n        }\n    }\n};",
    "submit_ts": "1722700398",
    "subm_id": "1343240711"
}