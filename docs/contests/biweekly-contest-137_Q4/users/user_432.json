{
    "username": "Manan Chhajed",
    "submission": "class Solution {\n    using ll = long long;    \npublic:\n    long long maximumValueSum(vector<vector<int>>& board) \n    {\n        ll n = board.size();\n        ll m = board[0].size();\n        \n        ll ans = -1e14;\n        // set<pair<ll, ll>> st;\n        // ll x = 5 * (n + m);\n        vector<vector<pair<ll, ll>>> v(n);\n        set<pair<ll, ll>> st2;\n        \n        for(ll i = 0; i < n; i++)\n        {\n//             for(ll j = 0; j < m; j++)\n//             {\n//                 st.insert({board[i][j], 1000 * i + j});\n                \n//                 if(st.size() > X) st.erase(st.begin());\n//             }\n            \n            set<pair<ll, ll>> st;\n            for(int j = 0; j < m; j++)\n            {\n                st.insert({board[i][j], j});\n                if(st.size() == 4) st.erase(st.begin());\n                st2.insert({board[i][j], 1000 * i + j});\n                if(st2.size() == 6) st2.erase(st2.begin());\n            }\n            for(int j = 0; j < 3; j++)\n            {\n                v[i].push_back(*st.rbegin());\n                st.erase(--st.end());\n            }\n        }\n        \n        vector<pair<ll, ll>> vv;\n        for(auto it : st2) vv.push_back(it);\n        \n        for(ll ii = 0; ii < 5; ii++) // first rook\n        {\n            ll i = vv[ii].second / 1000;\n            ll res = vv[ii].first;\n            ll bi = i, bj = vv[ii].second % 1000;\n            \n            for(ll j = 0; j < n; j++)\n            {\n                if(j == i) continue;\n                for(ll k = 0; k < n; k++)\n                {\n                    if(k == i || k == j) continue;\n                    ll bx = 2, by = 2;\n                    for(ll p = 0; p < 3; p++) if(v[j][p].second == bj) bx = p;\n                    for(ll p = 0; p < 3; p++) if(v[k][p].second == bj) by = p;\n                    \n                    // cout << \"i j k bx by \" << i << \" \" << j << \" \" << k << \" \" << bx << \" \" << by << endl;\n                    \n                    for(ll p = 0; p < 3; p++)\n                    {\n                        if(p == bx) continue;\n                        for(ll q = 0; q < 3; q++)\n                        {\n                            if(q == by) continue;\n                            // cout << \"p and q \" << p << \" \" << q << endl;\n                            auto it1 = v[j][p];\n                            auto it2 = v[k][q];\n                            // cout << it1.first << \" \" << it2.first << endl;\n                            if(it1.second != it2.second)\n                            {\n                                ans = max(ans, 1ll * res + it1.first + it2.first);\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        // cout << endl;\n        return ans;\n    }\n};",
    "submit_ts": "1723910325",
    "subm_id": "1359225962"
}