{
    "username": "Farhan20",
    "submission": "class Solution {\npublic:\n    #define ll long long\n    long long countSubarrays(vector<int>& a, int k) {\n        int n = a.size();\n        vector<vector<int>> spTable(n, vector<int>(22));\n        sparseBuild(spTable, a);\n\n        long long ans = 0;\n\n        for(int i = 0; i < n; i++) {\n            int low = 0, high = i, id = -1;\n            while(low <= high) {\n                int mid = (low + high) / 2;\n                int val = sparseQuery(spTable, mid, i);\n                if(val >= k) {\n                    id = mid;\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n\n            if(id == -1) continue;\n            if(sparseQuery(spTable, id, i) != k) continue;\n            int left = id;\n\n            low = id;\n            high = i;\n            id = -1;\n            while(low <= high) {\n                int mid = (low + high) / 2;\n                int val = sparseQuery(spTable, mid, i);\n                if(val > k) {\n                    id = mid;\n                    high = mid - 1;\n                } else {\n                    low = mid + 1;\n                }\n            }\n            if(id == -1) id = i + 1;\n            int right = id;\n\n            ans += (right - left);\n        }\n\n        return ans;\n    }\n\n    void sparseBuild(vector<vector<int>>& spTable, vector<int>& a) {\n            ll n = a.size();\n            int L = 22;\n            for(ll i = 0; i <= n - 1; i++) spTable[i][0] = a[i];\n            for(ll j = 1; j < L; j++) {\n                    for(ll i = 0; i + (1LL << j) <= (n - 1) + 1; i++) {\n                            spTable[i][j] = (spTable[i][j - 1] & spTable[i + (1LL << (j - 1))][j - 1]);\n                    }\n            }\n    }\n\n    ll lg(ll x) {\n            return (32 - __builtin_clz(x) - 1);\n    }\n\n    ll sparseQuery(vector<vector<int>>& spTable, ll l, ll r) {\n            ll k = lg(r - l + 1);\n            return (spTable[l][k] & spTable[r - (1LL << k) + 1][k]);\n    }\n};",
    "submit_ts": "1720280598",
    "subm_id": "1311795321"
}