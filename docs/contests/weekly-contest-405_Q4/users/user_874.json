{
    "username": "the_wiz",
    "submission": "class Solution {\npublic:\n\n    struct tn\n    {\n        map<char, tn*> cp;\n        vector<pair<int, int>> wp;\n    };\n\n    class tr\n    {\n        public:\n        tn* r;\n        tr()\n        {\n            r = new tn();\n        }\n        \n        void insert(string w, int idx, int ct)\n        {\n            tn* nd = r;\n            for(char c: w)\n            {\n                if (nd->cp.find(c) == nd->cp.end()) nd->cp[c] = new tn();\n                nd = nd->cp[c];\n            }\n            nd->wp.push_back(make_pair(idx, ct));\n        }\n    };\n \n    int minimumCost(string t, vector<string>& a, vector<int>& c) \n    {\n        int n = t.size(), m = a.size();\n        vector<long long> dp(n + 1, -10);\n        dp[0] = 0;\n        int sz[m];\n        tr op;\n        for(int i = 0; i < m; i++)\n        {\n            op.insert(a[i], i, c[i]);\n            sz[i] = a[i].size();\n        }\n        for(int i = 0; i < n; i++)\n        {\n            if (dp[i] != -10)\n            {\n                tn* nd = op.r;\n                for(int j = i; j < n; j++)\n                {\n                    if (nd->cp.find(t[j]) != nd->cp.end())\n                    {\n                        nd = nd->cp[t[j]];\n                        for(pair<int, int> pr: nd->wp)\n                        {\n                            if (i + sz[pr.first] <= n)\n                            {\n                                if (dp[i + sz[pr.first]] == -10) dp[i + sz[pr.first]] = dp[i] + pr.second;\n                                else dp[i + sz[pr.first]] = min(dp[i] + pr.second, dp[i + sz[pr.first]]);\n                            }\n                        }\n                    }\n                    else break;\n                }\n            }\n        }\n        // for(int i = 1; i <= n; i++) cout << dp[i] << ' ';\n        return max(-1, (int) dp[n]);\n    }\n};",
    "submit_ts": "1720323004",
    "subm_id": "1312364856"
}