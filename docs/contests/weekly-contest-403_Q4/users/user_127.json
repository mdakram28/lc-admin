{
    "username": "yc-li",
    "submission": "class Solution:\n    def minimumSum(self, g: List[List[int]]) -> int:\n        n = len(g)\n        m = len(g[0])\n        \n        @cache\n        def U(i, j, k, l):\n            if i > k or j > l:\n                return inf\n            \n            if g[i][j] == 1:\n                return i\n            \n            return min(U(i + 1, j, k, l), U(i, j + 1, k, l))\n        \n        @cache\n        def B(i, j, k, l):\n            if i > k or j > l:\n                return -inf\n            \n            if g[k][l] == 1:\n                return k\n            \n            return max(B(i, j, k - 1, l), B(i, j, k, l - 1))\n        \n        @cache\n        def L(i, j, k, l):\n            if i > k or j > l:\n                return inf\n            \n            if g[i][j] == 1:\n                return j\n            \n            return min(L(i + 1, j, k, l), L(i, j + 1, k, l))\n        \n        @cache\n        def R(i, j, k, l):\n            if i > k or j > l:\n                return -inf\n            \n            if g[k][l] == 1:\n                return l\n            \n            return max(R(i, j, k - 1, l), R(i, j, k, l - 1))\n        \n        \n        \n        \n        \n        # for i in range(n):\n        #     for j in range(m):\n        #         print(i, j, U(0, 0, i, j), B(0, 0, i, j), L(0, 0, i, j), R(0, 0, i, j))\n        \n        \n        \n        def div(i, j, k, l, c):\n            ans = inf\n            \n            if c == 1:\n                ans = (R(i, j, k, l) + 1 - L(i, j, k, l)) * (B(i, j, k, l) + 1 - U(i, j, k, l))\n                if ans == inf or ans == -inf:\n                    return 1\n                \n                return ans\n            \n            \n            if c == 2:\n                for x in range(i, k):\n                    ans = min(ans, div(i, j, x, l, 1) + div(x + 1, j, k, l, 1) )\n                \n                for y in range(j, l):\n                    ans = min(ans, div(i, j, k, y, 1) + div(i, y + 1, k, l, 1) )\n                \n                # if ans == inf:\n                #     print(i, j, k, l, c, \"INF!\")\n                \n                return ans\n        \n            if c == 3:\n                for x in range(i, k):\n                    ans = min(ans, div(i, j, x, l, 1) + div(x + 1, j, k, l, 2) )\n                    ans = min(ans, div(i, j, x, l, 2) + div(x + 1, j, k, l, 1) )\n                \n                for y in range(j, l):\n                    ans = min(ans, div(i, j, k, y, 1) + div(i, y + 1, k, l, 2) )\n                    ans = min(ans, div(i, j, k, y, 2) + div(i, y + 1, k, l, 1) )\n                \n                return ans\n                    \n            \n        \n        return div(0, 0, n - 1, m - 1, 3)\n        ",
    "submit_ts": 1719112831.0
}