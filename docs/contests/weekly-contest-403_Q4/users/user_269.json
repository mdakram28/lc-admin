{
    "username": "tang-yuan-yuan-bu-yuan",
    "submission": "class Solution {\n    int n, m;\n    int dp[31][31][31][31][3];\n    array<int, 4> f[31][31][31][31];\n    int g[31][31][31][31];\n    int dfs(int x1, int y1, int x2, int y2, int k){\n        if(!k) return g[x1][y1][x2][y2];\n        if(dp[x1][y1][x2][y2][k] != -1) return dp[x1][y1][x2][y2][k];\n        dp[x1][y1][x2][y2][k] = 1e9;\n        for(int i = x1; i < x2; i ++ ){\n            if(k == 2) {\n                dp[x1][y1][x2][y2][k] = min(dp[x1][y1][x2][y2][k], dfs(f[x1][y1][i][y2][0], f[x1][y1][i][y2][1], f[x1][y1][i][y2][2], f[x1][y1][i][y2][3], 0) + dfs(f[i + 1][y1][x2][y2][0], f[i + 1][y1][x2][y2][1], f[i + 1][y1][x2][y2][2], f[i + 1][y1][x2][y2][3], 1));\n                dp[x1][y1][x2][y2][k] = min(dp[x1][y1][x2][y2][k], dfs(f[x1][y1][i][y2][0], f[x1][y1][i][y2][1], f[x1][y1][i][y2][2], f[x1][y1][i][y2][3], 1) + dfs(f[i + 1][y1][x2][y2][0], f[i + 1][y1][x2][y2][1], f[i + 1][y1][x2][y2][2], f[i + 1][y1][x2][y2][3], 0));\n            }\n            else{\n                dp[x1][y1][x2][y2][k] = min(dp[x1][y1][x2][y2][k], dfs(f[x1][y1][i][y2][0], f[x1][y1][i][y2][1], f[x1][y1][i][y2][2], f[x1][y1][i][y2][3], 0) + dfs(f[i + 1][y1][x2][y2][0], f[i + 1][y1][x2][y2][1], f[i + 1][y1][x2][y2][2], f[i + 1][y1][x2][y2][3], 0));\n            }\n        }\n        for(int i = y1; i < y2; i ++ ){\n            if(k == 2){\n                dp[x1][y1][x2][y2][k] = min(dp[x1][y1][x2][y2][k], dfs(f[x1][y1][x2][i][0], f[x1][y1][x2][i][1], f[x1][y1][x2][i][2], f[x1][y1][x2][i][3], 1) + dfs(f[x1][i + 1][x2][y2][0], f[x1][i + 1][x2][y2][1], f[x1][i + 1][x2][y2][2], f[x1][i + 1][x2][y2][3], 0)); \n                dp[x1][y1][x2][y2][k] = min(dp[x1][y1][x2][y2][k], dfs(f[x1][y1][x2][i][0], f[x1][y1][x2][i][1], f[x1][y1][x2][i][2], f[x1][y1][x2][i][3], 0) + dfs(f[x1][i + 1][x2][y2][0], f[x1][i + 1][x2][y2][1], f[x1][i + 1][x2][y2][2], f[x1][i + 1][x2][y2][3], 1)); \n            }\n            else{\n                // if(x1 == 0 && y1 == 0 && x2 == 1 && y2 == 1) cout << f[x1][y1][x2][i][0] << ' ' <<  f[x1][y1][x2][i][1] << ' ' <<  f[x1][y1][x2][i][2] << ' ' << f[x1][y1][x2][i][3] << '\\n';\n                dp[x1][y1][x2][y2][k] = min(dp[x1][y1][x2][y2][k], dfs(f[x1][y1][x2][i][0], f[x1][y1][x2][i][1], f[x1][y1][x2][i][2], f[x1][y1][x2][i][3], 0) + dfs(f[x1][i + 1][x2][y2][0], f[x1][i + 1][x2][y2][1], f[x1][i + 1][x2][y2][2], f[x1][i + 1][x2][y2][3], 0));\n            }\n        }\n        return dp[x1][y1][x2][y2][k];\n    }\npublic:\n    int minimumSum(vector<vector<int>>& a) {\n        n = a.size(), m = a[0].size();\n\n        for(int i = 0; i < n; i ++ ){\n            for(int j = 0; j < m; j ++ ){\n                for(int k = i; k < n; k ++ ){\n                    for(int e = j; e < m; e ++ ){\n                        int c1 = 1e9, c2 = -1e9, c3 = 1e9, c4 = -1e9;\n                        int cnt = 0;\n                        for(int l = i; l <= k; l ++ ){\n                            for(int r = j; r <= e; r ++ ){\n                                if(a[l][r] == 1){\n                                    c1 = min(c1, r);\n                                    c2 = max(c2, r);\n                                    c3 = min(c3, l);\n                                    c4 = max(c4, l);\n                                    cnt ++;\n                                }\n                            }\n                        }\n                        if(!cnt) f[i][j][k][e] = {0, 0, 0, 0};\n                        else{\n                             f[i][j][k][e] = {c3, c1, c4, c2};\n                            g[i][j][k][e] = (c2 - c1 + 1) * (c4 - c3 + 1);\n                        }\n                        // if(i == 0 && j == 0 && k == 1 && e == 0) cout << c3 << ' ' << c4 << ' ' << c1 << ' ' << c2 << ' ' << cnt << '\\n';\n                    }\n                }\n            }\n        }\n\n        memset(dp, -1, sizeof dp);\n        return dfs(0, 0, n - 1, m - 1, 2);\n         cout << dfs(0, 0, 1, 1, 1) << '\\n';\n        //  cout << g[0][0][1][0] << '\\n';\n        return 0;\n    }\n};",
    "submit_ts": 1719114006.0
}