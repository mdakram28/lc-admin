{
    "username": "ofgs1",
    "submission": "impl Solution {\n\n    pub fn time_taken(edges: Vec<Vec<i32>>) -> Vec<i32> {\n        let n = edges.len()+1;\n        let mut ed = vec![vec![]; n];\n        for e in edges {\n            ed[e[0] as usize].push(e[1] as usize);\n            ed[e[1] as usize].push(e[0] as usize);\n        }\n        fn dfs(p: usize, c: usize, sp: i32, ed: &Vec<Vec<usize>>, cost: &mut Vec<i32>) {\n            let mut x = 0;\n            for &sub in &ed[c] {\n                if sub == p {\n                    continue;\n                }\n                let mut a = 2-(sub&1) as i32;\n                dfs(c, sub, sp+a, ed, cost);\n                x = (a+cost[sub]).max(x);\n            }\n            cost[c] = x;\n        }\n        fn f(p: usize, c: usize, sp: i32, ed: &Vec<Vec<usize>>, cost: &Vec<i32>, ans: &mut Vec<i32>) {\n            let mut x = 0;\n            let mut mx = vec![(sp, p)];\n            for &sub in &ed[c] {\n                if sub == p {\n                    continue;\n                }\n                let a = 2-(sub&1) as i32;\n                let t = cost[sub] + a;\n                if t >= mx[0].0 {\n                    mx.insert(0, (t, sub));\n                } else if mx.len() > 1 && t > mx[1].0 {\n                    mx[1] = (t, sub);\n                }\n                if mx.len() > 2 {\n                    mx.pop();\n                }\n            }\n            ans[c] = mx[0].0;\n            let a = 2-(c&1) as i32;\n            for &sub in &ed[c] {\n                if sub == p {\n                    continue;\n                }\n                let mut sp = mx[0].0;\n                if sub == mx[0].1 {\n                    sp = mx[1].0;\n                }\n                f(c, sub, sp+a, ed, cost, ans);\n            }\n        }\n        let mut cost = vec![0; n];\n        dfs(n, 0, 0, &ed, &mut cost);\n        // println!(\"{:?}\", cost);\n        let mut ans = vec![0; n];\n        f(n, 0, 0, &ed, &cost, &mut ans);\n        ans\n    }\n}",
    "submit_ts": "1722699488",
    "subm_id": "552275882"
}