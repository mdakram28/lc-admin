{
    "username": "a0920732333",
    "submission": "class Solution \n{\npublic:\n    int maximumLength(vector<int>& nums, int k) \n    {\n        int n = nums.size(), ans = 1;\n        vector<priority_queue<pair<int, int>>> vpq(k + 1);\n        vector<unordered_map<int, int>> vum(k + 1);\n        vpq[0].push({1, nums[0]});\n        vum[0][nums[0]]++;\n        for(int i = 1; i < n; i++)\n        {\n            for(int j = k; j >= 0; j--)\n            {\n                // cout << \"j = \" << j << '\\n';\n                if(vpq[j].empty())\n                {\n                    continue;\n                }\n                if(vpq[j].top().second != nums[i] && j < k)\n                {\n                    int cnt = vpq[j].top().first + 1;\n                    vpq[j + 1].push({cnt, nums[i]});\n                    vum[j + 1][nums[i]] = max(vum[j + 1][nums[i]], cnt);\n                    // cout << \"cnt = \" << cnt << \", nums[i] = \" << nums[i] << '\\n';\n                    ans = max(ans, cnt);\n                }\n                vum[j][nums[i]]++;\n                vpq[j].push({vum[j][nums[i]], nums[i]});\n                // cout << \"vum[j][nums[i]] = \" << vum[j][nums[i]] << \", nums[i] = \" << nums[i] << '\\n';\n                ans = max(ans, vum[j][nums[i]]);\n            }\n        }\n        // for(int i = 0; i <= k; i++)\n        // {\n        //     while(!vpq[i].empty())\n        //     {\n        //         cout << vpq[i].top().first << ',' << vpq[i].top().second << ' ';\n        //         vpq[i].pop();\n        //     }\n        //     cout << '\\n';\n        // }\n        // cout << \"----------------------------------------------\\n\";\n        return ans;\n    }\n};",
    "submit_ts": 1717860843.0
}