{
    "username": "sfburui",
    "submission": "class Solution {\npublic:\n    int maxTotalReward(vector<int>& rewardValues) {\n        std::sort(rewardValues.begin(), rewardValues.end());\n\n        // \u4f7f\u7528 unique \u51fd\u6570\u79fb\u9664\u91cd\u590d\u5143\u7d20\n        auto it = std::unique(rewardValues.begin(), rewardValues.end());\n\n        // \u4f7f\u7528 erase \u51fd\u6570\u79fb\u9664\u591a\u4f59\u7684\u5143\u7d20\n        rewardValues.erase(it, rewardValues.end());\n        int maxValue = rewardValues.back();\n        vector<bool> vis(maxValue * 2 + 1, false);\n        for(int& v: rewardValues)\n        {\n            vis[v] = true;\n        }\n        int maxAns = maxValue;\n        unordered_map<int, bool> okMap;\n        for(int& v: rewardValues)\n        {\n            okMap[v] = true;\n        }\n        function<bool(int)> ok = [&](int k) -> bool {\n            if (okMap.find(k) != okMap.end())\n            {\n                return okMap[k];\n            }\n            if (vis[k])\n            {\n                okMap[k] = true;\n                return okMap[k];\n            }\n            auto it = lower_bound(rewardValues.begin(), rewardValues.end(), k) - rewardValues.begin();\n            it--;\n            while(it >= 0)\n            {\n                int v = rewardValues[it];\n                if (v + v - 1 < k)\n                {\n                    break;\n                }\n                if (ok(k - v))\n                {\n                    okMap[k] = true;\n                    return okMap[k];\n                }\n                it--;\n            }\n            return false;\n        };\n        for(int i = rewardValues.size() - 1; i >= 0; i--)\n        {\n            int v = rewardValues[i];\n            if (v * 2 - 1 < maxAns)\n            {\n                break;\n            }\n            int h = v - 1;\n            while(h > 0)\n            {\n                if (ok(h))\n                {\n                    vis[h + v] = true;\n                    maxAns = max(maxAns, h + v);\n                }\n                h--;\n            }\n        }\n        return maxAns;\n    }\n};",
    "submit_ts": "1717904731",
    "subm_id": "1282370250"
}