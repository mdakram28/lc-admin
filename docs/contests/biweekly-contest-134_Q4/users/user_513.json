{
    "username": "utsav_kasvala",
    "submission": "class Solution {\npublic:\n    int st[400010];\n    int arr[100003];\n\n    void buildtree(int si,int ss,int se){\n    if(se==ss){\n         st[si]=arr[ss];\n    return;\n    }\n    int mid=(ss+se)/2;\n     \n     \n    buildtree(2*si,ss,mid);\n    buildtree(2*si+1,mid+1,se);\n     \n    st[si]=(st[2*si]&st[2*si+1]);\n    }\n\n\nconst int INF=INT_MAX;\nint query(int si,int ss,int se,long long qs,long long qe){\n    if(se<qs || ss>qe ){  // completely outside\n        return INF;\n    }\n    if(ss>=qs && se<=qe){  //comletely inside\n        return st[si];       // yaad rakhlo\n    }\n    int  mid=(se+ss)/2;\n    \n    int l=query(2*si,ss,mid,qs,qe);\n    int r=query(2*si+1,mid+1,se,qs,qe);\n    \n    return (l&r);\n    \n    \n}\n    long long countSubarrays(vector<int>& nums, int k) {\n        // 2 binary search\n        int n=nums.size();\n        for(int i=0;i<n;i++){\n           arr[i+1]=nums[i];\n        }\n        buildtree(1,1,n);\n        long long cnt=0;\n        for(int i=1;i<=n;i++){\n            long long l1=1,h1=i,ans1=1;\n            while(h1>=l1){\n                int mid=(h1+l1)/2;\n                if(query(1,1,n,mid,i)>=k){\n                   ans1=mid;\n                   h1=mid-1;\n                }\n                else{\n                  l1=mid+1;\n                }\n            }\n            \n            long long l2=1,h2=i,ans2=1;\n            while(h2>=l2){\n                int mid=(h2+l2)/2;\n                if(query(1,1,n,mid,i)>k){\n                   h2=mid-1;\n                }\n                else{\n                  ans2=mid;\n                  l2=mid+1;\n                }\n            }\n            \n            if(query(1,1,n,ans1,i)==k && query(1,1,n,ans1,i)==k){\n               cnt+=(ans2-ans1)+1;\n            }\n            // cout<<ans1<<\" \"<<i<<\"\\n\";\n            // cout<<ans2<<\" \"<<i<<\"\\n\";\n            \n        }\n        //cout<<\"\\n\";\n        \n        return cnt;\n        \n        \n    }\n};",
    "submit_ts": "1720279160",
    "subm_id": "1311739957"
}