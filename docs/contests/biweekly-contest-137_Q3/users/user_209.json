{
    "username": "\u70c1",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& a) {\n        int n=a.size(),m=a[0].size();\n        //\u4e0a\u4e0b\u5de6\u53f3\n        int left[n][m],right[n][m],top[n][m],down[n][m];\n        for(int i=0;i<n;i++)\n        {\n            left[i][0]=a[i][0];\n            for(int j=1;j<m;j++)\n            {\n                left[i][j]=max(left[i][j-1],a[i][j]);\n            }\n        }\n        for(int i=0;i<n;i++)\n        {\n            right[i][m-1]=a[i][m-1];\n            for(int j=m-2;j>=0;j--)\n            {\n                right[i][j]=max(right[i][j+1],a[i][j]);\n            }\n        }\n        for(int j=0;j<m;j++)\n        {\n            top[0][j]=a[0][j];\n            for(int i=1;i<n;i++)\n                top[i][j]=max(top[i-1][j],a[i][j]);\n        }\n        for(int j=0;j<m;j++)\n        {\n            down[n-1][j]=a[n-1][j];\n            for(int i=n-2;i>=0;i--)\n                down[i][j]=max(down[i+1][j],a[i][j]);\n        }\n        \n        \n        //\u5de6\u4e0a  \u53f3\u4e0a  \u5de6\u4e0b  \u53f3\u4e0b\n        int lt[n][m],rt[n][m],ld[n][m],rd[n][m];\n        for(int i=0;i<n;i++)\n        {\n            for(int j=0;j<m;j++)\n            {\n                if(i==0) lt[i][j]=left[i][j];\n                else if(j==0) lt[i][j]=top[i][j];\n                else\n                {\n                    lt[i][j]=max(lt[i-1][j],lt[i][j-1]);\n                    lt[i][j]=max(lt[i][j],a[i][j]);\n                }\n            }\n        }\n        \n        for(int i=0;i<n;i++)\n        {\n            for(int j=m-1;j>=0;j--)\n            {\n                if(i==0) rt[i][j]=right[i][j];\n                else if(j==m-1) rt[i][j]=top[i][j];\n                else\n                {\n                    rt[i][j]=max(rt[i][j+1],rt[i-1][j]);\n                    rt[i][j]=max(rt[i][j],a[i][j]);\n                }\n            }\n        }\n        \n        for(int j=0;j<m;j++)\n        {\n            for(int i=n-1;i>=0;i--)\n            {\n                if(i==n-1) ld[i][j]=left[i][j];\n                else if(j==0) ld[i][j]=down[i][j];\n                else\n                {\n                    ld[i][j]=max(ld[i+1][j],ld[i][j-1]);\n                    ld[i][j]=max(ld[i][j],a[i][j]);\n                }\n            }\n        }\n        \n        for(int j=m-1;j>=0;j--)\n        {\n            for(int i=n-1;i>=0;i--)\n            {\n                if(i==n-1) rd[i][j]=right[i][j];\n                else if(j==m-1) rd[i][j]=down[i][j];\n                else\n                {\n                    rd[i][j]=max(rd[i+1][j],rd[i][j+1]);\n                    rd[i][j]=max(rd[i][j],a[i][j]);\n                }\n            }\n        }\n        \n        long long ans=-1e18;\n        for(int i=1;i<n-1;i++)\n        {\n            for(int j=1;j<m-1;j++)\n            {\n                //case 1\n                ans=max(ans,(long long)a[i][j]+lt[i-1][j-1]+rd[i+1][j+1]);\n                //case 2\n                ans=max(ans,(long long)a[i][j]+ld[i+1][j-1]+rt[i-1][j+1]);\n                \n                //case3\n                ans=max(ans,(long long)lt[i-1][j-1]+right[i][j+1]+down[i+1][j]);\n                //4\n                ans=max(ans,(long long)left[i][j-1]+top[i-1][j]+rd[i+1][j+1]);\n                \n                //5\n                ans=max(ans,(long long)top[i-1][j]+right[i][j+1]+ld[i+1][j-1]);\n                \n                ans=max(ans,(long long)left[i][j-1]+down[i+1][j]+rt[i-1][j+1]);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723908390",
    "subm_id": "556330731"
}