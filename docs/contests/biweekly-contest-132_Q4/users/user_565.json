{
    "username": "Kishan_143",
    "submission": "class Solution {\n    public int maximumLength(int[] nums, int k) {\n        int n = nums.length;\n        int[] x = new int[n];\n \n        Map<Integer,Integer> mp = new HashMap();\n        for(int i=0;i<n;i++) x[i] = nums[i];\n        Arrays.sort(x);\n        \n        int j = 0;\n        mp.put(x[0],j);\n        j++;\n        for(int i=1;i<n;i++) {\n            if(x[i] != x[i-1]) {\n                mp.put(x[i],j);\n                j++;\n            }\n        }        \n        \n        int[][] dp = new int[k+1][j];\n        int[] dp1 = new int[j];\n        int[] dp2 = new int[k+1];\n        for(int i=1;i<=k;i++) {\n            for(int i1=0;i1<j;i1++) {\n                dp[i][i1] = 0;\n                dp1[i1] = 0;\n            }\n            dp2[i]=0;\n        }\n        dp[0][mp.get(nums[0])] = 1;\n        dp2[0] = 1;\n        \n        int maxK = 0;\n        for(int i=1;i<n;i++) {\n            int i3 = mp.get(nums[i]);\n            for(int i2=k;i2>=0;i2--) {\n                dp[i2][i3] = Math.max(dp[i2][i3],dp[i2][i3]+1);\n            }\n            for(int i2=k-1;i2>=0;i2--) {\n                dp[i2+1][i3] = Math.max(dp[i2+1][i3],dp2[i2]+1);\n                dp2[i2+1] = Math.max(dp[i2+1][i3],dp2[i2+1]);\n            }\n            for(int i2=k;i2>=0;i2--) {\n                dp2[i2] = Math.max(dp[i2][i3],dp2[i2]);\n            }\n\n            /*\n            for(int i1=0;i1<j;i1++) {\n                if(i1!=i3) {\n                    for(int i2=Math.min(dp1[i1],k-1);i2>=0;i2--) {\n                        dp[i2+1][i3] = Math.max(dp[i2+1][i3],dp[i2][i1]+1);\n                    }\n                    dp1[i3] = Math.max(Math.min(dp1[i1]+1,k),dp1[i3]);\n                    \n                }\n            }\n\n            \n            /*System.out.println(\" for i = \" + i);\n            \n            for(int i1=0;i1<=k;i1++) {\n                for(int i2=0;i2<j;i2++) {\n                    System.out.print(dp[i1][i2] + \" \");\n                }\n                System.out.println();\n            }*/\n        }\n        \n        int ma = 0;\n        for(int i=0;i<=k;i++) {\n            for(int i1=0;i1<j;i1++) {\n                ma = Math.max(ma,dp[i][i1]);  \n            }\n        }\n        return ma;\n    }\n}",
    "submit_ts": 1717862157.0
}