{
    "username": "Ma_Lin",
    "submission": "class Solution {\npublic:\n    vector<vector<long long> > up;\n    long long maximumScore(vector<vector<int>>& a) {\n        long long f[2][105][105], v, d, d2, yh[105];\n        int i, j, k, h, q, p, col, n = a.size(), old, now = 0;\n        up.clear();\n        for (i = 0; i < n; ++i) up.push_back(vector<long long>(n, 0));\n        for (j = 0; j < n; ++j) up[0][j] = a[0][j];\n        for (j = 0; j < n; ++j)\n            for (i = 1; i < n; ++i)\n                up[i][j] = up[i - 1][j] + a[i][j];\n        \n        if (n == 1) return 0;\n        for (j = 0; j <= n; ++j)\n            for (k = 0; k <= n; ++k)\n                f[now][j][k] = 0;\n        \n        for (col = 1; col < n; ++col){\n            old = now;\n            now = 1 - now;\n            for (j = 0; j <= n; ++j)\n                for (k = 0; k <= n; ++k)\n                    f[now][j][k] = 0;\n            \n            for (j = 0; j <= n; ++j){\n                yh[j] = 0;\n                for (k = 0; k <= j; ++k)\n                    yh[j] = max(yh[j], f[old][j][k]);\n            }\n            \n            for (i = 0; i <= n; ++i){\n                for (j = 0; j <= n; ++j){\n                    d = 0;\n                    if (j > i){\n                        d += up[j - 1][col];\n                        if (i - 1 >= 0) d -= up[i - 1][col];\n                    }\n                    \n                    d2 = 0;\n                    if (i > j){\n                        d2 += up[i - 1][col - 1];\n                        if (j - 1 >= 0) d2 -= up[j - 1][col - 1];\n                    }\n                    \n                    f[now][i][j] = max(f[now][i][j], yh[j] + d + d2);\n                    for (k = j + 1; k <= n; ++k)\n                        if (f[old][j][k] != -1){\n                            v = f[old][j][k] + d;\n                            if (i > k){\n                                v += up[i - 1][col - 1];\n                                if (k - 1 >= 0) v -= up[k - 1][col - 1];\n                            }\n                            \n                            f[now][i][j] = max(f[now][i][j], v);\n                        }\n                }\n            }\n        }\n        \n        long long res = 0;\n        for (j = 0; j <= n; ++j)\n            for (k = 0; k <= n; ++k)\n                res = max(res, f[now][j][k]);\n        \n        return res;\n    }\n};",
    "submit_ts": "1721490259",
    "subm_id": "1327477582"
}