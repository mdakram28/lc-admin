{
    "username": "0222_",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& g) {\n        int n = g.size(), m = g[0].size(), ans = 0;\n        for (int i = 1; i * 2 <= n; i++) for (int j = 1; j * 2 <= m; j++) {\n            int x = i - 1, y = j - 1;\n            int cnt = g[x][y] + g[n - 1 - x][y] + g[x][m - 1 - y] + g[n - 1 - x][m - 1 - y];\n            ans += min(cnt, 4 - cnt);\n        }\n        int cnt = 0, tol = 0;\n        if (n % 2) {\n            int x = n / 2;\n            for (int j = 1; j * 2 <= m; j++) {\n                int y = j - 1;\n                cnt += (g[x][y] != g[x][m - 1 - y]);\n                tol += g[x][y] + g[x][m - 1 - y];\n            }            \n        }\n        if (m % 2) {\n            int y = m / 2;\n            for (int i = 1; i * 2 <= n; i++) {\n                int x = i - 1;\n                // cout << \"x= \" << x << '\\n';\n                cnt += (g[x][y] != g[n - 1 - x][y]);\n                tol += g[x][y] + g[n - 1 - x][y];                \n            }\n        }\n        if (n % 2 && m % 2) tol += g[n / 2][m / 2];\n        // cout << \"ans= \" << ans << \", cnt= \" << cnt << \", tol= \" << tol << '\\n';\n        ans += cnt;\n        vector<int> f(4, 0);\n        for (int k = cnt; k >= 0; k -= 2) {\n            int d = ((tol + k) % 4 + 4) % 4;\n            f[d] = 1;\n            d = ((tol - k) % 4 + 4) % 4;\n            f[d] = 1;\n        } \n        if (f[0]) return ans;\n        if (f[1]) return ans + 1;\n        if (f[2]) return ans + 2;\n        if (f[3]) return ans + 3;\n        return -1;\n    }\n};",
    "submit_ts": "1722698099",
    "subm_id": "552269330"
}