{
    "username": "Assassin-Killer",
    "submission": "import java.util.TreeMap;\n\nclass Solution {\n    public int[] shortestDistanceAfterQueries(int n, int[][] queries) {\n        int cur = n - 1;\n        int[] ans = new int[queries.length];\n        int id = 0;\n        TreeMap<Integer, Integer> map = new TreeMap<>();\n        for (int[] q : queries) {\n            int x = q[0], y = q[1];\n            while (true) {\n                Integer t1 = map.floorKey(x);\n                Integer t2 = map.ceilingKey(x);\n                if (t1 == null && t2 == null) {\n                    map.put(x, y);\n                    cur -= (y - x - 1);\n                    break;\n                } else if (t1 == null) {\n                    int k2 = map.get(t2);\n                    if (y <= t2) {\n                        map.put(x, y);\n                        cur -= (y - x - 1);\n                        break;\n                    } else {\n                        y = Math.max(k2, y);\n                        cur += (k2 - t2 - 1);\n                        map.remove(t2);\n                    }\n                } else if (t2 == null) {\n                    int k1 = map.get(t1);\n                    if (x >= k1) {\n                        map.put(x, y);\n                        cur -= (y - x - 1);\n                        break;\n                    } else {\n                        x = t1;\n                        y = Math.max(y, k1);\n                        cur += k1 - t1 - 1;\n                        map.remove(t1);\n                    }\n                } else {\n                    int k1 = map.get(t1);\n                    int k2 = map.get(t2);\n                    if (x < k1) {\n                        x = t1;\n                        y = Math.max(y, k1);\n                        map.remove(t1);\n                        cur += k1 - t1 - 1;\n                    } else if (y > t2) {\n                        y = Math.max(k2, y);\n                        cur += k2 - t2 - 1;\n                        map.remove(t2);\n                    } else {\n                        map.put(x, y);\n                        cur -= (y - x - 1);\n                        break;\n                    }\n                }\n            }\n            ans[id++] = cur;\n        }\n        return ans;\n    }\n}",
    "submit_ts": "1722741547",
    "subm_id": "552338896"
}