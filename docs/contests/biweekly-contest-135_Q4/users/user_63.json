{
    "username": "e9ae9933",
    "submission": "typedef long long ll;\nll a[110][110];\nll f[110][110][110];\nll s[110][110];\ninline ll seg2(int i,int l,int r)\n{\n    return s[i][r]-s[i][l-1];\n}\n#define seg(i,l,r) (s[i][r]-s[i][l-1])\ninline ll solve(const int gridsize)\n{\n    for(int i=1;i<=gridsize;i++)\n        for(int j=1;j<=gridsize;j++)\n            s[i][j]=s[i][j-1]+a[i][j];\n    for(int j=0;j<=gridsize;j++)\n        memset(f[0][j],0xc0,sizeof(ll)*(gridsize+1));\n    f[0][0][0]=0;\n    for(int i=1;i<=gridsize;i++)\n        for(int k=0;k<=gridsize;k++)\n            for(int j=0;j<=gridsize;j++)\n                if(k>j)\n                {\n                    ll now=0;\n                    for(int l=0;l<=gridsize;l++)\n                        now=max(now,f[i-1][k][l]+seg(i,j+1,k));\n                    f[i][j][k]=now;\n                }\n                else if(k==j)\n                {\n                    ll now=0;\n                    for(int l=0;l<=k;l++)\n                        now=max(now,f[i-1][k][l]);\n                    for(int l=max(k+1,j);l<=gridsize;l++)\n                        now=max(now,f[i-1][k][l]);\n                    f[i][j][k]=now;\n                }\n                else\n                {\n                    ll now=0;\n                    for(int l=0;l<=k;l++)\n                        now=max(now,f[i-1][k][l]+seg(i-1,k+1,j));\n                    for(int l=k+1;l<j;l++)\n                        now=max(now,f[i-1][k][l]+seg(i-1,l+1,j));\n                    for(int l=max(k+1,j);l<=gridsize;l++)\n                        now=max(now,f[i-1][k][l]);\n                    f[i][j][k]=now;\n                }\n    ll rt=0;\n    for(int j=0;j<=gridsize;j++)\n        for(int k=0;k<=gridsize;k++)\n            rt=max(rt,f[gridsize][j][k]);\n    return rt;\n}\nclass Solution {\npublic:\n    long long maximumScore(vector<vector<int>>& grid) {\n        for(int i=0;i<grid.size();i++)\n            for(int j=0;j<grid.size();j++)\n                a[j+1][i+1]=grid[i][j];\n        return solve(grid.size());\n    }\n};",
    "submit_ts": "1721490331",
    "subm_id": "548322472"
}