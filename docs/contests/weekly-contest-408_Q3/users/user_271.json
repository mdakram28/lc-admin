{
    "username": "AndyLead",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n = s.size();\n        vector<int> counts;\n        for(auto c : s) {\n            if(c == '0') counts.push_back(0);\n            else {\n                if(counts.empty() or counts.back() == 0) counts.push_back(1);\n                else counts.back()++;\n            }\n        }\n\n        int result = 0;\n        for(int i = 0; i < counts.size(); i++) {\n            if(counts[i]) for(int taken = 1; taken <= counts[i]; taken++) {\n                int zeros = 0, ones = taken;\n                result += taken;\n                for(int j = i + 1; j < counts.size(); j++) {\n                    int curr = counts[j];\n                    if(curr) {\n                        if(zeros * zeros <= ones) result += curr;\n                        else result += max(0, ones + curr - zeros * zeros + 1);\n                        ones += curr;\n                    } else {\n                        zeros++;\n                        if(zeros * (zeros + 1) > n) break;\n                        result += (zeros * zeros <= ones);\n                    }\n                }\n            } else {\n                int zeros = 1, ones = 0;\n                for(int j = i + 1; j < counts.size(); j++) {\n                    int curr = counts[j];\n                    if(curr) {\n                        if(zeros * zeros <= ones) result += curr;\n                        else result += max(0, ones + curr - zeros * zeros + 1);\n                        ones += curr;\n                    } else {\n                        zeros++;\n                        if(zeros * (zeros + 1) > n) break;\n                        result += (zeros * zeros <= ones);\n                    }\n                }\n            }\n        }\n        return result;\n    }\n};",
    "submit_ts": "1722138943",
    "subm_id": "1335803766"
}