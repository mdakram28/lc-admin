{
    "username": "vidittayal_",
    "submission": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\nusing namespace __gnu_pbds;\nusing namespace std;\ntypedef tree<int,null_type,less<int>, rb_tree_tag, tree_order_statistics_node_update> ordered_set;\ntypedef long long ll;\n#define debug(...) cout << #__VA_ARGS__ << \": \"; _print(__VA_ARGS__);\nvoid _print(ordered_set &st){ll size=0;cout<<\"[\";for(auto x:st){cout<<x<<\",\";size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(T x){cout<<x<<endl;}\ntemplate<typename T> void _print(vector<T>& v){cout<<\"[\";for(auto x:v){cout<<x<<\",\";}cout<<\"]\"<<\"(size=\"<<v.size()<<\")\"<<endl;}\ntemplate<typename T> void _print(vector<vector<T>>& v){ll size=0;cout<<\"[\"<<endl;for(auto x:v){cout<<\"\";_print(x);size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(set<T>& st){ll size=0;cout<<\"[\";for(auto x:st){cout<<x<<\",\";size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(unordered_set<T>& st){ll size=0;cout<<\"[\";for(auto x:st){cout<<x<<\",\";size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(queue<T> q){ll size=0;cout<<\"[\";while(!q.empty()){cout<<q.front()<<\",\";q.pop();size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(priority_queue<T> q){ll size=0;cout<<\"[\";while(!q.empty()){cout<<q.top()<<\",\";q.pop();size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(priority_queue<T,vector<T>, greater<T>> q){ll size=0;cout<<\"[\";while(!q.empty()){cout<<q.top()<<\",\";q.pop();size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T> void _print(list<T> &l){ll size=0;cout<<\"[\";for(auto x: l){cout<<x<<\",\";size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(unordered_map<T1,T2>& umap){ll size=0;cout<<\"[\"<<endl;for(auto p:umap){cout<<\"\"<<p.first<<\":\"<<p.second<<endl;size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(map<T1,T2>& umap){ll size=0;cout<<\"[\"<<endl;for(auto p:umap){cout<<\"\"<<p.first<<\":\"<<p.second<<endl;size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(unordered_map<T1,list<T2>>& umap){ll size=0;cout<<\"[\"<<endl;for(auto p:umap){cout<<\"\"<<p.first<<\":\";_print(p.second);size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(map<T1,list<T2>>& umap){ll size=0;cout<<\"[\"<<endl;for(auto p:umap){cout<<\"\"<<p.first<<\":\";_print(p.second);size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(pair<T1,T2>& p){cout<<\"{\"<<p.first<<\",\"<<p.second<<\"}\"<<endl;}\ntemplate<typename T1,typename T2> void _print(set<pair<T1,T2>>& st){ll size=0;cout<<\"[\";for(auto x:st){_print(x);size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(queue<pair<T1,T2>> q){ll size=0;cout<<\"[\";while(!q.empty()){_print(q.front());q.pop();size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename T1,typename T2> void _print(vector<pair<T1,T2>>& v){ll size=0;cout<<\"[\";for(auto x:v){_print(x);size++;}cout<<\"]\"<<\"(size=\"<<size<<\")\"<<endl;}\ntemplate<typename... Args>\nvoid _print(Args... args) {((cout << args << \", \"), ...);cout << endl;}\n\n/*\nstate:\n    dp[i][num] = ans from 0...i where ith number is num\n\ntransition:\n    dp[i][num] = dp[i-1][0] + dp[i-1][1] + dp[i-1][2] + .. + dp[i-1][num] = pf[i-1][num]\n\nanswer:\n    dp[n-1][0] + dp[n-1][1] + dp[n-1][2] + .. + dp[n-1][50]\nbase case:\n    dp[0][x] ye khudse krlo\n*/\n\n\nclass Solution {\n    int mod = 1e9+7;\n    \n    int mod_add(long long a, long long b){\n        a = a%mod;\n        b = b%mod;\n        return (a+b)%mod;\n    }\n    \n    int subarraysum(int l, int r, vector<int> &pf){\n        int n = pf.size();\n        r = min(r,n);\n        l = min(l,n);\n        if(l>r) return 0;\n        if(l==0) return pf[r];\n        return (pf[r]-pf[l-1]+mod)%mod;\n    }\n    \npublic:\n    int countOfPairs(vector<int>& a) {\n        int n = a.size();\n        vector<vector<int>> dp(n,vector<int>(1001,0));\n        \n        for(int num=0;num<=a[0];num++){\n            int x = num, y = a[0]-x;\n            if(y>=0){\n                dp[0][num] = 1;\n            }\n        }\n        vector<int> pf(1001,dp[0][0]);\n        for(int i=1;i<=1000;i++){\n            pf[i] = mod_add(pf[i-1], dp[0][i]);\n        }\n        \n        for(int i=1;i<n;i++){\n            for(int num=0;num<=a[i];num++){\n                // dp[i][num]\n                int l=0;\n                int r = min(num, a[i-1]-a[i]+num);\n                dp[i][num] = subarraysum(l,r,pf);\n                // for(int l=0;l<=r;l++){\n                //     dp[i][num] = mod_add(dp[i][num], dp[i-1][l]);\n                // }\n                \n                \n                \n            }\n            \n            // replace dp[i] in pf\n            pf[0] = dp[i][0];\n            for(int num=1;num<=1000;num++){\n                pf[num] = mod_add(pf[num-1], dp[i][num]);\n            }\n        }\n        \n        // debug(dp);\n        int ans=0;\n        for(int num=0;num<=1000;num++) ans = mod_add(ans, dp[n-1][num]);\n        return ans;\n    }\n};",
    "submit_ts": "1723348419",
    "subm_id": "1351617888"
}