{
    "username": "hello_wrld",
    "submission": "class Solution {\n    bool extraReq(int a, int b, int k, int x) {\n        if (abs(k - b) >= x) return false;\n        if (abs(0 - b) >= x) return false;\n        if (abs(k - a) >= x) return false;\n        if (abs(0 - a) >= x) return false;\n        return true;\n    }\n\n    int predicate(vector<int> &nums, int x, int k) {\n        int ret = 0;\n        int n = nums.size();\n\n        for (int i = 0; i < n / 2; ++i) {\n            int a = nums[i], b = nums[n - i - 1];\n            if (abs(a - b) != x) {\n                ++ret;\n                if (extraReq(a, b, k, x)) ++ret;\n            }\n        }\n\n        return ret;\n    }\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        int n = nums.size();\n        int ret = 0;\n\n        int l = 0, r = k;\n        while(l < r) {\n            int m = l + (r - l) / 2;\n            int p1 = predicate(nums, m, k);\n            int p2 = predicate(nums, m + 1, k);\n            if (p1 <= p2) r = m;\n            else {\n                l = m + 1;\n                ret = l;\n            }\n        }\n\n        int ans = INT_MAX;\n        int ans1 = predicate(nums, ret, k);\n        ans = min(ans, ans1);\n\n        unordered_map<int, int> diff;\n        for (int i = 0; i < n; ++i) {\n            int d = abs(nums[i] - nums[n - i - 1]);\n            diff[d]++;\n        }\n\n        vector<pair<int, int>> vp;\n        for (auto &[k, v]: diff) {\n            vp.push_back({v, k});\n        }\n\n        sort(vp.begin(), vp.end(), greater<>());\n\n        int t = min(1000, (int)vp.size());\n        for (int i = 0; i < t; ++i) {\n            ans = min(ans, predicate(nums, vp[i].second, k));\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1721490404",
    "subm_id": "1327481670"
}