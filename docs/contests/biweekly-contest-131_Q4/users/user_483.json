{
    "username": "ji-shi-u",
    "submission": "const int N = 1e5;\n\nstruct node{\n    int l, r;\n    int d, pre, nxt;\n    bool p, n;\n}tr[4 * N];\n\nvoid pushUp(node& cur, node& left, node& right){\n    cur.d = max(left.nxt + right.pre + 1, max(left.d, right.d));\n    cur.d = max(cur.d, 1);\n    cur.pre = left.pre + (left.pre == (left.r - left.l) && !left.n ? (right.pre + 1) : 0);\n    cur.nxt = right.nxt + (right.nxt == (right.r - right.l) && !right.p ? (left.nxt + 1) : 0);\n    cur.p = left.p;\n    cur.n = right.n;\n}\n\nvoid pushUp(int u){\n    pushUp(tr[u], tr[u << 1], tr[u << 1 | 1]);\n}\n\nvoid build(int u, int l, int r){\n    tr[u] = {l, r, 0, 0, 0, 0, 0};\n    if(l == r)\n        return;\n    int mid = l + r >> 1;\n    build(u << 1, l, mid);\n    build(u << 1 | 1, mid + 1, r);\n    pushUp(u);\n}\n\nnode query(int u, int l, int r){\n    if(l <= tr[u].r && tr[u].r <= r)\n        return tr[u];\n    int mid = tr[u].l + tr[u].r >> 1;\n    if(r <= mid)\n        return query(u << 1, l, r);\n    else if(l > mid)\n        return query(u << 1 | 1, l, r);\n    else\n    {\n        node res;\n        node left = query(u << 1, l, r);\n        node right = query(u << 1 | 1, l, r);\n        pushUp(res, left, right);\n        return res;\n    }\n}\n\nvoid update(int u, int x){\n    if(tr[u].l == tr[u].r){\n        tr[u] = {x, x, 0, 0, 0, 1, 1};\n        return;\n    }\n    int mid = tr[u].l + tr[u].r >> 1;\n    if(x <= mid)\n        update(u << 1, x);\n    else\n        update(u << 1 | 1, x);\n    pushUp(u);\n}\n\nclass Solution {\npublic:\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        build(1, 0, 1e5);\n        vector<bool> ans;\n        for(auto& q: queries){\n            if(q[0] == 1)\n                update(1, q[1]);\n            else\n            {\n                node res = query(1, 0, q[1]);\n                \n                ans.push_back(res.d >= q[2]);\n            }\n        }\n        //cout << query(1, 1, 2).p << endl;\n        return ans;\n    }\n};",
    "submit_ts": "1716650173",
    "subm_id": "534769866"
}