{
    "username": "bgrm",
    "submission": "#pragma GCC optimize (\"Ofast\")\n#define _USE_MATH_DEFINES\n#include <bits/stdc++.h>\n#define FOR(i, a, b) for (int i=(a); i<(b); i++)\n#define FORD(i, a, b) for (int i=(a); i>(b); i--)\n#define SZ(x) ((int)(x).size())\n#define ALL(x) (x).begin(), (x).end()\n#define PPC(x) __builtin_popcountll(x)\n#define MSB(x) (63 - __builtin_clzll(x))\n#define LSB(x) __builtin_ctz(x)\n#define ARG(x, i) (get<i>(x))\n#define LAST(x) std::prev(x.end())\n#define ithBit(m, i) ((m) >> (i) & 1)\n#define pb push_back\n#define ft first\n#define sd second\n#define kw(a) ((a) * (a))\n#define VLD(i, j) (0 <= (i) and (i) < n and 0 <= (j) and (j) < m)\n#ifdef DEBUG\n#include \"debug.h\"\n#else\n#define dbg(...) 0\n#endif\n\t\nusing namespace std; \ntemplate <typename T1, typename T2> inline void remin(T1& a, T2 b) { a = min(a, (T1)b);\t}\ntemplate <typename T1, typename T2> inline void remax(T1& a, T2 b) { a = max(a, (T1)b);\t}\n\nconst int maxN = 303, maxA = 404, mod = 1'000'000'007;\n\ntemplate <typename T1, typename T2> inline void addMod(T1& a, T2 b) { a = (a + b) % mod; }\n\nlong long dp[maxN][maxA];\nint req[maxN];\n\nclass Solution {\npublic:\n\n\tvoid calcDp(int i, int r)\n\t{\n\t\tFORD(last, i, 0)\n\t\t{\n\t\t\tint j = r - (i - last);\n\t\t\tif (j < 0)\n\t\t\t\tbreak;\n\t\t\taddMod(dp[i][r], dp[i-1][j]);\n\t\t}\n\t}\n\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        \n\t\tfill(req, req+n+1, -1);\n\t\tfor (auto lin : requirements)\n\t\t\treq[lin.front() + 1] = lin.back();\n\t\tint total = req[n];\n\t\tdp[0][0] = 1;\n\n\t\tFOR(i, 1, n+1)\n\t\t{\n\t\t\tfill(&dp[i][0], &dp[i][total+1], 0);\n\n\t\t\tif (req[i] != -1)\n\t\t\t\tcalcDp(i, req[i]);\n\n\t\t\telse\n\t\t\t\tFOR(r, 0, total+1)\n\t\t\t\t\tcalcDp(i, r);\n\t\t}\n\n\t\treturn dp[n][total];\n    }\n};",
    "submit_ts": 1719070413.0
}