{
    "username": "Uncle_Bob",
    "submission": "class Solution {\n    public long[] countKConstraintSubstrings(String s, int k, int[][] queries) {\n        long[] ans=new long[queries.length];\n        int[] memo=new int[s.length()];\n        int end=0,count0=0,count1=0;\n        for (int i = 0; i < s.length(); i++) {\n            while(end<s.length() && (count0<=k ||count1<=k)){\n                if(s.charAt(end)=='0'){\n                    count0++;\n                }else count1++;\n                end++;\n            }\n            if(count0<=k || count1<=k) memo[i]=end;\n            else memo[i]=end-1;\n            if(s.charAt(i)=='0'){\n                count0--;\n            }else count1--;\n        }\n        long[] Sum=new long[memo.length+1];\n        for (int i = 0; i < memo.length; i++) {\n            Sum[i+1]=Sum[i]+(memo[i]-i);\n        }\n        int count=0;\n        //System.out.println(Arrays.toString(memo));\n        for (int[] query : queries) {\n            long A=0;\n            int l=query[0]-1,r= memo.length;\n            while(r-l>1){\n                int mid=(r+l)/2;\n                if(memo[mid]<=query[1]+1){\n                    l=mid;\n                }else{\n                    r=mid;\n                }\n            }\n\n            A+=Sum[r]-Sum[query[0]];\n            A+=(query[1]+1L-r)*(query[1]+2-r)/2;\n            ans[count++]=A;\n        }\n        return ans;\n    }\n}",
    "submit_ts": "1723950977",
    "subm_id": "556402497"
}