{
    "username": "disandrewed",
    "submission": "#define LL long long\n#define MOD 1000000007\n\nclass FenwickArr {\npublic:\n    LL n;\n    vector<LL> BIT;\n    vector<LL> arr;\n\n    FenwickArr(LL sz) : n{sz}, BIT(sz+1, 0), arr(sz) {}\n\n    void add(LL x, LL add) {\n        add = (add % MOD + MOD) % MOD;\n        arr[x] = (arr[x] + add) % MOD; \n        x++;\n        for (; x <= n; x += x & -x) {\n            BIT[x] = (BIT[x] + add) % MOD;\n        }\n    }\n\n    LL query(LL x) {\n        x++;\n        LL sum = 0;\n        for (; x > 0; x -= x & -x) {\n            sum = (sum + BIT[x]) % MOD; \n        }\n        return sum;\n    }\n\n    void set(LL idx, LL val) {\n        LL current = arr[idx];\n        val = (val % MOD + MOD) % MOD; \n        add(idx, val - current);\n    }\n\n    LL pref(LL st, LL end) {\n        if (st > end) return 0;\n        return st <= 0 ? query(end) : (query(end) - query(st-1) + MOD) % MOD; \n    }\n};\n\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n = nums.size();\n        vector<FenwickArr> dp(n, FenwickArr(1001));\n\n        for (int j = 0; j <= nums[0]; j++) {\n            dp[0].add(j, 1);\n        }\n\n        for (int i = 1; i < n; i++) {\n            for (int j = 0; j <= nums[i]; j++) {\n                int comp = nums[i] - j;\n                int minK = max(j, nums[i-1] - (nums[i] - j));\n                \n                if (minK <= nums[i-1]) {\n                    dp[i].add(j, dp[i-1].pref(minK, nums[i-1]));\n                }\n            }\n        }\n\n        int result = dp[n-1].pref(0, nums[n-1]);\n        \n        return result;\n    }\n};\n",
    "submit_ts": "1723348229",
    "subm_id": "1351614067"
}