{
    "username": "gaolimin",
    "submission": "\n\n#define ll long long\n#define ar array<int, 2>\n#define arr array<int, 3>\nconst int inf = 0x3f3f3f3f;\nconst int mod = 1e9 + 7;\nconst int N = 1e5 + 5;\n\nclass Solution {\n  public:\n\tvector<int>mp[N];\n\tint d[N];\n\tar f[N];\n\tvector<int>ans;\n\tvoid up(int u, int p) {\n\t\tint l = -inf, r = -inf;\n\t\tfor (int v : mp[u]) {\n\t\t\tif (v == p)\n\t\t\t\tcontinue;\n\t\t\tup(v, u);\n\t\t\tint t = (v % 2 == 0) ? 2 : 1;\n\t\t\tif (l == -inf || d[v] + t >= l)\n\t\t\t\tr = l, l = d[v] + t;\n\t\t\t\telse\n\t\t\t\t\tr = max(r, d[v] + t);\n\n\t\t\td[u] = max(d[u], d[v] + t);\n\t\t}\n\t\tf[u] = {l, r};\n\n\t};\n\n\tvoid  down(int u, int p, int cur) {\n\t\tint t = (u % 2 == 0) ? 2 : 1;\n\t\n\t\tans[u] = max(d[u], cur );\n\t\tauto[l, r] = f[u];\n\t\tfor (int v : mp[u]) {\n\t\t\tif (v == p)\n\t\t\t\tcontinue;\n\t\t\tint x = l;\n\t\t\tif (x == d[v] + (v % 2 == 0 ? 2 : 1))\n\t\t\t\tx = r;\n\t\t\tdown(v, u, max(cur + t, x+t));\n\t\t}\n\t};\n\tvector<int> timeTaken(vector<vector<int>>& a) {\n// \u4e0a \u3002\u5176\u4ed6\u3002\u9009\u6700\u5927\u7684\u548c\u81ea\u5df1\u6bd4\u3002\u3002\n\t\tint n = a.size() + 1;\n\t\tans.resize(n);\n\t\tfor (auto&a : a) {\n\t\t\tint x = a[0], y = a[1];\n\t\t\tmp[x].push_back(y);\n\t\t\tmp[y].push_back(x);\n            // cout<<x<<\" \"<<y<<'\\n';\n\t\t}\n\n\t\tfor (int i = 0; i < n; ++i) {\n\t\t\tif (mp[i].size() == 1) {\n                // cout<<i<<\" \";\n\t\t\t\tup(i, -1);\n\t\t\t\tdown(i, -1, 0);\n\t\t\t\tbreak;\n\t\t\t}\n\t\t}\n\n\t\treturn ans;\n\t}\n};",
    "submit_ts": "1722699794",
    "subm_id": "552277161"
}