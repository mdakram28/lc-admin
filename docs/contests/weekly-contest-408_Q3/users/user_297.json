{
    "username": "OnikJahanSagor",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int ret = 0, i, j;\n        \n        int cnt0[s.size()],cnt1[s.size()];\n        \n        int pos1[s.size()+4],pos0[s.size()+4];\n        memset(pos1, -1 ,sizeof(pos1));\n        memset(pos0, -1 ,sizeof(pos0));\n        \n        for(i = 0 ; i<s.size() ; i++){\n            cnt1[i] = 0;\n            cnt0[i] = 0;\n            \n            if(i){\n                cnt1[i]+=cnt1[i-1];\n                cnt0[i]+=cnt0[i-1];\n            }\n            \n            if(s[i]=='1'){\n                cnt1[i]++;\n                pos1[cnt1[i]]=i;\n            }\n            else{\n                cnt0[i]++;\n                pos0[cnt0[i]]=i;\n            }\n        }\n        \n        for(i=0 ; i<s.size() ; i++){\n            int bef0 = 0, bef1 = 0;\n            \n            if(i){\n                bef0 = cnt0[i-1];\n                bef1 = cnt1[i-1];\n            }\n            \n            //cout<<i<<\"-->\"<<endl;\n            \n            for(j=1 ; j*j + bef1<=s.size() ; j++){\n                if(pos1[bef1 + j*j]==-1) break;\n                int st = pos1[bef1 + j*j];\n                int en = s.size() -1;\n                if(bef0 + j +1 <=s.size()){\n                    if(pos0[bef0 + j + 1]!=-1) en = pos0[bef0 + j+1]-1;\n                }\n                if(bef1 + (j+1)*(j+1)<=s.size()){\n                    if(pos1[bef1 + (j+1)*(j+1)]!=-1) en = min(en, pos1[bef1 + (j+1)*(j+1)]-1);\n                }\n                \n                ret += max(0, en-st+1);\n                \n                //cout<<st<<\" \"<<en<<endl;\n            }\n            \n        }\n        \n        return ret;\n    \n            \n    }\n};",
    "submit_ts": "1722138676",
    "subm_id": "1335796831"
}