{
    "username": "Superultra",
    "submission": "#include <bits/stdc++.h>\nusing namespace std; \n\n#define FOR(i, x, y) for (int i = x; i < y; i++)\n#define ll long long\n#define pll pair<ll, ll>\n#define pii pair<int, int>\n\nclass Solution {\npublic:\n    int numberOfSubstrings(string S) {\n        vector<int> Z;\n        int n = S.size();\n\n        S = \" \" + S;\n        ll ans = 0;\n\n\n        for (int iter = 1; iter <= n; iter++){\n            if (S[iter] == '0')\n                Z.push_back(iter);\n            \n            ll o = 0;\n            ll z = 0;\n            int cur = Z.size() - 1;\n\n            if (S[iter] == '1'){\n                int pos = iter;\n                int len = Z.size() ? pos - Z.back() : pos;\n\n                ans += len;\n                o += len; \n            }\n            while (cur >= 0){\n                // Look at range between Z[cur-1]+1...Z[cur]-1\n                int pos = Z[cur] - 1;\n                z++;\n\n                // Is Z[cur] good\n                if (o >= z * z)\n                    ans++;\n\n                ll len = cur > 0 ? pos - Z[cur - 1] : pos;\n                \n                if (z * z >= iter + 10)\n                    break;\n                \n                ll req = max(z * z - o, 1LL);\n                ans += max(len - req + 1, 0LL);\n                // cout << len << \" \" << req << endl;\n                o += len;\n                cur--;\n            }\n            // cout << ans - temp << endl;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722135686",
    "subm_id": "1335710226"
}