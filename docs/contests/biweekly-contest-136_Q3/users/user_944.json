{
    "username": "plushone",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int rows = grid.size();\n        int cols = grid[0].size();\n\n        int totalChanges = 0;\n        for (int row = 0; row < rows / 2; ++row) {\n            for (int i = 0; i < cols / 2; ++i) {\n                int countOnes = 0;\n                countOnes += grid[row][i];\n                countOnes += grid[row][cols - 1 - i];\n                countOnes += grid[rows - 1 - row][i];\n                countOnes += grid[rows - 1 - row][cols - 1 - i];\n                if (countOnes == 0 || countOnes == 4) {\n                    totalChanges += 0;\n                } else if (countOnes == 1 || countOnes == 3) {\n                    totalChanges += 1;\n                } else {\n                    totalChanges += 2;\n                }\n            }\n        }\n\n        if (rows % 2 == 1 && cols % 2 == 1) {\n            totalChanges += grid[rows / 2][cols / 2];\n        }\n\n        int midOnes = 0;\n        int rowChanges = 0;\n        if (rows % 2 == 1) {\n            int midRow = rows / 2;\n            for (int i = 0; i < cols / 2; ++i) {\n                if (grid[midRow][i] != grid[midRow][cols - 1 - i]) {\n                    rowChanges++;\n                } else if (grid[midRow][i] == 1) {\n                    midOnes += 2;\n                }\n            }\n        }\n\n        int colChanges = 0;\n        if (cols % 2 == 1) {\n            int midcol = cols / 2;\n            for (int i = 0; i < rows / 2; ++i) {\n                if (grid[i][midcol] != grid[rows - 1 - i][midcol]) {\n                    colChanges++;\n                } else if (grid[i][midcol] == 1) {\n                    midOnes += 2;\n                }\n            }\n        }\n\n        if (midOnes % 4 == 0) {\n            return totalChanges + rowChanges + colChanges;\n        } else { // midOnes % 4 == 2\n            if (rowChanges != 0 || colChanges != 0) {\n                return totalChanges + rowChanges + colChanges;\n            }\n            return totalChanges + rowChanges + colChanges + 2;\n        }\n    }\n};",
    "submit_ts": "1722698747",
    "subm_id": "1343190456"
}