{
    "username": "lilydenris",
    "submission": "class Solution {\npublic:\n    const static int N = 100010;\n    struct Node {\n        int l, r, sum;\n    } tr[4*N];\n\n    vector<int> nums;\n    void pushup(int idx) {\n        tr[idx].sum = tr[idx<<1].sum & tr[idx<<1|1].sum;\n    }\n\n    void build(int idx, int l, int r) {\n        if (l == r) {\n            tr[idx].l = tr[idx].r = l;\n            tr[idx].sum = nums[l];\n            return;\n        }\n        tr[idx].l = l;\n        tr[idx].r = r;\n\n\n        int mid = l + r >> 1;\n        build(idx<<1, l, mid);\n        build(idx<<1|1, mid + 1, r);\n\n        pushup(idx);\n    }\n\n    int query(int idx, int l, int r) {\n        if (tr[idx].l >= l && tr[idx].r <= r) \n            return tr[idx].sum;\n\n        int mid = tr[idx].l + tr[idx].r >> 1;\n        int sum = INT_MAX;\n        if (l <= mid)\n            sum = sum & query(idx<<1, l, r);\n        if (r > mid) \n            sum = sum & query(idx<<1|1, l, r);\n\n        return sum;\n    }\n\n    int minimumDifference(vector<int>& _nums, int k) {\n        nums = _nums;\n        int n = nums.size();\n        int res = INT_MAX;\n        nums.insert(nums.begin(), 0);\n        build(1, 1, n);\n        \n\n        \n        for (int i = 1; i <= n; i++) {\n            res = min(res, abs(k - nums[i]));\n            \n            if (nums[i] == k)\n                return 0;\n            else if (nums[i] < k)\n                continue;\n            \n            \n            \n            int ans = -1;\n            {\n                int start = 1, end = i;\n                while (start <= end) {\n                    int mid = start + end >> 1;\n\n                    int val = query(1, mid, i);\n                    if (val >= k) {\n                        ans = mid;\n                        res = min(res, abs(k-val));\n                        end = mid-1;\n                    } else {\n                        start = mid+1;\n                    }\n                }\n            }\n            \n            if (ans > 1) {\n                int val = query(1, ans-1, i);\n                res = min(res, abs(k-val));\n            }\n            \n            \n        }\n        \n        return res;\n    }\n};",
    "submit_ts": "1717298412",
    "subm_id": "1274778112"
}