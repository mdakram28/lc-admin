{
    "username": "sourav_suku",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        vector<int> nums2=nums;\n        for(int i=0;i<nums.size();++i)nums[i]&=k;\n        vector<int> dp(n);\n        for(int i=n-1;i>=0;--i){\n            if(nums[i]==k){\n                dp[i]=1;\n                if(i+1<n)dp[i]+=dp[i+1];\n            }\n        }\n        long long res=0;\n        vector<int> index(30,n);\n        for(int i=n-1;i>=0;--i){\n            if(nums[i]==k){\n                if(nums2[i]>k){\n                    int maxi=i;\n                    for(int j=0;j<30;++j){\n                        if((1<<j)&k)continue;\n                        if((1<<j)&nums2[i]){\n                            maxi=max(maxi,index[j]);\n                        }else{\n                            index[j]=i;\n                        }\n                    }\n                    if(maxi!=n&&maxi<=i+dp[i]-1)res+=dp[maxi];\n                }else{\n                    for(int j=0;j<30;++j){\n                        if((1<<j)&nums2[i])continue;\n                        index[j]=i;\n                    }\n                    res+=dp[i];        \n                }\n                // cout<<i<<\" \"<<res<<endl;\n                continue;\n            }\n            // cout<<i<<\" \"<<res<<endl;\n            for(int j=0;j<30;++j){\n                if((1<<j)&nums2[i])continue;\n                index[j]=i;\n            }\n            if(nums[i]<k)continue;\n        }\n        return res;\n    }\n};",
    "submit_ts": "1720280170",
    "subm_id": "1311779427"
}