{
    "username": "cchao",
    "submission": "const int mx = 5e4;\nconst int node = mx * 10;\nint a[node];\nvoid init(int o, int l, int r) {\n    const int m = (l + r) >> 1;\n    if (l == r) { a[o] = 0; }\n    else {\n        init(o+o,l,m);\n        init(o+o+1,m+1,r);\n        a[o] = 0;\n    }\n}\nvoid update(int o, int l, int r, int x, int v) {\n    const int m = (l + r) >> 1;\n    if (l == r) {\n        a[o] = v;\n    } else {\n        if (x <= m) update(o+o,l,m,x,v);\n        else update(o+o+1,m+1,r,x,v);\n        a[o] = max(a[o+o],a[o+o+1]);\n    }\n}\nint query(int o, int l, int r, int ql, int qr) {\n    const int m = (l + r) >> 1;\n    if (l > qr) return 0;\n    if (r < ql) return 0;\n    if (ql <= l && r <= qr) return a[o];\n    int ret = 0;\n    ret = max(ret, query(o+o, l, m, ql, qr));\n    ret = max(ret, query(o+o+1, m+1, r, ql, qr));\n    return ret;\n}\n\n\nclass Solution {\n    set<int> b;\n    set<array<int,2>> seg;\n    void ins(int x) {\n        b.insert(x);\n        auto it = seg.upper_bound({x, x});\n        --it;\n        auto t = *it;\n        array<int, 2> s1 = {t[0], x}, s2 = {x, t[1]};\n        update(1, 0, mx, x, x - t[0]);\n        update(1, 0, mx, t[1], t[1] - x);\n        seg.erase(it);\n        seg.insert(s1);\n        seg.insert(s2);\n    }\n    bool qry(int x, int sz) {\n        auto it = b.lower_bound(x);\n        --it;\n        int t = x - *it;\n        t = max(t, query(1, 0, mx, 0, x));\n        // cout << \"query \" << x << ' ' << sz << \": \" << t << endl;\n        return t >= sz;\n    }\npublic:\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        init(1, 0, mx);\n        update(1, 0, mx, mx, mx);\n        seg.clear();\n        seg.insert({0, mx});\n        b.clear();\n        b.insert(0);\n        b.insert(mx);\n        vector<bool> ans;\n        for (auto &q : queries) {\n            if (q[0] == 1) {\n                ins(q[1]);\n            } else {\n                ans.push_back(qry(q[1], q[2]));\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1716649270.0
}