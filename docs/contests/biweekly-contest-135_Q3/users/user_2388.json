{
    "username": "meonceagain",
    "submission": "class Solution {\npublic:\n    int minChanges(vector<int>& nums, const int k) {\n        const int n = nums.size();\n        int lo = 0, hi = n - 1;\n        unordered_map<int, vector<int>> cnt;\n        while (lo < hi) {\n            if (nums[lo] > nums[hi]) swap(nums[lo], nums[hi]);\n            cnt[nums[hi] - nums[lo]].emplace_back(lo);\n            ++lo;\n            --hi;\n        }\n        vector<int> idx; idx.reserve(cnt.size());\n        for (auto it = cnt.begin(); it != cnt.end(); ++it)\n            idx.emplace_back(it->first);\n\n        sort(idx.begin(), idx.end(), [&cnt](const int a, const int b) { return cnt[b].size() < cnt[a].size(); });\n        int ans = nums.size();\n        for (const int x: idx) {\n            int changes = 0;\n            for (auto it = cnt.begin(); it != cnt.end(); ++it) {\n                if (x == it->first) continue;\n                for (int i = 0; i < it->second.size(); ++i) {\n                    const int ii = it->second[i];\n                    lo = nums[ii];\n                    hi = nums[n - ii - 1];\n                    if (0 <= (x + lo) && (x + lo) <= k) { ++changes; continue; }\n                    if (0 <= (hi - x) && (hi - x) <= k) { ++changes; continue; }\n                    changes += 2;\n                }\n            }\n            //cout << \"X==\" << x << \" changes==\" << changes << endl;\n            ans = min(ans, changes);\n            if (ans < changes && changes > nums.size() / 2) break;\n        }\n\n        return ans;\n    }\n};\n\n// hi - lo = X\n// hi = X + lo\n// lo = hi - X",
    "submit_ts": "1721489804",
    "subm_id": "1327464307"
}