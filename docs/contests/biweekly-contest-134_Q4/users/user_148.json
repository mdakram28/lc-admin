{
    "username": "asrivastava05",
    "submission": "class Solution {\npublic:\n    vector<int> t;\n    void build(vector<int> &a, int v, int tl, int tr) {\n        if (tl == tr) {\n            t[v] = a[tl];\n        } else {\n            int tm = (tl + tr) / 2;\n            build(a, v*2, tl, tm);\n            build(a, v*2+1, tm+1, tr);\n            t[v] = (t[v*2] & t[v*2+1]);\n        }\n    }\n    int query(int v, int tl, int tr, int l, int r) {\n        if (l > r) \n            return ((1 << 30) - 1);\n        if (l == tl && r == tr) {\n            return t[v];\n        }\n        int tm = (tl + tr) / 2;\n        return query(v*2, tl, tm, l, min(r, tm)) & query(v*2+1, tm+1, tr, max(l, tm+1), r);\n    }\n    long long countSubarrays(vector<int>& a, int k) {\n        // we can binary search\n        int n = a.size();\n        t.resize(n * 4);\n        long long ans = 0;\n        build(a, 1, 0, n - 1);\n        for(int i = 0; i < n;i++){\n            int l = i, r = n - 1;\n            int fur = i, close = i + 1;\n            while(l <= r){\n                int mid = (l + r) / 2;\n                int x = query(1, 0, n - 1, i, mid);\n                if(i == 1){\n                    cout << mid << \" \" << x << '\\n';\n                }\n                if(x == k){\n                    l = mid + 1;\n                    fur = mid;\n                }else if(x < k){\n                    r = mid - 1;\n                }else{\n                    l = mid + 1;\n                }\n            }\n            l = i, r = n - 1;\n            while(l <= r){\n                int mid = (l + r) / 2;\n                int x = query(1, 0, n - 1, i, mid);\n                if(x == k){\n                    r = mid - 1;\n                    close = mid;\n                }else if(x < k){\n                    r = mid - 1;\n                }else{\n                    l = mid + 1;\n                }\n            }\n            //cout << fur << \" \" << close << '\\n';\n            ans += fur - close + 1;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278326",
    "subm_id": "1311704236"
}