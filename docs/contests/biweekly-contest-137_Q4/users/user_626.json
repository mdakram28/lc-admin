{
    "username": "zxgod",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& a) {\n        int n = a.size(), m = a[0].size();\n        int inf = 2e9 + 1;\n        vector dp(m + 1,vector(m + 1, -inf));\n        dp[0][0] = 0;\n        for(int j = 1; j <= m; ++j)\n        dp[j][0] = max(a[0][j - 1], a[1][j - 1]);\n        for(int j = 1; j <= m; ++j)\n        {\n            for(int k = 1; k <= m; ++k)\n            {\n                dp[j][k] = max(dp[j][k], a[0][j - 1] + a[1][k - 1]);\n            }\n        }\n        long long ans = 2ll * -inf;\n        for(int i = 2; i < n; ++i)\n        {\n            vector<pair<int,int>> v(3);\n            v[0] = {-inf,0};\n            v[1] = v[0], v[2] = v[0];\n            auto f = dp;\n            for(int j = 1; j <= m; ++j)\n            {\n                f[j][0] = max(f[j][0], a[i][j - 1]);\n                if(a[i][j - 1] > v[0].first) v[0] = {a[i][j - 1], j};\n                sort(v.begin(), v.end()); \n            }\n            for(int j = 1; j <= m; ++j)\n            {\n                for(int k = j + 1; k <= m; ++k)\n                {\n                    f[j][k] = max(f[j][k], dp[j][0] + a[i][k - 1]);\n                    f[k][j] = max(f[k][j], dp[k][0] + a[i][j - 1]);\n                    int x = max(dp[j][k], dp[k][j]);\n                    for(int t = 2; t >= 0; --t)\n                        if(v[t].second != j && v[t].second != k)\n                        {\n                            ans = max(ans, 0ll + v[t].first + x);\n                            break;\n                        }\n                }\n            }\n            dp = f;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723910116",
    "subm_id": "556339621"
}