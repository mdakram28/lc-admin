{
    "username": "Ruvxei",
    "submission": "class Solution:\n    def countOfPairs(self, nums: List[int]) -> int:\n        n = len(nums)\n        MOD = 10**9 + 7\n        dp = []\n        dp = [[0 for _ in range(1001)] for i in range(n)]\n        dp.append([0] * 1001)\n        prefix = [0]\n        for i in range(nums[-1] + 1):\n            dp[n][i] = 1\n            prefix.append(prefix[-1] + 1)\n        for i in range(nums[-1] + 1, 1001):\n            prefix.append(prefix[-1])\n        \n        for i in range(n - 1, -1, -1):\n            if i == 0:\n                a = 0\n                b = 1001\n                dp[i][a] = (prefix[nums[0] + 1] - prefix[max(a, nums[i] - b)]) % MOD\n                break\n            newPrefix = [0]\n            for a in range(1001):\n                b = nums[i - 1] - a\n                if b < 0 or a > nums[i]:\n                    dp[i][a] = 0\n                    # x >= a\n                    # nums[i] - x <= b -> x >= nums[i] - b\n                    # x <= nums[i]\n                else:\n                    dp[i][a] = (prefix[nums[i] + 1] - prefix[max(a, nums[i] - b)]) % MOD\n                newPrefix.append(newPrefix[-1] + dp[i][a])\n            prefix = newPrefix[::]\n            \n        return dp[0][0]",
    "submit_ts": "1723348032",
    "subm_id": "1351610287"
}