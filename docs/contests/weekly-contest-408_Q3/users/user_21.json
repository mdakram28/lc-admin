{
    "username": "friedall",
    "submission": "#include <iostream>\n#include <vector>\n#define ll long long\n\nusing namespace std;\n\nclass Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        ll n = s.length(), z, x, y, f = 0, p = 0;\n        ll rt = sqrt(n);\n        vector <ll> V;\n        for (int i=n-1; i>=0; --i) {\n            if (s[i] == '0') {\n                f += p * (p+1) / 2;\n                V.push_back(i);\n                p = 0;\n            }\n            else ++p;\n        }\n        f += p * (p+1) / 2;\n        for (int i=0; i<n; ++i) {\n            z = 1;\n            int j = V.size()-1;\n            while (z <= rt && j >= 0) {\n                x = V[j]-i+1-z;\n                if (!j) y = n-1-V[j];\n                else y = V[j-1]-1-V[j];\n                y = x + y;\n                x = max(x, z*z);\n                f += max(0LL, y-x+1);\n                --j, ++z;\n            }\n            if (s[i] == '0') V.pop_back();\n        }\n        return f;\n    }\n};",
    "submit_ts": "1722134635",
    "subm_id": "1335672914"
}