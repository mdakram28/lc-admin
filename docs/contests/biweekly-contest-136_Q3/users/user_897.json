{
    "username": "melencholic_mice",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid[0].size();\n        int flips = 0;\n\n        for(int i = 0; i < n ; i++){\n            if(n % 2 == 1 && i == n/2)continue;\n            for(int j = 0; j < m ; j++){\n                if(m % 2 == 1 && j == m/2)continue;\n                if(grid[i][j] == 1){\n                    int e1 = grid[n-i-1][j];\n                    int e2 = grid[n-i-1][m-j-1];\n                    int e3 = grid[i][m-j-1];\n\n                    int ttl = e1 + e2 + e3;\n\n                    if(ttl == 3)continue;\n                    if(ttl == 1){\n                        flips += 2;\n                        grid[n-i-1][j] = 1;\n                        grid[n-i-1][m-j-1] = 1;\n                        grid[i][m-j-1] = 1;\n                    }\n                    if(ttl == 2){\n                        flips += 1;\n                        grid[n-i-1][j] = 1;\n                        grid[n-i-1][m-j-1] = 1;\n                        grid[i][m-j-1] = 1;\n                    }\n\n                    if(ttl == 0){\n                        flips += 1;\n                        grid[i][j] = 0;\n                    }\n                }\n            }\n        }\n\n        if(n%2 == 1 && m %2 == 1 && grid[n/2][m/2] == 1){\n            grid[n/2][m/2] = 0;\n            flips++;\n        }\n\n        int pairs = 0;\n        int notp = 0;\n\n        if(n % 2 == 1){\n            int p1 = 0 , p2 = m-1;\n            while(p1 < p2){\n                if(grid[n/2][p1] == 1  && grid[n/2][p1] == grid[n/2][p2]){\n                    pairs++;\n                }\n                else if(grid[n/2][p1] != grid[n/2][p2]){\n                    notp++;\n                }\n                p1++;\n                p2--;\n            }\n        }\n\n        if(m % 2 == 1){\n            int p1 = 0 , p2 = n-1;\n            while(p1 < p2){\n                if(grid[p1][m/2] == 1  && grid[p1][m/2] == grid[p2][m/2]){\n                    pairs++;\n                }\n                else if(grid[p1][m/2]  != grid[p2][m/2] ){\n                    notp++;\n                }\n                p1++;\n                p2--;\n            }\n        }\n\n        flips += notp;\n        if(notp == 0 && pairs % 2 == 1){\n            flips += 2;\n        }\n\n        return flips;\n    }\n};",
    "submit_ts": "1722698336",
    "subm_id": "1343177377"
}