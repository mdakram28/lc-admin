{
    "username": "gupta_gopal",
    "submission": "class Solution {\npublic:\n    int dfs(int cur,int par,vector<int>v[],vector<vector<int>>&dp){\n        int mx1=0,mx2=0;\n        for(auto i:v[cur]){\n            if(i==par) continue;\n            int mx=dfs(i,cur,v,dp);\n            if(i%2) mx++;\n            else mx+=2;\n            if(mx>=mx1){\n                mx2=mx1; mx1=mx;\n            }\n            else mx2=max(mx2,mx);\n        }\n        dp[cur][0]=mx1;\n        dp[cur][1]=mx2;\n        return mx1;\n    }\n\n    void dfs1(int cur,int par,vector<int>v[],vector<vector<int>>&dp,vector<int>&ans){\n        int a=dp[cur][0],b=dp[cur][1];\n        for(auto i:v[cur]){\n            if(i==par) continue;\n            int x=dp[i][0]+1;\n            if((i%2)==0) x++;\n            int par_mx;\n            if(x==dp[cur][0]) par_mx=dp[cur][1];\n            else par_mx=dp[cur][0];\n            if(cur%2) par_mx++;\n            else par_mx+=2;\n            if(par_mx>=dp[i][0]){\n                dp[i][1]=dp[i][0];\n                dp[i][0]=par_mx;\n            }\n            else dp[i][1]=max(dp[i][1],par_mx);\n            ans[i]=dp[i][0];\n            dfs1(i,cur,v,dp,ans);\n        }\n        return;\n    }\n\n    vector<int> timeTaken(vector<vector<int>>&e){\n        ios_base::sync_with_stdio(0); cin.tie(0); cout.tie(0);\n        int n=1+e.size();\n        vector<int>v[n];\n        for(auto i:e){\n            v[i[0]].push_back(i[1]);\n            v[i[1]].push_back(i[0]);\n        }\n        vector<vector<int>>dp(n,vector<int>(2,0));\n        dfs(0,-1,v,dp);\n        // for(int i=0;i<n;i++){\n        //     cout<<i<<\" \"<<dp[i][0]<<\" \"<<dp[i][1]<<'\\n';\n        // }\n        vector<int>ans(n);\n        ans[0]=dp[0][0];\n        dfs1(0,-1,v,dp,ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722699186",
    "subm_id": "1343204031"
}