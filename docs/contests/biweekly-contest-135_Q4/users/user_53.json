{
    "username": "rgb234rgb",
    "submission": "class Solution {\n    long max(long a,long b){\n        return a>b?a:b;\n    }\n    public long maximumScore(int[][] grid) {\n        int n=grid.length;\n        long[][][] res=new long[n+1][n+1][n+1];\n        long[][] sum=new long[n+1][n+1];\n        long[][][] mau=new long[n+1][n+1][n+1];\n        long[][][] mad=new long[n+1][n+1][n+1];\n        for (int i=1;i<=n;i++){\n            for (int j=0;j<=n;j++){\n                res[0][j][i]=-99999999L;\n            }\n        }\n        for (int i=0;i<n;i++){\n            for (int j=1;j<=n;j++){\n                sum[i][j]=sum[i][j-1]+grid[i][j-1];\n            }\n        }\n        long ret=0L;\n        for (int i=1;i<n;i++){\n            for (int j=0;j<=n;j++){\n                long s=0L;\n                long s1=0L;\n                for (int k=0;k<j;k++){\n                    s1+=grid[k][i-1];\n                }\n               for (int k=0;k<=n;k++){\n                    if (k>0 && k<=j){\n                        s1-=grid[k-1][i-1];\n                    }\n                    if (k>j){\n                        s+=grid[k-1][i];\n                    }\n                    long t1=0L;long t2=0L;\n                    if (k<j){\n                        t1=max(mau[i-1][k][k]+s1,mad[i-1][k][j]);\n                        for (int t=k+1;t<j;t++){\n                            t2+=grid[t-1][i-1];\n                            t1=max(t1,s1-t2+res[i-1][k][t]);\n                        }\n                    } else {\n                        t1=mau[i-1][k][n];\n                    }\n                    res[i][j][k]=t1+s;\n                    if (t1+s>ret){\n                  //      System.out.println(i+\" \"+j+\" \"+k+\" \"+t1);\n                        ret=t1+s;\n                    }\n               }\n               mau[i][j][0]=res[i][j][0];\n               for (int k=1;k<=n;k++){\n                mau[i][j][k]=max(mau[i][j][k-1],res[i][j][k]);\n               }\n               mad[i][j][n]=res[i][j][n];\n               for (int k=n-1;k>=0;k--){\n                mad[i][j][k]=max(mad[i][j][k+1],res[i][j][k]);\n               }\n            }\n            //System.out.println();\n        }\n        //System.out.println(res[1][0][4]);\n\n        return ret;\n    }\n}",
    "submit_ts": "1721490911",
    "subm_id": "548324756"
}