{
    "username": "SHHK",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n\nclass Solution {\n   public:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size(), m = board[0].size();\n        vector<vector<pair<int, int>>> a(n);\n        for (int i = 0; i < n; ++i) {\n            vector<pair<int, int>> tmp(m);\n            for (int j = 0; j < m; ++j) {\n                tmp[j] = {board[i][j], j};\n            }\n            sort(tmp.begin(), tmp.end());\n            for (int j = m - 3; j < m; ++j) {\n                a[i].push_back(tmp[j]);\n            }\n        }\n        map<int, vector<array<int, 2>>> pos;\n        long long res = -1e15;\n        for (int i = 0; i < n; ++i) {\n            for (auto [x, px] : a[i]) {\n                if (pos.empty()) {\n                    break;\n                }\n                for (auto [y, pys] : pos) {\n                    for (auto [z, pzs] : pos) {\n                        for (auto &py : pys) {\n                            if (py[1] != px) {\n                                int found = 0;\n                                for (auto& pz : pzs) {\n                                    if (pz[1] != px && pz[1] != py[1] && pz[0] != py[0]) {\n                                        found = 1;\n                                        break;\n                                    }\n                                }\n                                if (found) {\n                                    res = max(res, (long long)x + y + z);\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n            for (auto [x, p] : a[i]) {\n                if ((int)pos[x].size() < 9) {\n                    pos[x].push_back({i, p});\n                }\n            }\n            while ((int)pos.size() > 9) {\n                pos.erase(pos.begin());\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723908431",
    "subm_id": "556330940"
}