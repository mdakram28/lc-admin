{
    "username": "Turkhuu Batbayar",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& a) {\n        using ll = long long;\n        int n = a.size();\n        int m = a[0].size();\n        long long ans = -1e18;\n        vector<array<int, 3>> v;\n        for (int i = 0; i < n; i++) {\n            for (int j = 0; j < m; j++) {\n                v.push_back({a[i][j], i, j});\n            }\n        }\n        sort(v.rbegin(), v.rend());\n        auto [s, x, y] = v[0]; {\n            for (int i = 0; ; i++) {\n                auto [s2, x2, y2] = v[i];\n                if (x2 != x && y2 != y) {\n                    for (int j = 0; ; j++) {\n                        auto [s3, x3, y3] = v[j];\n                        if (x3 != x && x3 != x2 && y3 != y && y3 != y2) {\n                            ans = max(ans, (ll)s + s2 + s3);\n                            break;\n                        }\n                    }\n                    for (int x3 = 0; x3 < n; x3++) {\n                        if (x3 == x || x3 == x2) continue;\n                        for (int y3 = 0; y3 < m; y3++) {\n                            if (y3 == y || y3 == y2) continue;\n                            ans = max(ans, (ll)s + a[x2][y3] + a[x3][y2]);\n                        }\n                    }\n                    break;\n                }\n            }\n        } {\n            for (int i = 0; ; i++) {\n                auto [s2, x2, y2] = v[i];\n                if (x2 != x && y2 != y) {\n                    for (int xx = 0; xx < n; xx++) {\n                        if (xx == x || xx == x2) continue;\n                        for (int yy = 0; yy < m; yy++) {\n                            if (yy == y || yy == y2) continue;\n                            ans = max(ans, (ll)s2 + a[x][yy] + a[xx][y]);\n                        }\n                    }\n                    vector<ll> hev(n, -1e18);\n                    for (int j = 0; j < n; j++) {\n                        for (int k = 0; k < m; k++) {\n                            if (k == y || k == y2) continue;\n                            hev[j] = max(hev[j], (ll)a[j][k]);\n                        }\n                    }\n                    vector<ll> bos(m, -1e18);\n                    for (int j = 0; j < m; j++) {\n                        for (int k = 0; k < n; k++) {\n                            if (k == x || k == x2) continue;\n                            bos[j] = max(bos[j], (ll)a[k][j]);\n                        }\n                    }\n                    for (int j = 0; ; j++) {\n                        auto [s3, x3, y3] = v[j];\n                        if (x3 != x && x3 != x2 && y3 != y && y3 != y2) {\n                            ans = max(ans, (ll)s3 + a[x][y2] + a[x2][y]);\n                            break;\n                        }\n                    }\n                    for (int j = 0; j < n; j++) {\n                        if (j == x) continue;\n                        for (int k = 0; k < n; k++) {\n                            if (j == k || k == x) continue;\n                            ans = max(ans, (ll)a[x][y2] + a[j][y] + hev[k]);\n                        }\n                    }\n                    for (int j = 0; j < m; j++) {\n                        if (j == y) continue;\n                        for (int k = 0; k < m; k++) {\n                            if (j == k || k == y) continue;\n                            ans = max(ans, (ll)a[x2][y] + a[x][j] + bos[k]);\n                        }\n                    }\n                    break;\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723907516",
    "subm_id": "1359111333"
}