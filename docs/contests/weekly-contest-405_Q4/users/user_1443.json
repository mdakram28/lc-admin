{
    "username": "adigo",
    "submission": "class Solution {\n    class Node {\n        Node[] t;\n        int cost;\n        Node() {\n            t = new Node[26];\n            cost = 0;\n        }\n    }\n    public int minimumCost(String target, String[] words, int[] costs) {\n        int[] dp = new int[target.length()];\n        for (int i = 0; i < dp.length; i++) {\n            dp[i] = -1;\n        }\n        boolean lastFound = false;\n        char last = target.charAt(target.length() - 1);\n        Node root = new Node();\n        for (int i = 0; i < words.length; i++) {\n            buildTrie(root, 0, words[i], costs[i]);\n            if (!lastFound && last == words[i].charAt(words[i].length() - 1))\n                lastFound = true;\n        }\n        if (!lastFound)\n            return -1;\n        \n        // first walk\n        walkTrie(0, 0, root, target, dp);\n        for (int i = 1; i < target.length(); i++) {\n            if (dp[i - 1] != -1) {\n                walkTrie(dp[i - 1], i, root, target, dp);\n            }\n        }\n        return dp[dp.length - 1];\n    }\n    \n    private void buildTrie(Node n, int cur, String s, int c) {\n        if (cur == s.length()) {\n            if (n.cost == 0)\n                n.cost = c;\n            else\n                n.cost = Math.min(n.cost, c);\n            return;\n        }\n        int idx = s.charAt(cur) - 'a';\n        if (n.t[idx] == null) {\n            n.t[idx] = new Node();\n        }\n        buildTrie(n.t[idx], cur + 1, s, c);\n    }\n    \n    private void walkTrie(int preCost, int cur, Node n, String t, int[] dp) {\n        if (n == null)\n            return;\n        if (n.cost != 0) {\n            if (dp[cur - 1] == -1) \n                dp[cur - 1] = preCost + n.cost;\n            else\n                dp[cur - 1] = Math.min(dp[cur - 1], preCost + n.cost);\n        }\n        if (cur == t.length())\n            return;\n        walkTrie(preCost, cur + 1, n.t[t.charAt(cur) - 'a'], t, dp);\n    }\n}",
    "submit_ts": "1720324200",
    "subm_id": "1312393902"
}