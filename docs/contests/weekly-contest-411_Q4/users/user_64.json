{
    "username": "hhhhyf",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n#define all(a) a.begin(), a.end()\nvoid print() { cout << '\\n'; }\ntemplate <typename T, typename...Args>\nvoid print(T t, Args...args) { cout << t << ' '; print(args...); }\nusing ll = long long;\nconst int N = 200010;\n\nint dir[4][2] = {\n    {1, 0}, {0, 1}, {-1, 0}, {0, -1}\n};\n\ntemplate <typename T> bool chmax(T &x, T y) { if (y > x) { x = y; return true; } return false; }\ntemplate <typename T> bool chmin(T &x, T y) { if (y < x) { x = y; return true; } return false; }\n\ntemplate <typename T = int>\nvector<T> readVector(int n) {\n    vector<T> a(n);\n    for(T &x: a) cin >> x;\n    return a;\n} \n\nclass Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        int n = s.size();\n        vector<int> R(n);\n        int c[2]{};\n        for (int i = 0, j = -1; i < n; i ++) {\n            while (j + 1 < n && min(c[0] + (s[j + 1] == '0'), c[1] + (s[j + 1] == '1')) <= k) {\n                c[s[j + 1] - '0'] ++;\n                j ++;\n            }\n            R[i] = j;\n            c[s[i] - '0'] --;\n            //print(i, j);\n        }\n        vector<ll> sum(n);\n        sum[0] = R[0] + 1;\n        for (int i = 1; i < n; i ++) {\n            sum[i] = sum[i - 1] + R[i] - i + 1;\n        }\n        int q = queries.size();\n        vector<ll> ans(q);\n        for (int i = 0; i < q; i ++) {\n            int x = queries[i][0];\n            int y = queries[i][1];\n            int l = x, r = y, res = y + 1;\n            while (l <= r) {\n                int mid = l + r >> 1;\n                if (R[mid] > y) {\n                    res = mid;\n                    r = mid - 1;\n                } else {\n                    l = mid + 1;\n                }\n            }\n            //print(x, y, res);\n            ans[i] = (res == 0 ? 0 : sum[res - 1]) - (x == 0 ? 0 : sum[x - 1]);\n            int d = y - res + 1;\n            ans[i] += 1ll * (d + 1) * d / 2;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723950057",
    "subm_id": "556396667"
}