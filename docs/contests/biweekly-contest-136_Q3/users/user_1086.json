{
    "username": "sad-hodgkin23h",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int ans = 0;\n\n        int n = grid.size(), m = grid[0].size();\n\n        auto vis = vector(n,vector(m,false));\n\n        auto v = vector<int>(3);\n\n        for(int i=0; i<n; i++) {\n            for(int j=0; j<m; j++) {\n                if(vis[i][j]) continue;\n                int x = i, y = j;\n                int xx = n-1-i, yy = m-1-j;\n\n                auto pos = vector<array<int,2>>{{x,y},{x,yy},{xx,y},{xx,yy}};\n                auto st = set<int>{x*m+y,x*m+yy,xx*m+y,xx*m+yy};\n\n                if(st.size()==1) {\n                    if(grid[x][y]==1) ans += 1;\n                } else if(st.size()==4) {\n                    int cnt = 0;\n                    for(int k=0; k<4; k++) {\n                        cnt += grid[pos[k][0]][pos[k][1]];\n                    }\n                    ans += min(cnt,4-cnt);\n                } else {\n                    int cnt = 0;\n                    for(auto& p:st) {\n                        cnt += grid[p/m][p%m];\n                    }\n                    v[cnt] += 1;\n                }\n\n                for(int k=0; k<4; k++) {\n                    vis[pos[k][0]][pos[k][1]] = true;\n                }\n            }\n        }\n\n        v[2] %= 2;\n        if(v[2]==0) ans += v[1];\n        else {\n            if(v[1]>=1) ans += v[1];\n            else {\n                ans += 2;\n            }\n        }        \n\n        return ans;\n    }\n};",
    "submit_ts": "1722698762",
    "subm_id": "552272406"
}