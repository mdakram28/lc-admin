{
    "username": "thesept_guy",
    "submission": "class Solution {\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        auto differencesToMaxValuesMap = calculateDifferencesToMaxValuesMap(nums, k);\n        auto maxValues = extractMaxValues(differencesToMaxValuesMap);\n        \n        sort(maxValues.begin(), maxValues.end());\n        \n        return calculateMinChanges(nums, differencesToMaxValuesMap, maxValues);\n    }\n\nprivate:\n    map<int, vector<int>> calculateDifferencesToMaxValuesMap(const vector<int>& nums, int k) {\n        map<int, vector<int>> differencesToMaxValuesMap;\n\n        for (int i = 0; i < nums.size() / 2; ++i) {\n            int num1 = nums[i];\n            int num2 = nums[nums.size() - i - 1];\n            int difference = abs(num1 - num2);\n            int maxValue = max({num1, num2, k - num1, k - num2});\n\n            differencesToMaxValuesMap[difference].push_back(maxValue);\n        }\n\n        return differencesToMaxValuesMap;\n    }\n\n    vector<int> extractMaxValues(const map<int, vector<int>>& differencesToMaxValuesMap) {\n        vector<int> maxValues;\n\n        for (const auto& [difference, values] : differencesToMaxValuesMap) {\n            maxValues.insert(maxValues.end(), values.begin(), values.end());\n        }\n\n        return maxValues;\n    }\n\n    int calculateMinChanges(const vector<int>& nums, const map<int, vector<int>>& differencesToMaxValuesMap, const vector<int>& maxValues) {\n        int minChangesRequired = nums.size();\n        \n        for (const auto& [difference, values] : differencesToMaxValuesMap) {\n            int lowerBoundIndex = lower_bound(maxValues.begin(), maxValues.end(), difference) - maxValues.begin();\n            int changes = lowerBoundIndex * 2 + (nums.size() / 2 - lowerBoundIndex);\n\n            for (const auto& maxValue : values) {\n                if (maxValue < difference) {\n                    changes -= 2;\n                } else {\n                    changes -= 1;\n                }\n            }\n\n            minChangesRequired = min(minChangesRequired, changes);\n        }\n\n        return minChangesRequired;\n    }\n};\n",
    "submit_ts": "1721489408",
    "subm_id": "1327452369"
}