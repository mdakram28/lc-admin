{
    "username": "hero777",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        map<int, int> m0;\n        map<int, int> m1;\n        for(int i = -k; i <= 0; i++){\n            m0[i] = -1;\n            m1[i] = -1;\n        }\n        vector<int> y(s.length(), 0);\n        vector<long long> x(s.length(), 0LL);\n        long long xcurr = 0LL;\n        int count0 = 0;\n        int count1 = 0;\n        for(int i = 0; i < s.length(); i++){\n            if(s[i] == '0'){\n                count0 += 1;\n                m0[count0] = i;\n            }\n            if(s[i] == '1'){\n                count1 += 1;\n                m1[count1] = i;\n            }\n            int j = m0[count0 - k];\n            int kk = m1[count1 - k];\n            int l = min(j , kk);\n            y[i] = l;\n            xcurr += i-l;\n            x[i] = xcurr;\n        }\n        vector<long long> ans;\n        for(vector<int> q: queries){\n            int q0 = q[0];\n            int q1 = q[1];\n            int l = q0;\n            int r = q1+1;\n            while(l < r){\n                int m = (l+r)/2;\n                if(y[m] < q0){\n                    l = m+1;\n                }\n                else\n                    r = m;\n            }\n            cout << l << '\\n';\n            long long ll = l-q0;\n            long long a = (ll*(ll+1))/2;\n            if(l <= q1){\n                a += x[q1] - x[l-1];\n            }\n            ans.push_back(a);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723953516",
    "subm_id": "1359823406"
}