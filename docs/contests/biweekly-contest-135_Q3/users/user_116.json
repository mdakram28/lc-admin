{
    "username": "meyi",
    "submission": "// Y0u LeetC0de 1mbec1les kn0w n0th1ng ab0ut CHATGPT.\n// Pr0mpt 1s all y0u need.\n// LMA0.\n#pragma GCC optimize(\"Ofast,no-stack-protector,unroll-loops\")\n#define ALL(v) v.begin(),v.end()\n#define For(i,_) for(int i=0,i##end=_;i<i##end;++i) // [0,_)\n#define FOR(i,_,__) for(int i=_,i##end=__;i<i##end;++i) // [_,__)\n#define Rep(i,_) for(int i=(_)-1;i>=0;--i) // [0,_)\n#define REP(i,_,__) for(int i=(__)-1,i##end=_;i>=i##end;--i) // [_,__)\ntypedef long long ll;\ntypedef unsigned long long ull;\n#define V vector\n#define pb push_back\n#define pf push_front\n#define qb pop_back\n#define qf pop_front\n#define eb emplace_back\ntypedef pair<int,int> pii;\ntypedef pair<ll,int> pli;\n#define fi first\n#define se second\nconst int dir[4][2]={{-1,0},{0,1},{1,0},{0,-1}},inf=0x3f3f3f3f,mod=1e9+7;\nconst ll infl=0x3f3f3f3f3f3f3f3fll;\ntemplate<class T>inline bool ckmin(T &x,const T &y){return x>y?x=y,1:0;}\ntemplate<class T>inline bool ckmax(T &x,const T &y){return x<y?x=y,1:0;}\nint init=[](){return cin.tie(nullptr)->sync_with_stdio(false),0;}();\nclass Solution {\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        int n=nums.size();\n        V<int>a;\n        For(i,n+1>>1)a.pb(abs(nums[i]-nums[n-i-1]));\n        sort(ALL(a));\n        a.erase(unique(ALL(a)),a.end());\n        V<int>cnt(a.size());\n        For(i,n+1>>1){\n            int l=0,pos=-1,r=a.size()-1;\n            auto check=[&](int p){\n                int x=nums[i],y=nums[n-i-1];\n                if(x>y)swap(x,y);\n                return x+p<=k||y-p>=0;\n            };\n            while(l<=r){\n                int mid=l+r>>1;\n                if(check(a[mid]))pos=mid,l=mid+1;\n                else r=mid-1;\n            }\n            ++cnt[0];\n            if(pos+1<a.size())++cnt[pos+1];\n            int pos2=lower_bound(ALL(a),abs(nums[i]-nums[n-i-1]))-a.begin();\n            cnt[pos2]-=1+(pos2>pos);\n            if(pos2+1<a.size())cnt[pos2+1]+=1+(pos2>pos);\n        }\n        For(i,a.size()-1)cnt[i+1]+=cnt[i];\n        return *min_element(ALL(cnt));\n    }\n};",
    "submit_ts": "1721487237",
    "subm_id": "548309070"
}