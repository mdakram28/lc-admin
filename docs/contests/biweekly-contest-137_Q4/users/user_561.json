{
    "username": "HMETAO",
    "submission": "class Solution {\n    public long maximumValueSum(int[][] board) {\n        int n = board.length;\n        int m = board[0].length;\n        long inf = Long.MIN_VALUE / 2;\n        long[][] dpPrev = new long[m][3];\n        long[][] dpCurr = new long[m][3];\n        long ans = inf;\n\n        for (int k = 0; k < n; k++) {\n            long[] mx = new long[m];\n            Arrays.fill(mx, inf);\n            \n            for (int i = 0; i < n; i++) {\n                long m1 = inf, m2 = inf, tmx = inf;\n                for (int j = 0; j < m; j++) {\n                    if (m1 < mx[j]) {\n                        m2 = m1;\n                        m1 = mx[j];\n                    } else if (m2 < mx[j]) {\n                        m2 = mx[j];\n                    }\n                    long val = board[i][j];\n                    if (i == k) {\n                        val = inf;\n                    }\n                    dpCurr[j][0] = 0;\n                    dpCurr[j][1] = val;\n                    dpCurr[j][2] = (m1 == mx[j] ? m2 : m1) + val;\n                    \n                    if (i > 0) {\n                        dpCurr[j][1] = Math.max(dpCurr[j][1], dpPrev[j][1]);\n                        dpCurr[j][2] = Math.max(dpCurr[j][2], dpPrev[j][2]);\n                    }\n                    if (j > 0) {\n                        dpCurr[j][1] = Math.max(dpCurr[j][1], dpCurr[j - 1][1]);\n                        dpCurr[j][2] = Math.max(dpCurr[j][2], dpCurr[j - 1][2]);\n                    }\n                    dpCurr[j][2] = Math.max(tmx + mx[j], dpCurr[j][2]);\n\n                    tmx = Math.max(tmx, val);\n                    mx[j] = Math.max(mx[j], val);\n                }\n                long[][] temp = dpPrev;\n                dpPrev = dpCurr;\n                dpCurr = temp;\n            }\n\n            for (int j = 2; j < m; j++) {\n                ans = Math.max(ans, dpPrev[j - 1][2] + board[k][j]);\n            }\n        }\n\n        return ans;\n    }\n}\n",
    "submit_ts": "1723910049",
    "subm_id": "556339287"
}