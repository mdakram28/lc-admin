{
    "username": "lian-xu-han-shu",
    "submission": "const int N=1e5+10;\nclass Solution {\n    vector<int>g[N];\n    int f[N][2];\n    \n    void dfs1(int u,int fa)\n    {\n        for(auto v:g[u]){\n            if(v==fa)continue;\n            dfs1(v,u);\n            if(f[v][0]+1+(v%2==0)>f[u][0]){\n                f[u][1]=f[u][0];\n                f[u][0]=f[v][0]+1+(v%2==0);\n            }else if(f[v][0]+1+(v%2==0)>f[u][1]){\n                f[u][1]=f[v][0]+1+(v%2==0);\n            }\n        }\n    }\n    \n    void dfs2(int u,int fa,vector<int>&ans)\n    {\n        for(auto v:g[u]){\n            if(v==fa)continue;\n            if(f[v][0]+1+(v%2==0)==f[u][0]){\n                // if(v==3){\n                //     cout<<\"&&1\"<<'\\n';\n                // }\n                if(f[u][1]+1+(u%2==0)>f[v][0]){\n                    f[v][1]=f[v][0];\n                    f[v][0]=f[u][1]+1+(u%2==0);\n                }else if(f[u][1]+1+(u%2==0)>f[v][1]){\n                    f[v][1]=f[u][1]+1+(u%2==0);\n                }\n            }else {\n                // if(v==3){\n                //     cout<<\"&&2\"<<'\\n';\n                // }\n                if(f[u][0]+1+(u%2==0)>f[v][0]){\n                    f[v][1]=f[v][0];\n                    f[v][0]=f[u][0]+1+(u%2==0);\n                }else if(f[u][0]+1+(u%2==0)>f[v][1]){\n                    f[v][1]=f[u][0]+1+(u%2==0);\n                }\n            }\n            ans[v]=f[v][0];\n            dfs2(v,u,ans);\n        }\n    }\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        for(int i=0;i<n;i++)g[i].clear(),f[i][0]=0,f[i][1]=0;\n        for(auto t:edges){\n            int u=t[0],v=t[1];\n            g[u].push_back(v);\n            g[v].push_back(u);\n        }\n        \n        dfs1(0,-1);\n        \n        vector<int>ans(n);\n        ans[0]=f[0][0];\n        \n        dfs2(0,-1,ans);\n        \n        return ans;\n        \n    }\n};",
    "submit_ts": "1722699522",
    "subm_id": "552276011"
}