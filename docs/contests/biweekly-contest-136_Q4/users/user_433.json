{
    "username": "AmanIITP",
    "submission": "class Solution {\npublic:\n#define F first\n#define S second\n#define ld long double\n#define pii pair<int, int>\n    \n    void dfs1(int i, int par, vector<pii>in[], vector<int>adj[]){\n        bool leaf=true;\n        for(auto &j:adj[i]){\n            if(j!=par){\n                dfs1(j,i,in,adj);\n                leaf=false;\n                if(j%2){\n                    in[i].push_back({in[j][0].F+1,j});\n                }\n                else in[i].push_back({in[j][0].F+2,j});\n            }\n        }\n        if(leaf){\n            in[i].push_back({0,-1});\n        }\n        else{\n            sort(in[i].rbegin(),in[i].rend());\n        }\n    }\n    \n    void dfs2(int i, int par, int C, vector<pii>in[], int out[], vector<int>adj[]){\n        out[i]=C;\n        int take=0;\n        if(par>=0)take=out[par];\n        if(par>=0 && in[par].size()>1){\n            if(in[par][0].S!=i){\n                take=max(take,in[par][0].F);\n            }\n            else take=max(take,in[par][1].F);\n        }\n        out[i]+=take;\n        //cout<<\"HEY \"<<i<<' '<<C<<' '<<out[i]<<endl;\n        int nC=(i%2==0)?2:1;\n        for(auto &j:adj[i]){\n            if(j!=par){\n                dfs2(j,i,nC,in,out,adj);\n            }\n        }\n    }\n    \n    \n    \n    vector<int> timeTaken(vector<vector<int>>& e) {\n        int n=e.size()+1;\n        vector<int>adj[n];\n        for(auto &i:e){\n            adj[i[0]].push_back(i[1]);\n            adj[i[1]].push_back(i[0]);\n        }\n        vector<pii>in[n];\n        int out[n];\n        dfs1(0,-1,in,adj);\n        dfs2(0,-1,0,in,out,adj);\n        vector<int>ans(n);\n        // for(int i=0;i<n;i++){\n        //     cout<<in[i][0].F<<' '<<in[i][0].S<<' '<<out[i]<<endl;\n        // }\n        for(int i=0;i<n;i++){\n            ans[i]=max(in[i][0].F,out[i]);\n        }\n        return ans;\n        \n        \n    }\n};",
    "submit_ts": "1722698896",
    "subm_id": "1343195278"
}