{
    "username": "xymabinogi",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        vector<array<int,30>> cnt(n + 1);\n        for (int i = 0; i < n; i++){\n            for (int j = 0; j < 30; j++){\n                cnt[i + 1][j] = cnt[i][j] + ((nums[i] >> j) & 1);\n            }\n        }\n        int res = INT_MAX;\n        \n        auto calc = [&](int l, int r) -> int {\n            int len = r - l + 1;\n            int ans = 0;\n            for (int j = 0; j < 30; j++){\n                if (cnt[r + 1][j] - cnt[l][j] == len) ans |= 1 << j;\n            }\n            //if (r == 3) cout << l <<\" \"<< r << ans << \"--\\n\";\n            return ans;\n        };\n        \n        for (int i = 0; i < n; i++){\n            if (nums[i] <= k) res = min(res, abs(k - nums[i]));\n            else if (calc(0, i) >= k) res = min(res, abs(k - calc(0, i)));\n            else {\n                int l = 0, r = i;\n                //first v that < k\n                while(l < r){\n                    int mid = (l + r + 1) / 2;\n                    if (calc(mid, i) < k){\n                        l = mid;\n                    }\n                    else r = mid - 1;\n                }\n                //if (i == 3) cout << l << \"--\\n\";\n                res = min(res, abs(k - calc(l, i)));\n                if (l + 1 <= i) res = min(res, abs(k - calc(l + 1, i)));\n            }\n            \n            \n            \n        }\n        return res;\n        \n    }\n};",
    "submit_ts": "1717297198",
    "subm_id": "1274734236"
}