{
    "username": "kaq",
    "submission": "constexpr int mod = 1e9 + 7;\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        vector<vector<long long>> dp(n + 1, vector<long long>(401));\n        sort(requirements.rbegin(), requirements.rend());\n        vector<vector<int>> req;\n        requirements.push_back({-1, 0});\n        for (int i = 1; i < requirements.size(); i++) {\n            req.push_back({n - 2 - requirements[i][0], requirements[0][1] - requirements[i][1]});\n        }\n        int ri = 0;\n        for (int i = 0; i < n; i++) {\n            if (i == 0) {\n                for (int j = 0; j < n; j++) {\n                    dp[i][j] = 1;\n                }\n            } else {\n                for (int j = 0; j < n - i; j++) {\n                    for (int k = 0; k + j < 401; k++) {\n                        dp[i][j + k] = (dp[i][j + k] + dp[i - 1][k]) % mod;\n                    }\n                }\n            }\n            if (ri < req.size() && req[ri][0] == i) {\n                for (int j = 0; j < 401; j++) {\n                    if (j == req[ri][1]) {\n                        continue;\n                    }\n                    dp[i][j] = 0;\n                }\n                ri++;\n            }\n        }\n        return dp[n - 1][req.back()[1]];\n    }\n};",
    "submit_ts": "1719068121",
    "subm_id": "1296753693"
}