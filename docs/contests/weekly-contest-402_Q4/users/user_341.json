{
    "username": "ahmedefendi735",
    "submission": "#define y1 askjdkasldjlkasd\n#include <bits/stdc++.h>\n#undef y1\n\nusing namespace std;\n\n#define pb push_back\n#define mp make_pair\n#define fi(a, b) for(int i=a; i<=b; i++)\n#define fj(a, b) for(int j=a; j<=b; j++)\n#define fo(a, b) for(int o=a; o<=b; o++)\n#define fdi(a, b) for(int i=a; i>=b; i--)\n#define fdj(a, b) for(int j=a; j>=b; j--)\n#define fdo(a, b) for(int o=a; o>=b; o--)\n#define sz(x) (int)x.size()\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef vector<int> vi;\ntypedef pair<int, int> pii;\ntypedef vector<pii> vpii;\ntypedef pair<ll, ll> pll;\ntypedef vector<pll> vpll;\ntypedef vector<ll> vll;\n\n#ifdef LOCAL\n#define err(...) fprintf(stderr, __VA_ARGS__)\n#else\n#define err(...) while (0)\n#endif\n\ndouble START_TIME;\n\nvoid exit() {\n#ifdef LOCAL\t\n\tcerr << \"TIME: \" << setprecision(5) << fixed << (clock() - START_TIME) / CLOCKS_PER_SEC << endl;\n#endif\t\n\texit(0);\n}\n\ntemplate<typename A, typename B>\nostream& operator<<(ostream& os, pair<A, B> p) {\n\tos << \"(\" << p.first << \", \" << p.second << \")\";\n\treturn os;\n}\n\ntemplate<typename T>\nostream& operator<<(ostream& os, vector<T> v) {\n\tfi(0, sz(v) - 1) {\n\t\tos << v[i] << \" \";\n\t}\n\treturn os;\n}\n\ntemplate<typename T>\nostream& operator<<(ostream& os, set<T> t) {\n\tfor (auto z : t) {\n\t\tos << z << \" \";\n\t}\n\treturn os;\n}\n\ntemplate<typename T1, typename T2>\nostream& operator<<(ostream& os, map<T1, T2> t) {\n\tcerr << endl;\n\tfor (auto z : t) {\n\t\tos << \"\\t\" << z.first << \" -> \" << z.second << endl;\n\t}\n\treturn os;\n}\n\n#ifdef LOCAL\n#define dbg(x) {cerr << __LINE__ << \"\\t\" << #x << \": \" << x << endl;}\n#define dbg0(x, n) {cerr << __LINE__ << \"\\t\" << #x << \": \"; for (int ABC = 0; ABC < n; ABC++) cerr << x[ABC] << ' '; cerr << endl;}\n#else\n#define dbg(x) while(0){}\n#define dbg0(x, n) while(0){}\n#endif\n\n#ifdef LOCAL\n#define ass(x) if (!(x)) { cerr << __LINE__ << \"\\tassertion failed: \" << #x << endl, abort(); }\n#else\n#define ass(x) assert(x)\n#endif\n\n///////////////////////////////////////////////////\n\nvoid upd(vi &F, int x, int v) {\n\twhile (x < sz(F)) {\n\t\tF[x] += v;\n\t\tx |= (x + 1);\n\t}\n}\n\nint gets(vi &F, int x) {\n\tint res = 0;\n\twhile (x > 0) {\n\t\tres += F[x];\n\t\tx = (x & (x + 1)) - 1;\n\t}\n\treturn res;\n}\n\nint gets(vi &F, int l, int r) {\n\tif (l > r) return 0;\n\treturn gets(F, r) - gets(F, l - 1);\n}\n\nint f(vi &v, int x) {\n\tif (x == 0 || x == sz(v) - 1) return 0;\n\tif (v[x] > v[x - 1] && v[x] > v[x + 1]) return 1;\n\treturn 0;\n}\n\n\nclass Solution {\npublic:\n    vector<int> countOfPeaks(vector<int>& a, vector<vector<int>>& vq) {\n        int n = sz(a);\n        vi F = vi(n, 0);\n        vi res;\n        fi(0, n - 1) upd(F, i, f(a, i));       \n        //dbg(F);\n        fo(0, sz(vq) - 1) {\n        \tif (vq[o][0] == 1) {\n        \t\tint l = vq[o][1];\n        \t\tint r = vq[o][2];\n        \t\tint v = gets(F, l + 1, r - 1);        \t\t\n        \t\tres.pb(v);\n        \t\t// err(\"l = %d r = %d v = %d\\n\", l, r, v);\n        \t\t// err(\"\\n\");\n        \t\t// fi(0, sz(a) - 1) {\n        \t\t// \terr(\"%d : %d %d\\n\", a[i], f(a, i), gets(F, i, i));\n        \t\t// }\n        \t\t// err(\"\\n\");\n        \t} else {\n        \t\tint p = vq[o][1];\n        \t\tint nv = vq[o][2];\n        \t\tint f0 = f(a, p);\n        \t\tupd(F, p, -f0);\n\n        \t\ta[p] = nv;\n        \t\tint f1 = f(a, p);\n        \t\tupd(F, p, f1);        \t\t\n\n        \t\tfj(-1, 1) {\n        \t\t\tint pp = p + j;\n        \t\t\tif (j == 0) continue;\n        \t\t\tif (pp < 0 || pp >= n) continue;\n        \t\t\tint fp = gets(F, pp, pp);\n        \t\t\tupd(F, pp, -fp);\n        \t\t\tint fp2 = f(a, pp);\n        \t\t\t//err(\"pp = %d fp = %d fp2 = %d\\n\", pp, fp, fp2);\n        \t\t\tupd(F, pp, fp2);\n        \t\t}\n        \t}\n        }\n        return res;\n    }\n};",
    "submit_ts": 1718507553.0
}