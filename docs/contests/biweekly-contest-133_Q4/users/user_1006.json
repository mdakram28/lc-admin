{
    "username": "conqueror_61_m",
    "submission": "#define rep(i, a, b) for (int i = a; i <= b; i++)\nconst int MOD = 1e9 + 7;\ntypedef vector<long> vi;\ntypedef vector<vi> vvi;\n#define F first\n#define S second\n\nint dp[301][401];\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& r) {\n        memset(dp, 0, sizeof(dp));\n        map<int, int> reqMap;\n        for (auto it : r) {\n            reqMap[it[0] + 1] = it[1];\n        }\n        dp[0][0] = 1;\n        int len = 1;\n        while (len <= n) {\n            int cur = 0;\n            while (cur < 401) {\n                int newPos = 0;\n                while (newPos < len) {\n                    int prev = cur - newPos;\n                    if (prev >= 0) {\n                        (dp[len][cur] += dp[len - 1][prev]) %= MOD;\n                    }\n                    newPos++;\n                }\n                cur++;\n            }\n            if (reqMap.find(len) != reqMap.end()) {\n                int req = reqMap[len];\n                int cur = 0;\n                while (cur < 401) {\n                    if (cur != req) {\n                        dp[len][cur] = 0;\n                    }\n                    cur++;\n                }\n            }\n            len++;\n        }\n//         len = 1;\n//         while (len <= n) {\n            \n//             len++;\n//         }\n        long long ans = 0;\n        rep(i, 0, 400) {\n            (ans += dp[n][i]) %= MOD;\n        }\n        return (int)ans;\n    }\n};",
    "submit_ts": 1719071185.0
}