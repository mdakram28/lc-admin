{
    "username": "charming-varahamihira3mb",
    "submission": "class Solution {\npublic:\n    #define ls rt*2\n    #define rs rt*2+1\n    struct node{\n        int m,l,r;\n    }t[200100];\n    void pushup(int l,int r,int rt){\n        int mid=(l+r)/2;\n        t[rt].l=t[ls].l;\n        t[rt].r=t[rs].r;\n        if(t[rt].l==(mid-l+1)) t[rt].l+=t[rs].l;\n        if(t[rt].r==(r-mid)) t[rt].r+=t[ls].r;\n        t[rt].m=max(t[ls].m,t[rs].m);\n        t[rt].m=max(t[rt].m,t[ls].r+t[rs].l);\n    }\n    void build(int l,int r,int rt){\n        if(l==r){\n            t[rt].m=1;\n            t[rt].l=1;\n            t[rt].r=1;\n            return ;\n        }\n        int mid=(l+r)/2;\n        build(l,mid,ls);\n        build(mid+1,r,rs);\n        pushup(l,r,rt);\n    }\n    void insert(int l,int r,int rt,int x){\n        if(l==r){\n            t[rt].m=0;\n            t[rt].l=0;\n            t[rt].r=0;\n            return ;\n        }\n        int mid=(l+r)/2;\n        if(x<=mid)  insert(l,mid,ls,x);\n        else insert(mid+1,r,rs,x);\n        pushup(l,r,rt);\n    }\n    node query(int l,int r,int rt,int L,int R){\n        if(L<=l&&r<=R) return t[rt];\n        int mid=(l+r)/2;\n        node t1={0,0,0},t2={0,0,0};\n        if(L<=mid) t1=query(l,mid,ls,L,R);\n        if(R>mid) t2=query(mid+1,r,rs,L,R);\n        node tt;\n        tt.l=t1.l;\n        tt.r=t2.r;\n        if(tt.l==(mid-l+1)) tt.l+=t2.l;\n        if(tt.r==(r-mid)) tt.r+=t1.r;\n        tt.m=max(t1.m,t2.m);\n        tt.m=max(tt.m,t1.r+t2.l);\n        return tt;\n    }\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        vector<bool> res;\n        set<int> s;\n        s.clear();\n        int n=queries.size();\n        build(1,50001,1);\n        s.insert(50001);\n        insert(1,50001,1,50001);\n        for(int i=0;i<n;i++){\n            int f=queries[i][0],x=queries[i][1];\n            if(f==1){\n                insert(1,50001,1,x);\n                s.insert(x);\n            }\n            else{\n                int sz=queries[i][2];\n                auto it=s.upper_bound(x);\n                bool flag=0;\n                if(it==s.begin()) flag=1;\n                else{\n                    it--;\n                    if(*it>x) flag=1;\n                }\n                if(flag){\n                    // res.push_back(0);\n                    if(sz<=x) res.push_back(1);\n                    else res.push_back(0);\n                }\n                else{\n                    // res.push_back(1);\n                    node tt=query(1,50001,1,0,*it);\n                    int temp=max(tt.m+1,x-*it);\n                    // cout<<temp<<endl;\n                    if(sz<=temp) res.push_back(1);\n                    else res.push_back(0);\n                }\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1716650631",
    "subm_id": "534771796"
}