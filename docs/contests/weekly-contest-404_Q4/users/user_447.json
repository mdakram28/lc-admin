{
    "username": "hccyril",
    "submission": "public class Solution {\n    public int MinimumDiameterAfterMerge(int[][] edges1, int[][] edges2)\n    {\n        int n = edges1.Length + 1, m = edges2.Length + 1;\n        var tg1 = edges1.TreeGraph(n);\n        var tg2 = edges2.TreeGraph(m);\n        int d1 = tg1.Diameter(), d2 = tg2.Diameter();\n        Console.WriteLine(\"d1={0} d2={1}\", d1, d2);\n        int m1 = (d1 >> 1) + 1;\n        int m2 = (d2 >> 1) + 1;\n        return Math.Max(m1 + m2 - 1, Math.Max(d1 - 1, d2 - 1));\n    }\n}\n\ninternal static class EX {\n    internal static List<int>[] TreeGraph(this int[][] edges, int n = 0)\n    {\n        if (n == 0) n = edges.Length + 1;\n        var tg = Enumerable.Range(0, n).Select(_ => new List<int>()).ToArray();\n        foreach (var ed in edges)\n        {\n            tg[ed[0]].Add(ed[1]);\n            tg[ed[1]].Add(ed[0]);\n        }\n        return tg;\n    }\n    internal static int Diameter(this List<int>[] tg)\n    {\n        int n = tg.Length, di = 1, di_i = 0;\n        int[] a = new int[n];\n        a[0] = 1;\n        Queue<int> qu = new();\n        qu.Enqueue(0);\n        while (qu.Any())\n        {\n            int i = qu.Dequeue();\n            foreach (int j in tg[i])\n                if (a[j] == 0)\n                {\n                    a[j] = a[i] + 1;\n                    if (a[j] > di)\n                    {\n                        di = a[j];\n                        di_i = j;\n                    }\n                    qu.Enqueue(j);\n                }\n        }\n        Array.Fill(a, 0);\n        a[di_i] = 1;\n        qu.Enqueue(di_i);\n        while (qu.Any())\n        {\n            int i = qu.Dequeue();\n            foreach (int j in tg[i])\n                if (a[j] == 0)\n                {\n                    a[j] = a[i] + 1;\n                    if (a[j] > di)\n                    {\n                        di = a[j];\n                    }\n                    qu.Enqueue(j);\n                }\n        }\n        return di;\n    }\n}",
    "submit_ts": 1719718948.0
}