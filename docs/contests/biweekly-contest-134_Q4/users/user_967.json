{
    "username": "kumark6769704",
    "submission": "typedef long long int ll;\n#define MAX 100005\n#define bitscount 31\nint prefix_count[bitscount][MAX];\n \n// Function to find the prefix sum\nvoid findPrefixCount(vector <int> arr, int n)\n{\n \n    // Loop for each bit\n    for (int i = 0; i < bitscount; i++) {\n \n        // Loop to find prefix count\n        prefix_count[i][0] = ((arr[0] >> i) & 1);\n        for (int j = 1; j < n; j++) {\n            prefix_count[i][j] = ((arr[j] >> i) & 1);\n            prefix_count[i][j] += prefix_count[i][j - 1];\n        }\n    }\n}\n \n// Function to answer query\nll AND(int l, int r)\n{\n \n    // To store the answer\n    ll ans = 0;\n \n    // Loop for each bit\n    for (int i = 0; i < bitscount; i++) {\n        // To store the number of variables\n        // with ith bit set\n        int x;\n        if (l == 0)\n            x = prefix_count[i][r];\n        else\n            x = prefix_count[i][r]\n                - prefix_count[i][l - 1];\n \n        // Condition for ith bit\n        // of answer to be set\n        if (x == r - l + 1)\n            ans = (ans | (1 << i));\n    }\n \n    return ans;\n}\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& b, int k) {\n        int n = b.size();\n        findPrefixCount(b, n);\n        ll count5 = 0 ;\n        for (int i = 0, j = 0; j < n; j++) {\n            ll d = AND(i,j); //[i............j]\n            while (d<k && i<=j){\n                i++;\n                if(i<=j){\n                d = AND(i,j);}\n                else{ d = 1e18;\n                }\n            }\n            \n            count5 += (j - i + 1);\n            \n            \n        }\n        \n        ll count = 0 ;\n        for (int i = 0, j = 0; j < n; j++) {\n            ll d = AND(i,j); //[i............j]\n            while (d<(k+1) && i<=j){\n                i++;\n                if(i<=j){\n                d = AND(i,j);}\n                else{ d = 1e18;\n                }\n            }\n            \n            count += (j - i + 1);\n            \n            \n        }\n        //cout<<count5<<\" \"<<count<<\"\\n\";\n        return (count5-count);\n        \n        \n        \n    }\n};",
    "submit_ts": "1720277676",
    "subm_id": "1311674807"
}