{
    "username": "Ujimatsu_Chiya",
    "submission": "# include <bits/stdc++.h>\n# define mem(a,b) memset(a,b,sizeof(a))\n# define lb(x) ((x) & -(x))\n# define pi pair<int,int>\n# define X first\n# define Y second\n# ifdef LOCAL\n# include \"leetcode.h\"\n# endif // LOCAL\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\nint dx[4]={-1,1,0,0},dy[4]={0,0,-1,1};\n\ntemplate<typename T>\nostream & operator << (ostream &out,const set<T>&obj){out<<\"set(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<*it;out<<\")\";return out;}\ntemplate<typename T>\nostream & operator << (ostream &out,const unordered_set<T>&obj){out<<\"unordered_set(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<*it;out<<\")\";return out;}\ntemplate<typename T1,typename T2>\nostream & operator << (ostream &out,const map<T1,T2>&obj){out<<\"map(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<it->first<<\": \"<<it->second;out<<\")\";return out;}\ntemplate<typename T1,typename T2>\nostream & operator << (ostream &out,const unordered_map<T1,T2>&obj){out<<\"unordered_map(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<it->first<<\": \"<<it->second;out<<\")\";return out;}\ntemplate<typename T1,typename T2>\nostream & operator << (ostream &out,const pair<T1,T2>&obj){out<<\"<\"<<obj.first<<\", \"<<obj.second<<\">\";return out;}\ntemplate<typename T>\nostream & operator << (ostream &out,const vector<T>&obj){out<<\"vector(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<*it;out<<\")\";return out;}\n\ntemplate <typename T>\nstruct HashTable {\n  vector<T> val;\n  void add(T x) { val.push_back(x); }\n  void init() {\n    sort(ALL(val));\n    val.erase(unique(ALL(val)), val.end());\n  }\n  int query(T x) { return lower_bound(ALL(val), x) - val.begin() + 1; }\n  T operator[](const int t) const { return val[t - 1]; }\n  int size() { return val.size(); }\n  void clear(){val.clear();}\n};\nll mod=1e9+7;\nvoid add(int &x, int y) {\n    (x += y) >= mod && (x -= mod);\n}\nvoid sub(int &x, int y) {\n    (x -= y) < 0 && (x += mod);\n}\n\nclass Solution {\npublic:\n    vector<int>g[100004];\n    int d1[100004],ans[100004];\n    void dfs1(int u,int fa){\n        for(int v:g[u]){\n            if(v==fa) continue;\n            dfs1(v,u);\n            int w=v&1?1:2;\n            d1[u]=max(d1[u],d1[v]+w);\n        }\n    }\n    void dfs2(int u,int fa,int pre){\n        //printf(\"%d %d %d %d\\n\",u,fa,pre,d1[u]);\n        int x1=0,x2=0;\n        ans[u]=max(pre,d1[u]);\n        for(int v:g[u]){\n            int dis=d1[v]+(v&1?1:2);\n            if(v==fa) continue;\n            if(dis>x1){\n                x2=x1;x1=dis;\n            }\n            else if(dis>x2){\n                x2=dis;\n            }\n        }\n        //printf(\"%d %d\\n\",x1,x2);\n        for(int v:g[u]){\n            if(v==fa) continue;\n            int w1=v&1?1:2,w2=u&1?1:2;\n            int x=(d1[v]+w1==x1?x2:x1);\n            //printf(\": %d %d %d %d\\n\",u,v,x,pre);\n            int now=max(x,pre)+w2;\n            dfs2(v,u,now);\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        for(auto u:edges){\n            g[u[0]].push_back(u[1]);\n            g[u[1]].push_back(u[0]);\n        }\n        dfs1(0,-1);\n        ans[0]=d1[0];\n        dfs2(0,-1,0);\n        return vector<int>(ans,ans+n);\n    }\n};\n\n",
    "submit_ts": "1722697775",
    "subm_id": "552267736"
}