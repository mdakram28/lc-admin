{
    "username": "addusirmac",
    "submission": "class Solution {\npublic:\n    int dx[8]={0,0,1,-1,1,1,-1,-1};\nint dy[8]={1,-1,0,0,1,-1,-1,1};\n \nconst int N=200001;\n#define ll long long int\n#define pii pair<int,int>\n#define all(arr) arr.begin(),arr.end()\n#define fr first\n#define sc second\n#define pb push_back\n// const int INF= 1e15;\n// const int mod= 1e12+9;\nconst int mod= 1e9+7;\n    int countOfPairs(vector<int>& arr) {\n        int n= arr.size();\n        int mx= *max_element(all(arr));\n       \n        vector<vector<int>>dp(n+1, vector<int>(mx+1, 0));\n//         auto f=[&](auto self, int i, int prev)->int{\n//            if(i>=n)return 1;\n            \n//            if(dp[i][prev]!=-1)\n//                return dp[i][prev];\n            \n//            int ans=0;\n//            int prev2= (i>0?arr[i-1]- prev:mx);\n//            for(int curr= prev; curr<= arr[i]; curr++){\n//                int req= arr[i]-curr;\n//                if(req<=prev2)ans=(ans+ self(self, i+1, curr))%mod;\n//            }\n//            return dp[i][prev]= ans;\n//         };\n        vector<int>pre(mx+1, 0);\n        for(int i=n; i>=0; i--){\n          vector<int>nPre(mx+1, 0);\n          for(int prev=0; prev<=mx; prev++){\n              if(i==n){\n                  dp[i][prev]=1;\n                  nPre[prev]= 1;\n                  if(prev>0)nPre[prev]= (nPre[prev]+nPre[prev-1])%mod;\n                  continue;\n              }\n              \n              int ans=0;\n              int prev2= (i>0?arr[i-1]- prev:mx);\n              int delta= max(0, arr[i]- prev- prev2);\n              if(prev+ delta<=arr[i]){\n                //till arr[i]\n                  int curr= prev+delta;\n                int contri= (pre[arr[i]]- (curr>0?pre[curr-1]:0ll))%mod;\n                if(contri<0)contri+= mod;\n                ans= (ans+contri)%mod;\n              }\n     \n              nPre[prev]= ans;\n              if(prev>0)nPre[prev]= (nPre[prev]+nPre[prev-1])%mod;\n              dp[i][prev]= ans;\n          }\n            \n            swap(pre, nPre);\n        }\n      \n        int ans= dp[0][0];\n        return ans;\n    }\n};",
    "submit_ts": "1723348167",
    "subm_id": "1351612847"
}