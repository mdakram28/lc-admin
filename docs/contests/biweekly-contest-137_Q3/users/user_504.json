{
    "username": "\u6211\u6ef4\u4e2a\u9f9f\u9f9f",
    "submission": "class Solution:\n    def maximumValueSum(self, board: List[List[int]]) -> int:\n        n,m = len(board),len(board[0])\n        # \u5806\u4f18\u5316\uff0c\u6bcf\u4e00\u884c\uff0c\u524d\u4e09\u4e2a\u6700\u5927\u503c\n        rows_heap = [[-1] * 3 for _ in range(n)]\n        for i in range(n):\n            a,b,c = -inf,-inf,-inf\n            x,y,z = -1,-1,-1\n            for j,num in enumerate(board[i]):\n                if num >= c:\n                    a,b,c = b,c,num\n                    x,y,z = y,z,j\n                elif num >= b:\n                    a,b = b,num\n                    x,y = y,j\n                elif num > a:\n                    a = num\n                    x = j\n                    \n            rows_heap[i] = [x,y,z]\n        \n        print(rows_heap)\n\n        # a,b \u9009\u7684\u4e24\u5217\n        @cache\n        def dfs(i,a,b):\n            if i == n:\n                return -inf\n            \n            # \u8df3\u8fc7\u5f53\u524d\u5217\n            res = dfs(i+1,a,b)\n\n            # \u9009\u7b2c\u4e00\u5217\n            if b == -1:\n                # \u9009\u524d\u4e09\u5373\u53ef\n                for j in rows_heap[i]:\n                    lres = dfs(i+1,a,j) + board[i][j]\n                    if lres > res:\n                        res = lres\n\n            # \u9009\u7b2c\u4e8c\u5217\n            elif a == -1:\n                # \u9009\u524d\u4e09\u5373\u53ef\n                for j in rows_heap[i]:\n                    if j == b:\n                        continue\n\n                    lres = dfs(i+1,j,b) + board[i][j]\n                    if lres > res:\n                        res = lres\n\n            # \u6700\u540e\u4e00\u4e2a\n            else:\n                \n                # \u9009\u524d\u4e09\u5373\u53ef\n                for j in rows_heap[i]:\n                    if j == a or j == b:\n                        continue\n                    \n                    lres = board[i][j]\n                    if lres > res:\n                        res = lres\n\n            return res\n\n        res = dfs(0,-1,-1)\n        dfs.cache_clear()\n        return res\n        \n\n\n            ",
    "submit_ts": "1723907620",
    "subm_id": "556326559"
}