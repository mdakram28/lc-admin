{
    "username": "mrhga_777",
    "submission": "class Solution {\n    int n; int m; vector<vector<long long>> mat;\npublic:\n    void fun(vector<int> &v,int ele,bool flag,long long &cnt){\n        int i = 0,j=(int)v.size()-1;\n        while(i<=j){\n            if(!flag){\n                int row = ele; int col1 = i; int col2 = j;\n                int p =mat[row][col1];\n                if(p == 0) {mat[row][col1] = cnt; mat[row][col2]=cnt;}\n                else {mat[row][col1] = p; mat[row][col2]=p;}\n            }\n            else{\n                int row1 = i,row2=j;int col = ele;\n                int p = mat[row1][col];\n                if(p == 0) {mat[row1][col] = cnt; mat[row2][col]=cnt;}\n                else {mat[row1][col] = p; mat[row2][col]=p;}\n            }\n            i++; j--;\n            cnt++;\n        }\n    }\n    int fun1(vector<pair<int,int>> &arr1,vector<pair<int,int>> &arr2,int i,int temp, vector<vector<int>> &dp){\n        if(i == arr1.size()){\n            if(temp == 0) return 0;\n            else return 1e9+7;\n        }\n        if(dp[temp][i] !=-1) return dp[temp][i];\n        int ans1 = 0,ans2 = 0;\n        ans1 = arr1[i].first + fun1(arr1,arr2,i+1,(temp+arr1[i].second)%4,dp);\n        ans2 = arr2[i].first + fun1(arr1,arr2,i+1,temp,dp);\n        return dp[temp][i] = min(ans1,ans2);\n    }\n    int minFlips(vector<vector<int>>& grid) {\n        this->n = grid.size();\n        this->m = grid[0].size();\n        mat.resize(n,vector<long long>(m,0));\n        long long cnt = 0;\n        for(int i=0;i<n;i++){\n            cnt++;\n            fun(grid[i],i,0,cnt);\n        }\n        for(int i=0;i<m;i++){\n            vector<int> temp;\n            cnt++;\n            for(int j=0;j<n;j++) temp.push_back(grid[j][i]);\n            fun(temp,i,1,cnt);\n        }\n        // for(int i=0;i<n;i++){\n        //     for(int j=0;j<m;j++){\n        //         cout<<mat[i][j]<<\" \";\n        //     }\n        //     cout<<endl;\n        // }\n        // return -1;\n        map<int,set<pair<int,int>>> mp;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<m;j++) mp[mat[i][j]].insert({i,j});\n        }\n        vector<pair<int,int>> ones;\n        vector<pair<int,int>> zeros;\n        for(auto &ele:mp){\n            set<pair<int,int>> st = ele.second;\n            int cost = 0;\n            for(auto &p:st) if(grid[p.first][p.second] == 0) cost++;\n            ones.push_back({cost,st.size()});\n            cost = 0;\n            for(auto &p:st) if(grid[p.first][p.second] == 1) cost++;\n            zeros.push_back({cost,st.size()});\n        }\n        vector<vector<int>> dp(5,vector<int>((int)ones.size()+4,-1));\n        return fun1(ones,zeros,0,0,dp);\n    }\n};",
    "submit_ts": "1722698844",
    "subm_id": "1343193642"
}