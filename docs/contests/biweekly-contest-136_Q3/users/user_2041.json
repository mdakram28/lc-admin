{
    "username": "017-e",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size();\n        int m = grid[0].size();\n        vector<vector<bool>>b(n,vector<bool>(m,0));\n        vector<int>chose1,chose2;\n        int cnt1 = 0;\n        int ans = 0;\n        for(int i = 0;i<n;i++) for(int j = 0;j<m;j++) if(grid[i][j]) cnt1++;\n        //cout << cnt1 <<endl;\n        for(int i = 0;i<n;i++){\n            for(int j = 0;j<m;j++){\n               // cout << cnt1 <<endl;\n                int c1 = 0;int c0 = 0;\n                if(b[i][j]) continue;\n                int now = 1;b[i][j] = 1;\n                if(grid[i][j]==1) c1++;\n                else c0++;\n                if(!b[n-1-i][j]){\n                    now++;b[n-1-i][j] = 1;\n                    if(grid[n-1-i][j]==1) c1++;\n                    else c0++;\n                }\n                if(!b[i][m-j-1]){\n                    now++;b[i][m-j-1] = 1;\n                    if(grid[i][m-j-1]==1) c1++;\n                    else c0++;\n                }\n                if(!b[n-1-i][m-1-j]){\n                    now++;b[n-1-i][m-1-j] = 1;\n                    if(grid[n-1-i][m-1-j]==1) c1++;\n                    else c0++;\n                }\n                if(now==4){\n                    if(c1==2) {cnt1 += 2;ans+=2;}\n                    else if(c1==1) {cnt1--;ans++;}\n                    else if(c1==3) {cnt1++;ans++;}\n                }else if(now==2){\n                    //cnt1+=c1;\n                    if(c1==1){chose1.push_back(1);chose2.push_back(3);}\n                    else {chose1.push_back(2);chose2.push_back(0);}\n                }else{\n                    //cnt1+=c1;\n                    if(c1==1) {chose1.push_back(3),chose2.push_back(0);}\n                    else {chose1.push_back(1),chose2.push_back(0);}\n                }\n               // if(cnt1==6) cout << i <<' '<< j <<endl;\n              // if(i==1&&j==1) cout << now <<endl;\n            }\n        }\n        //cout << ans <<endl;\n        //cout << cnt1 <<endl;\n        unordered_map<int,int>mp;\n        mp[0] = 0;mp[1] = 1;mp[2] = 2;mp[3] = 1;\n        int k = chose1.size();\n        int start = cnt1%4;\n        vector<vector<int>>dp(k+1,vector<int>(4,1000000));\n        dp[0][start] = 0;\n        for(int i = 0;i<k;i++){\n            for(int j = 0;j<4;j++){\n                dp[i+1][(j+chose1[i])%4] = min(dp[i][j]+mp[chose1[i]], dp[i+1][(j+chose1[i])%4]);\n                dp[i+1][(j+chose2[i])%4] = min(dp[i][j]+mp[chose2[i]], dp[i+1][(j+chose2[i])%4]);\n            }\n        }\n        int kk = dp[k][0];\n        return kk+ans;\n    }\n};",
    "submit_ts": "1722700162",
    "subm_id": "552278657"
}