{
    "username": "981377660LMT",
    "submission": "from bisect import bisect_left, bisect_right\nfrom itertools import accumulate\nfrom typing import List, Tuple, Optional\nfrom collections import defaultdict, Counter\nfrom sortedcontainers import SortedList\n\n\nMOD = int(1e9 + 7)\nINF = int(1e20)\n\n# \u7ed9\u4f60\u4e00\u4e2a\u957f\u5ea6\u4e3a n \u7684\u6574\u6570\u6570\u7ec4 nums \uff0cn \u662f \u5076\u6570 \uff0c\u540c\u65f6\u7ed9\u4f60\u4e00\u4e2a\u6574\u6570 k \u3002\n\n# \u4f60\u53ef\u4ee5\u5bf9\u6570\u7ec4\u8fdb\u884c\u4e00\u4e9b\u64cd\u4f5c\u3002\u6bcf\u6b21\u64cd\u4f5c\u4e2d\uff0c\u4f60\u53ef\u4ee5\u5c06\u6570\u7ec4\u4e2d \u4efb\u4e00 \u5143\u7d20\u66ff\u6362\u4e3a 0 \u5230 k \u4e4b\u95f4\u7684 \u4efb\u4e00 \u6574\u6570\u3002\n\n# \u6267\u884c\u5b8c\u6240\u6709\u64cd\u4f5c\u4ee5\u540e\uff0c\u4f60\u9700\u8981\u786e\u4fdd\u6700\u540e\u5f97\u5230\u7684\u6570\u7ec4\u6ee1\u8db3\u4ee5\u4e0b\u6761\u4ef6\uff1a\n\n\n# \u5b58\u5728\u4e00\u4e2a\u6574\u6570 X \uff0c\u6ee1\u8db3\u5bf9\u4e8e\u6240\u6709\u7684 (0 <= i < n) \u90fd\u6709 abs(a[i] - a[n - i - 1]) = X \u3002\n# \u8bf7\u4f60\u8fd4\u56de\u6ee1\u8db3\u4ee5\u4e0a\u6761\u4ef6 \u6700\u5c11 \u4fee\u6539\u6b21\u6570\u3002\n#\n# \u6709\u7684pair\u53ea\u9700\u8981\u6539\u4e00\u4e2a\u6570\uff0c\u6709\u7684pair\u9700\u8981\u6539\u4e24\u4e2a\u6570\uff0c\u6709\u7684pair\u4e0d\u9700\u8981\u6539\n\n\ndef min2(a: int, b: int) -> int:\n    return a if a < b else b\n\n\ndef max2(a: int, b: int) -> int:\n    return a if a > b else b\n\n\nclass Solution:\n    def minChanges(self, nums: List[int], k: int) -> int:\n        diff = [0] * (k + 2)  # diff\u4e3ax\u65f6\uff0c\u9700\u8981\u7684\u64cd\u4f5c\u6570\n\n        def add(left: int, right: int, x: int):\n            diff[left] += x\n            diff[right + 1] -= x\n\n        n = len(nums)\n        for i in range(n // 2):\n            if nums[i] > nums[~i]:\n                nums[i], nums[~i] = nums[~i], nums[i]\n            a, b = nums[i], nums[~i]\n            add(0, k, 2)\n            add(0, max2(k - a, b), -1)\n            add(b - a, b - a, -1)\n\n        diff = list(accumulate(diff))\n        return min(diff[:-1])",
    "submit_ts": "1721488806",
    "subm_id": "548316070"
}