{
    "username": "Mahipalkeizer",
    "submission": "#define ll long long \nclass Solution {\npublic:\n\n    array<int, 4> t[4* (50010)];\n\n    array<int,4> combine(array<int, 4> a, array<int, 4> b) {\n        array<int,4> ans;\n        ans[0] = max(a[0] + max(b[0],b[2]), a[1]+b[0]);\n        ans[1]  = max(a[0] +max(b[1],b[3]), a[1]+b[1]);\n        \n        ans[2] = max(a[2] + max(b[0],b[2]), a[3]+b[0]);\n        ans[3]  = max(a[2] +max(b[1],b[3]), a[3]+b[1]);\n        return ans;\n    }\n\n    void build(vector<int>& arr, int v, int tl, int tr) {\n        if (tl == tr) {\n            t[v] = {0, 0, 0, arr[tl]};\n        } else {\n            int tm = (tl + tr) / 2;\n            build(arr, v*2, tl, tm);\n            build(arr, v*2+1, tm+1, tr);\n            t[v] = combine(t[v*2], t[v*2+1]);\n        }\n    }\n\n    void update(int v, int tl, int tr, int pos, int new_val) {\n        if (tl == tr) {\n            t[v] = {0, 0, 0, new_val};\n        } else {\n            int tm = (tl + tr) / 2;\n            if (pos <= tm)\n                update(v*2, tl, tm, pos, new_val);\n            else\n                update(v*2+1, tm+1, tr, pos, new_val);\n            t[v] = combine(t[v*2], t[v*2+1]);\n        }\n    }\n    \n    int maximumSumSubsequence(vector<int>& nums, vector<vector<int>>& queries) {\n        int n= nums.size();\n        build(nums, 1, 0, n-1);\n        // for(int i=0;i<8;i++){\n        //     auto x=t[i];\n        //     for(auto y:x)\n        //         cout<<y<<' ';\n        //     cout<<\"\\n\";\n        // }\n        ll ans=0;\n        ll mod = 1e9+7;\n        for(auto q : queries){\n            update(1, 0, n-1, q[0], q[1]);\n            ans += max(max(t[1][0], t[1][1]), max(t[1][2], t[1][3]));\n            assert(ans>=0);\n            ans %= mod;\n            \n        }\n        \n        return ans;\n        \n    }\n};",
    "submit_ts": 1716695352.0
}