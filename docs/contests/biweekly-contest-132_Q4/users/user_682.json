{
    "username": "imnc",
    "submission": "/*\n\n\u270e nc ... 08.06.2024\n\n*/\n\n#ifndef LOCAL\n#pragma GCC optimize(\"Ofast\")\n#pragma GCC optimize(\"unroll-loops\")\n#endif\n\n#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n\nusing namespace std;\nusing namespace __gnu_pbds;\n\n#define all(a) a.begin(), a.end()\n#define lla(a) a.rbegin(), a.rend()\n#define pb push_back\n#define sz(a) ((int)a.size())\n#define endl '\\n'\n#define gcd(a, b) __gcd(a, b)\n#define popc(a) __builtin_popcount(a)\n\nusing ll = long long;\nusing i32 = int32_t;\nusing u32 = unsigned int;\nusing u64 = unsigned long long;\nusing ld = long double;\nusing i128 = __int128;\nusing u128 = unsigned __int128;\nusing pii = pair<int, int>;\n\ntemplate <typename T>\nusing vc = vector<T>;\n\n#define vi vc<int>\n#define vvi vc<vi>\n#define umap unordered_map\n#define mp make_pair\n#define maxar(arr) *max_element(all(arr))\n#define minar(arr) *min_element(all(arr))\n#define viit vi::iterator\n#define itr ::iterator\nconst int MAX = 1e5 + 5;\nconst int MOD = 1e9 + 7;\nconst int INF = 1e9;\nconst ld EPS = 1e-9;\n\n#ifdef LOCAL\n#define dbg(...) cerr << \"(\" << #__VA_ARGS__ << \"):\", dbg_out(__VA_ARGS__)\n#else\n#define dbg(...)\n#endif\n\nclass Solution\n{\npublic:\n    int maximumLength(vector<int> &arr, int k)\n    {\n        int n = arr.size();\n        vc<vc<int>> plj(n, vc<int>(k + 1, 1));\n        int ret = 1;\n        vc<int> vk(k + 1, -1);\n        vc<map<int, int>> nccc(k + 1);\n        for (int i = 0; i < n; i++)\n        {\n            for (int j = 0; j <= k; j++)\n            {\n                for (int l = 0; l < j; l++)\n                {\n                    plj[i][j] = max(plj[i][j], 1 + vk[l]);\n                }\n                if (nccc[j].find(arr[i]) != nccc[j].end())\n                {\n                    plj[i][j] = max(plj[i][j], 1 + nccc[j][arr[i]]);\n                }\n                ret = max(ret, plj[i][j]);\n            }\n            for (int j = 0; j <= k; j++)\n            {\n                vk[j] = max(vk[j], plj[i][j]);\n                nccc[j][arr[i]] = max(nccc[j][arr[i]], plj[i][j]);\n            }\n        }\n        return ret;\n    }\n};\n\nauto init = []()\n{\n    ios::sync_with_stdio(0);\n    cin.tie(0);\n    cout.tie(0);\n    return 'c';\n}();",
    "submit_ts": "1717861479",
    "subm_id": "1281792377"
}