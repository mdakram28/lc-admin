{
    "username": "ernestlu",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = (int)edges.size() + 1;\n        vector e(n, vector<int>());\n        for (const auto& row : edges)\n            e[row[0]].push_back(row[1]),\n            e[row[1]].push_back(row[0]);\n        \n        vector c(n, vector<int>());\n        vector<int> dp(n, 0);\n        auto dfs = [&](auto& dfs, int g, int p) -> int {\n            int ans = 0;\n            for (auto& u : e[g]) {\n                if (u == p)\n                    continue;\n                int bel = dfs(dfs, u, g);\n                if (u % 2) {\n                    c[g].push_back(bel + 1);\n                    ans = max(ans, bel + 1);\n                } else {\n                    c[g].push_back(bel + 2);\n                    ans = max(ans, bel + 2);\n                }\n            }\n            dp[g] = ans;\n            return ans;\n        };\n\n        int ans0 = dfs(dfs, 0, -1);\n        vector<int> ret(n, 0);\n        ret[0] = ans0;\n  \n        auto dfs_2 = [&](auto& dfs_2, int g, int p) -> void {\n            auto& ans = ret[g];\n            int mx = 0, smx = 0;\n            for (auto u : e[g]) {\n                int h = dp[u] + (u % 2 ? 1 : 2);\n                ans = max(ans, dp[u] + (u % 2 ? 1 : 2));\n                if (h > mx) {\n                    smx = mx;\n                    mx = h;\n                } else if (h > smx) {\n                    smx = h;\n                }\n            }\n            \n            int og_dp = dp[g];\n            for (auto& u : e[g]) {\n                if (u != p) {\n                    int h = dp[u] + (u % 2 ? 1 : 2);\n                    dp[g] = (h == mx ? smx : mx);\n                    dfs_2(dfs_2, u, g);\n                    dp[g] = og_dp;\n                }\n            }\n            dp[g] = og_dp;\n        };\n        dfs_2(dfs_2, 0, -1);\n\n        return ret;\n    }\n};",
    "submit_ts": "1722696544",
    "subm_id": "1343112137"
}