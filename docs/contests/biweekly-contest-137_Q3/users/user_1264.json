{
    "username": "Cqiiin22",
    "submission": "class Solution {\n    // 3 \u53f0\u8f66\n    private long curSum;\n    private long ans;\n    private int[][] grid;\n    private int[] maxRows;\n    private int row;\n    private int col;\n\n    public long maximumValueSum(int[][] board) {\n        grid = board;\n        row = board.length;\n        col = board[0].length;\n        maxRows = new int[row];\n        Arrays.fill(maxRows, Integer.MIN_VALUE);\n\n        ans = Long.MIN_VALUE;\n        boolean[] cols = new boolean[col]; // \u8bb0\u5f55\u5df2\u9009\u62e9\u7684\u5217\n\n        for(int i = 0; i <= row - 3; i++){\n            for(int j = 0; j < col; j++){\n                curSum = grid[i][j];\n                cols[j] = true;\n                dfs(2, i, cols);\n                cols[j] = false;\n                curSum = 0;\n            }\n        }\n        return ans;\n    }\n    private void dfs(int leftCar, int carRow, boolean[] cols){\n        if(leftCar == 0) {\n            if(ans < curSum) ans = curSum;\n            return ;\n        }\n        \n        for(int i = carRow + 1; i < row; i++){\n            for(int j = 0; j < col; j++){\n                if(cols[j]) continue;\n                // \u526a\u679d\n                if(maxRows[i] == Integer.MIN_VALUE){\n                    findMax(i);\n                }\n                long pMax = curSum + ((long)leftCar * maxRows[i]);\n                if(pMax <= ans) return;\n                // \u5360\n                cols[j] = true;\n                curSum += grid[i][j];\n                dfs(leftCar - 1, i, cols);\n                // \u4e0d\u5360\n                curSum -= grid[i][j];\n                cols[j] = false;\n            }\n        }\n    }\n    private void findMax(int startRow){\n        int maxVal = Integer.MIN_VALUE;\n        for (int i = startRow; i < row; i++) {\n            for (int j = 0; j < col; j++) {\n                maxVal = Math.max(maxVal, grid[i][j]);\n            }\n        }\n        maxRows[startRow] = maxVal;\n    }\n}",
    "submit_ts": "1723909862",
    "subm_id": "556338316"
}