{
    "username": "Yashraj_Singh_Panwar",
    "submission": "// Containers\ntypedef unsigned int uint;\ntypedef long long ll;\ntypedef unsigned long long ull;\ntypedef pair<int, int>\t    pii;\ntypedef pair<ll, ll>\t    pll;\ntypedef vector<int>\t\t    vi;\ntypedef vector<ll>\t\t    vl;\ntypedef vector<pii>\t\t    vpii;\ntypedef vector<pll>\t\t    vpll;\ntypedef vector<vi>\t\t    vvi;\ntypedef vector<vl>\t\t    vvl;\ntypedef pair<string,string> pss;\ntypedef map<int, int>\t    mii;\n\n// Miscellanous\n#define pb push_back\n#define ff first\n#define ss second\n#define sz(v) (int)v.size()\n#define all(v) v.begin(),v.end()\n#define sortv(v) sort(all(v))\ntemplate <class T>\nvoid clr(T* arr, int size) {memset(arr, 0, size * sizeof(T));}\n\nvoid pnl() {printf(\"\\n\");}\nvoid pyes() {printf(\"YES\\n\");}\nvoid pno() {printf(\"NO\\n\");}\n\n#define loop(i,s,e) for (int (i)=(s);(i)<(e);++(i))\n#define loope(i,s,e) for (int (i)=(s);(i)<=(e);++(i))\n#define forc(c,s,e) for (char (c)=(s);(c)<=(e);++(c))\n#define rep(i,n) loop(i,0,n)\n#define repn(i,n) loope(i,1,n)\n\n\nseed_seq seq{\n  (uint64_t) chrono::duration_cast<chrono::nanoseconds>(chrono::high_resolution_clock::now().time_since_epoch()).count(),\n  (uint64_t) __builtin_ia32_rdtsc(),\n  (uint64_t) (uintptr_t) make_unique<char>().get()\n};\nmt19937_64 rng(seq);\n\nconst int MAXN = 5e4;\n\nconst uint64_t MOD = 1e9 + 7;\nconst ll BASE = uniform_int_distribution<ll>(2,MOD-1)(rng); \n\nll bpow[MAXN+5];\n\nstatic inline ll add(ll x, ll y) {x+=y; return x >= MOD ? x-MOD : x;}\nstatic inline ll sub(ll x, ll y) {x-=y; return x < 0 ? x+MOD : x;}\nstatic inline uint64_t mul(uint64_t x,uint64_t y) \n{\n  return x*y % MOD;\n}\n\nvoid init(int n)\n{\n  bpow[0] = 1;\n  repn(i,n+2) bpow[i] = mul(bpow[i-1] , BASE);\n}\n\nstruct HASH\n{\n  int n;\n  string a;\n  vl pref;\n  HASH(string &a)\n  {\n    // Array a is *** 0-INDEXED ***\n    this->n = sz(a);\n    this->a = a;\n    pref.resize(n+1);\n\n    pref[0] = 0;\n    repn(i,n) pref[i] = add(pref[i-1] , mul(a[i-1] , bpow[i-1]));\n  }\n\n  ll hash(int l, int r) {return mul(bpow[n-l] , sub(pref[r+1] , pref[l]));}\n  \n  ll hash(string &v)\n  {\n    ll res = 0;\n    rep(i,sz(v)) res = add(res , mul(v[i] , bpow[i]));\n    return mul(res , bpow[n]);\n  }\n\n};\n\n\nclass Solution \n{\n  public:\n  int minimumCost(string target, vector<string>& words, vector<int>& costs) \n  {\n    int n = sz(target);\n    init(n);\n    HASH hs(target);\n\n    vi len;\n    for(auto &s : words) len.pb(sz(s));\n\n    sortv(len);\n    len.resize(unique(all(len)) - len.begin());\n\n    unordered_map<ll , int> mp;\n    int m = sz(words);\n    rep(i,m)\n    {\n      ll h = hs.hash(words[i]);\n\n      int x = mp[h];\n      if(!x) mp[h] = costs[i];\n      else mp[h] = min(x , costs[i]);\n    }\n\n    int dp[n];\n    rep(i,n) \n    {\n      dp[i] = INT_MAX;\n      for(auto &l : len) \n      {\n        if(i-l+1 < 0) continue;\n        int prev = (i-l >= 0 ? dp[i-l] : 0);\n        if(prev == INT_MAX) continue;\n\n        ll h = hs.hash(i-l+1 , i);\n\n        int c = mp[h];\n        if(c) dp[i] = min(dp[i] , prev + c);\n      }\n    }\n\n    if(dp[n-1] != INT_MAX)  return dp[n-1];\n    return -1;\n  }\n};\n\n\n",
    "submit_ts": "1720324348",
    "subm_id": "1312397351"
}