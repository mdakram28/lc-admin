{
    "username": "MkaanTheKing",
    "submission": "class Solution {\npublic:\n\tint n,kk;\n    int maximumLength(vector<int>& x, int k) {\n        kk=k;\n        n=x.size();\n        int a[n+5];\n        for(int i=0;i<x.size();i++)a[i+1]=x[i];\n        \n        int son=a[n];\n        int git=n+1;\n        map<int,int> val;\n        int gitt[n+5];\n        int gitf[n+5];\n        int dp[n+5][k+5];\n       memset(dp,0,sizeof(dp));\n        int dp2[n+5][k+5];\n       memset(dp2,0,sizeof(dp2));\n        gitt[n]=n+1;\n        gitf[n]=n+1;\n        val[a[n]]=n;\n        for(int i=n-1;i>=1;i--){\n\t\t\tif(val[a[i]]==0)val[a[i]]=n+1;\n            gitf[i]=val[a[i]];\n\t\t\tif(son!=a[i])gitt[i]=i+1;\n\t\t\telse gitt[i]=git;\n\t\t\tval[a[i]]=i;\n\t\t\tif(a[i]!=son){git=i+1;son=a[i];}\n\t\t}\n        for(int i=1;i<=n;i++){\n            for(int j=0;j<=k;j++){\n                if(j)dp2[i][j]=max(dp2[i-1][j],dp2[i][j]);\n                dp[i][j]=max(dp[i][j],dp2[i][j]);\n                if(i!=n+1){\n                    dp[gitf[i]][j]=max(dp[gitf[i]][j],dp[i][j]+1);\n                    \n                    if(j!=k)dp[gitt[i]][j+1]=max(dp[gitt[i]][j+1],dp[i][j]+1);\n                    if(j!=k)dp2[gitt[i]][j+1]=max(dp2[gitt[i]][j+1],dp[i][j]+1);\n                }\n            }\n        }\n        int cev=0;\n        for(int i=1;i<=n+1;i++){\n            for(int j=0;j<=k;j++)cev=max(cev,dp[i][j]);\n        }\n\t\treturn cev;\n    }\n};\n",
    "submit_ts": 1717860508.0
}