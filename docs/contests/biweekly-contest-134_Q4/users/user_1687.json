{
    "username": "codescannner",
    "submission": "class Solution {\n    public long countSubarrays(int[] nums, int k) {\n        long first =  count(nums, k);\n        long second =  count(nums, k + 1);\n        // System.out.println(first);\n        // System.out.println(second);\n        return first - second;\n    }\n    public long count(int [] nums, int k){\n        long cnt = 0;\n        int n = nums.length;\n        int bitCount[] = new int[32];\n        int i = 0, j = 0, and = 0;\n        while(j < n){\n            add(bitCount, nums[j]);\n            if(i == j) and = nums[j];\n            else and &= nums[j];\n            if(and >= k){\n                cnt += j - i + 1;\n            }\n            else{\n                // System.out.printf(\"prev i for k = %d = %d\\n\",k , i);\n                while(i <= j && and < k){\n                    remove(bitCount , nums[i]);\n                    and = toNumber(bitCount);\n                    i++;\n                }\n                // System.out.println(Arrays.toString(bitCount));\n                // System.out.printf(\"i = %d, j = %d, cnt = %d, and = %d\\n\", i, j , cnt, and);\n                if(i <= j){\n                    cnt += j - i + 1;\n                }\n            }\n            j++;\n        }\n\n        return cnt;\n    }\n\n    public void remove(int bitc[], int num){\n        for(int i = 0; i<32;i++){\n            if((num &(1<<i)) == 0){\n                bitc[i]--;\n            }\n        }\n    }\n    public void add(int bitc[], int num){\n        for(int i = 0; i<32;i++){\n            if((num &(1<<i)) == 0){\n                bitc[i]++;\n            }\n        }\n    }\n\n    public int toNumber(int bitc[]){\n        int num = 0;\n        for(int i = 0; i<32; i++){\n            if(bitc[i] == 0) num |= (1<<i);\n        }\n        return num;\n    }\n}",
    "submit_ts": "1720281585",
    "subm_id": "1311831033"
}