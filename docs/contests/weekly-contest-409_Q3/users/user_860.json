{
    "username": "MaskRay",
    "submission": "\nclass Solution {\npublic:\n  vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n    vector<int> res;\n    map<int, int> m;\n    int s = n-1;\n    for (auto &qu : queries) {\n      int u = qu[0], v = qu[1];\n      auto it = m.lower_bound(u);\n      while (it != m.end() && it->second <= v) {\n        s += it->second-it->first-1;\n        it = m.erase(it);\n      }\n      it = m.upper_bound(u);\n      if (it != m.begin())\n        --it;\n      if (it != m.end() && it->first <= u && v <= it->second)\n        ;\n      else {\n        s -= v-u-1;\n        m.insert({u, v});\n      }\n      res.push_back(s);\n    }\n    return res;\n  }\n};\n\n",
    "submit_ts": "1722743040",
    "subm_id": "1343782954"
}