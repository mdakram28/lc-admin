{
    "username": "zhi-yu-29",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int m = grid.size(), n = grid[0].size();\n        int ans = 0;\n        if(m&1 && n&1) {\n            int row_cnt = 0;\n            for(int j=0;j<n/2;j++) {\n                ans += grid[m/2][j] ^ grid[m/2][n-1-j];\n                if(grid[m/2][j] && grid[m/2][n-1-j]) row_cnt++;\n            }\n            int col_cnt = 0;\n            for(int i=0;i<m/2;i++) {\n                ans += grid[i][n/2] ^ grid[m-1-i][n/2];\n                if(grid[i][n/2] && grid[m-1-i][n/2]) col_cnt++;\n            }\n            if((row_cnt + col_cnt)&1) ans += ans > 0 ? 0 : 2;\n            ans += grid[m/2][n/2];\n        } else if(m&1) {\n            int cnt = 0;\n            for(int j=0;j<n/2;j++) {\n                ans += grid[m/2][j] ^ grid[m/2][n-1-j];\n                if(grid[m/2][j] && grid[m/2][n-1-j]) cnt++;\n            }\n            if(cnt&1) ans += ans > 0 ? 0 : 2;\n        } else if(n&1) {\n            int cnt = 0;\n            for(int i=0;i<m/2;i++) {\n                ans += grid[i][n/2] ^ grid[m-1-i][n/2];\n                if(grid[i][n/2] && grid[m-1-i][n/2]) cnt++;\n            }\n            if(cnt&1) ans += ans > 0 ? 0 : 2;\n        }\n        for(int i=0;i<m/2;i++) {\n            for(int j=0;j<n/2;j++) {\n                int sum = grid[i][j] + grid[i][n-1-j] + grid[m-1-i][j] + grid[m-1-i][n-1-j];\n                ans += 4 - max(sum, 4-sum);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722697487",
    "subm_id": "552266360"
}