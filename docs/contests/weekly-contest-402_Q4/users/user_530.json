{
    "username": "shivamxdd",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    struct segtree{\n \n\tint size;\n\tvector<ll> sums;\n\tvoid init(int n){\n\t\tsize=1;\n\t\twhile(size<n) size*=2;\n\t\tsums.resize(2*size,0ll);\n \n\t}\n\tvoid set(int i,int v,int x,int lx,int rx ){\n\t\tif(rx-lx==1){\n\t\t\tsums[x]=v;\n\t\t\treturn;\n\t\t}\n\t\tint m=(lx+rx)/2;\n\t\tif(i<m){\n\t\t\tset(i,v,2*x+1,lx,m);\n\t\t}else {\n\t\t\tset(i,v,2*x+2,m,rx);\n\t\t}\n\t\tsums[x]=sums[2*x+1]+sums[2*x+2];\n\t}\n \n\tvoid set(int i,int v){\n\t\tset(i,v,0,0,size);\n \n\t}\n \n\tll query(int l,int r,int x,int lx,int rx){\n\t\tif(rx<= l || lx>=r) return 0;\n\t\t\n\t\t if(rx<=r && lx>= l) return sums[x];\n\t\t\n\t\telse {\n\t\t\tint m=(lx+rx)/2;\n\t\t\tll s1=query(l,r,2*x+1,lx,m);\n\t\t\tll s2=query(l,r,2*x+2,m,rx);\n\t\t\treturn s1+s2;\n\t\t}\n\t\t\n\t}\n \n\tll query(int l,int r){\n\t\treturn query(l,r,0,0,size);\n \n\t}\n \n};\n    vector<int> countOfPeaks(vector<int>& ar, vector<vector<int>>& q) {\n        segtree st;\n        int n=ar.size();\n        st.init(n);\n        for(int i=1;i<n-1;i++){\n            if(ar[i]>ar[i-1] && ar[i]>ar[i+1]){\n                st.set(i,1);\n            }\n            \n            \n        }\n        vector<int> ans;\n        for(int i=0;i<q.size();i++){\n            if(q[i][0]==1){\n                int l=q[i][1];\n                int r=q[i][2];\n                ans.push_back(st.query(l+1,r));\n                \n                \n            }else {\n                int ind=q[i][1];\n                int val=q[i][2];\n                ar[ind]=val;\n                if(ind>0 && ind<n-1 ){\n                    if(ar[ind]>ar[ind-1] && ar[ind]>ar[ind+1]){\n                        st.set(ind,1);\n                    }else {\n                        st.set(ind,0);\n                    }\n                }\n                ind++;\n                if(ind>0 && ind<n-1 ){\n                    if(ar[ind]>ar[ind-1] && ar[ind]>ar[ind+1]){\n                        st.set(ind,1);\n                    }else {\n                        st.set(ind,0);\n                    }\n                }\n                ind--;\n                ind --;\n                if(ind>0 && ind<n-1 ){\n                    if(ar[ind]>ar[ind-1] && ar[ind]>ar[ind+1]){\n                        st.set(ind,1);\n                    }else {\n                        st.set(ind,0);\n                    }\n                }\n                \n            }\n            \n        }\n        return ans;\n        \n        \n    }\n};",
    "submit_ts": 1718505725.0
}