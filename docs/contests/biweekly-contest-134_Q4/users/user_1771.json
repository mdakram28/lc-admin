{
    "username": "user0070lV",
    "submission": "class Solution {\npublic:\n    long long int calc(vector<int>&v, int k){\n        int n = v.size();\n        long long int ans = 0;\n        \n        vector<vector<int>> dp(n+1, vector<int> (32,0));\n        for(int j=1; j<=n; j++){\n            for(int i=0; i<32; i++){\n                dp[j][i] += dp[j-1][i];\n            }\n            for(int i=0; i<32; i++){\n                if(v[j-1] & (1LL<<i)) dp[j][i]++;\n            }\n        }\n        \n        // for(auto x: dp){\n        //     for(auto y:x) cout<<y<<\" \"; cout<<'\\n';\n        // }\n        \n        int j = 1;\n        for(int i=1; i<=n; i++){\n            while(j<=n && j<=i){\n                int temp=0;\n                for(int a=0; a<32; a++){\n                    if(dp[i][a]-dp[j-1][a]==i-j+1) temp|=(1LL<<a);\n                }\n                if(temp==k){\n                    ans += n-i+1;\n                    j++;\n                }\n                else break;\n            }\n        }\n        return ans;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        vector<int> temp;\n        int n = nums.size();\n        long long ans = 0;\n        for(int i=0; i<n; ){\n            while(i<n && ((nums[i]&k) == k)){\n                temp.push_back(nums[i]);\n                i++;\n            }\n            if(temp.size()){ \n                ans += calc(temp, k);\n                temp.clear();\n            }\n            else i++;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720280672",
    "subm_id": "1311797976"
}