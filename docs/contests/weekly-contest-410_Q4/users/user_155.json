{
    "username": "Marmaduke",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        int n= nums.size();\n        const int mod = 1e9+7;\n        const int M= 1005;\n        vector<vector<int>> dp(2, vector<int>(M,0));\n        vector<vector<int>> cum(2, vector<int>(M,0));\n        for(int j = 0; j <= nums[0]; j++)\n        {\n            dp[0][j] = 1;\n            cum[0][j] = j+1;\n        }\n\n        for(int i = 1; i < n; i++)\n        {\n            int now = i%2;\n            int prev = (i-1)%2;\n            int x = nums[i];\n            int y = nums[i-1];\n            for(int j = 0; j < M; j++)\n            {\n                dp[now][j] = 0;\n                cum[now][j] = 0;\n            }\n            for(int j = 0; j <= x; j++)\n            {\n                int jj = x-j;\n                if(jj < 0)\n                {\n                    break;\n                }\n                int h = min(j,y-x+j);\n                dp[now][j] = (h >= 0) ? cum[prev][h] : 0;\n            }\n            cum[now][0] = dp[now][0];\n            for(int j = 1; j < M; j++)\n            {\n                cum[now][j] = (cum[now][j-1] + dp[now][j]) % mod;\n            }\n        }\n\n        int ans = 0;\n        for(int j = 0; j < M; j++)\n        {\n            ans += dp[(n+1)%2][j];\n            ans %= mod;\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1723345904",
    "subm_id": "1351565826"
}