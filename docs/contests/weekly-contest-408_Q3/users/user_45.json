{
    "username": "CAEL0",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n = s.size();\n        int ret = 0;\n\n        for (int k = 0; k * k < n; k++) {\n            int one = 0;\n            int left = 0;\n            deque<int> dq;\n\n            for (int i = 0; i < s.size(); i++) {\n                if (s[i] == '0')\n                    dq.push_back(i);\n                else\n                    one++;\n                \n                while (k < dq.size()) {\n                    if (s[left] == '1')\n                        one--;\n                    else\n                        dq.pop_front();\n                    \n                    left++;\n                }\n\n                if (k != dq.size() || dq.size() * dq.size() > one)\n                    continue;\n                \n                if (dq.empty()) {\n                    ret += i - left + 1;\n                    continue;\n                }\n                \n                int left_one = dq.front() - left;\n                int right_one = one - left_one;\n\n                ret += left_one - max(0, (int)(dq.size() * dq.size()) - right_one) + 1;\n            }\n        }\n\n        return ret;\n    }\n};",
    "submit_ts": "1722135926",
    "subm_id": "1335718069"
}