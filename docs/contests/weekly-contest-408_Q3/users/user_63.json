{
    "username": "balakrishnan_v",
    "submission": "class Solution {\npublic:\n\n    int numberOfSubstrings(string s) {\n        int n=s.size();\n        vector<int> max_end(n+1);\n        max_end[n]=n-1;\n        for(int i=n-1;i>=0;i--) {\n            if (s[i]=='1') {\n                max_end[i]=max_end[i+1];\n            } else {\n                max_end[i]=i-1;\n            }\n        }\n        \n        int max_zeros = 210;\n        int ans=0;\n        for(int i=0;i<n;i++) {\n            // count zeros\n            int nz=0;\n            int no=0;\n            for(int j=i;j<n;) {\n                char c = s[j];\n                if (c=='0') {\n                    nz++;\n                    j++;\n                    if (no >= nz*nz) ans++;\n                } else {\n                    // j to max_end[j]\n                    int len = max_end[j]-j+1;\n                    // (no+k) >= nz^2\n                    // k >= nz^2-no\n                    int min_ones = max(1,nz*nz-no);\n                    if (min_ones <= len) {\n                        ans += (len-min_ones+1);\n                    }\n                    j=max_end[j]+1;\n                    no += len;\n                }\n                if (nz > max_zeros) break;\n            }\n            \n        }\n        \n        return ans;\n        \n        \n        \n    }\n};",
    "submit_ts": "1722135868",
    "subm_id": "1335716187"
}