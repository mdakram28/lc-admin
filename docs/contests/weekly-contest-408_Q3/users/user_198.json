{
    "username": "SSYernar",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n = s.size();\n        vector<int> nx(n);\n        nx[n - 1] = n - 1;\n        for (int i = n - 2; i >= 0; i--) {\n            if (s[i + 1] == '1') {\n                nx[i] = nx[i + 1];\n            }\n            else {\n                nx[i] = i;\n            }\n        }\n        int ans = 0;\n\n        // calc for 0 zeros\n        int cur = 0;\n        for (int i = 0; i < n; i++) {\n            if (s[i] == '1') {\n                cur++;\n                ans += cur;\n            }\n            else {\n                cur = 0;\n            }\n        }\n\n        for (int zeros = 1; zeros * zeros <= n; zeros++) {\n            int ones = zeros * zeros; // cnt1 >= ones\n            // vector<int> vec0;\n            // for (int i = 0; i < n; i++) {\n            //     if (s[i] == '0') {\n            //         vec0.push_back(i);\n            //     }\n            // }\n            int cnt = 0, j = -1;\n            for (int i = 0; i < n; i++) {\n                if (s[i] == '0') {\n                    cnt++;\n                    if (cnt == zeros) {\n                        j = i;\n                        break;\n                    }\n                }\n            }\n            // cout << zeros << ' ' << j << '\\n';\n            if (j == -1) {\n                break;\n            }\n            bool flag = 0;\n            // cout << zeros << '\\n';\n            for (int i = 0; i < n; i++) {\n                int len = j - i + 1;\n                int cnt1 = len - zeros;\n                int minJ = j + max(ones - cnt1, 0);\n                int maxJ = nx[j];\n                \n                ans += max(maxJ - minJ + 1, 0);\n                // cout << i << ' ' << j << ' ' << minJ << ' ' << maxJ << '\\n';\n\n                if (s[i] == '0') {\n                    j++;\n                    while (j < n && s[j] == '1') {\n                        j++;\n                    }\n                    if (j == n) {\n                        flag = 1;\n                        break;\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722136608",
    "subm_id": "1335739722"
}