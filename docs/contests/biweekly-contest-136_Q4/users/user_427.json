{
    "username": "cp_boy",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>> &edges) {\n        int n=edges.size()+1;\n        vector<vector<int>> tree(n);\n        for(auto edge:edges){\n            tree[edge[0]].push_back(edge[1]);\n            tree[edge[1]].push_back(edge[0]);\n        }\n        vector<int> val(n);\n        for(int i=0;i<n;i++){\n            if(i%2) val[i]=1;\n            else val[i]=2;\n        }\n        vector<int> res(n);\n        function<void(int,int)> dfs0=[&](int v,int p){\n            for(auto u:tree[v]){\n                if(u==p) continue;\n                dfs0(u,v);\n                res[v]=max(res[v],res[u]);\n            }\n            res[v]+=val[v];\n        };\n        dfs0(0,0);\n        vector<int> ans(n);\n        ans[0]=res[0]-val[0];\n        function<void(int,int)> dfs1=[&](int v,int p){\n            vector<int> a=tree[v];\n            int l=a.size();\n            vector<int> pref(l);\n            pref[0]=res[a[0]];\n            for(int i=1;i<l;i++) pref[i]=max(pref[i-1],res[a[i]]);\n            vector<int> suff(l);\n            suff[l-1]=res[a[l-1]];\n            for(int i=l-2;i>=0;i--) suff[i]=max(suff[i+1],res[a[i]]);\n            for(int i=0;i<l;i++){\n                int u=a[i];\n                if(u==p) continue;\n                int tempv=res[v];\n                int tempu=res[u];\n                res[v]=val[v]+max((i?pref[i-1]:0),(i+1==l?0:suff[i+1]));\n                res[u]-=val[u];\n                res[u]=max(res[u],res[v])+val[u];\n                ans[u]=res[u]-val[u];\n                dfs1(u,v);\n                res[v]=tempv;\n                res[u]=tempu;\n            }\n        };\n        dfs1(0,0);\n        return ans;\n    }\n};",
    "submit_ts": "1722697673",
    "subm_id": "1343154808"
}