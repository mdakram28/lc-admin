{
    "username": "prajwal_733",
    "submission": "class Solution {\npublic:\n    map<int,vector<int>> m;\n    int n;\n    vector<int> v;\n    \n    int dp[5005][52][2][2];\n    \n    int fun(int i,int k, int choosed, int dec)\n    {\n        if(k < 0)\n            return -1;\n        \n        if(i==n)\n            return 0;\n        \n        if(dp[i][k][choosed][dec]!=-1)\n            return dp[i][k][choosed][dec];\n        \n        if(choosed == 0)\n        {\n            return dp[i][k][choosed][dec] = max(fun(i, k, 1, dec), fun(i+1, k, 0, dec));\n        }\n        \n        int ans = 0;\n        \n        //same element case \n        int index = upper_bound(m[v[i]].begin(), m[v[i]].end(), i) - m[v[i]].begin();\n        if((index!=m[v[i]].size()))\n        {\n            ans = 1 + fun(m[v[i]][index], k - dec, 1, 0 );\n        }\n        \n        ans = max(ans, 1 + fun(i+1, k - dec, 0, 1 ));\n        \n        \n        return dp[i][k][choosed][dec] = ans;\n        \n    }\n    int maximumLength(vector<int>& nums, int k) {\n        for(int i=0;i<nums.size();i++)\n        {\n            m[nums[i]].push_back(i);\n        }\n        n = nums.size();\n        v= nums;\n        \n        for(int i=0;i<n;i++)\n        {\n            for(int j=0;j<=k;j++)\n            {\n                for(int f=0;f<2;f++)\n                {\n                    for(int e=0;e<2;e++)\n                        dp[i][j][f][e] = -1;\n                }\n            }\n        }\n        return fun(0, k, 0, 0 );\n    }\n};",
    "submit_ts": 1717858612.0
}