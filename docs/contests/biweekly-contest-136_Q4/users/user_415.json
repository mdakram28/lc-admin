{
    "username": "nan-an-yi-nan-nan-an-ai",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size();\n        unordered_map<int,vector<int>> g;\n        for(auto e:edges){\n            int a=e[0],b=e[1];\n            g[a].push_back(b);\n            g[b].push_back(a);\n        }\n        n++;\n        vector<int> res(n);\n        vector<int> mx(n+10);\n        vector<int> t(n+10);\n        std::function<void(int,int,int)> dfs=[&](int u,int fa,int tim){\n            mx[u]=max(mx[u],tim);\n            t[u]=tim;\n            for(auto v:g[u])\n            {\n                if(v==fa) continue;\n                if(v&1){\n                    dfs(v,u,tim+1);\n                }else{\n                    dfs(v,u,tim+2);\n                }\n                mx[u]=max(mx[u],mx[v]);\n            }\n        } ;\n        dfs(0,-1,0);\n        std::function<void(int,int,int)> dfs1=[&](int u,int fa,int tim){\n            res[u]=max(tim,mx[u]-t[u]);\n            int mx1=0,mx2=0;\n            for(auto v:g[u])\n            {\n                if(v==fa) continue;\n                int x=mx[v]-t[v];\n                if(v&1) x++;\n                else x+=2;\n                if(x>mx1){\n                    mx2=mx1;\n                    mx1=x;\n                }else if(x>mx2) mx2=x;\n            }\n            \n            //cout<<u<<\" \"<<mx1<<\" \"<<mx2<<\"\\n\";\n            for(auto v:g[u])\n            {\n                if(v==fa) continue;\n                int x=mx[v]-t[v];\n                if(v&1) x++;\n                else x+=2;\n                if(mx1==x)\n                {\n                    if(u%2==0){\n                        dfs1(v,u,2+max(tim,mx2));\n                    }else dfs1(v,u,1+max(tim,mx2));\n                }else{\n                    if(u%2==0){\n                        dfs1(v,u,2+max(tim,mx1));\n                    }else dfs1(v,u,1+max(tim,mx1));\n                }\n            }\n        } ;\n        dfs1(0,-1,0);\n        return res;\n    }\n};",
    "submit_ts": "1722697628",
    "subm_id": "552267054"
}