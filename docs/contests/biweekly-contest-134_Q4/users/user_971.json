{
    "username": "shivam_30",
    "submission": "class Solution {\n           \npublic:\n    \n    vector<int>bit;\n    int getNum(int diff){\n        int num =0;\n        for(int i=0;i<32;i++){\n            if(bit[i] == diff){\n                num |= (1<<i);\n            }\n        }\n        return num;\n    }\n    void addNum(int n){\n        for(int i=0;i<32;i++){\n            if((1<<i)&n){\n                bit[i]++;\n            }\n        }\n    }\n    void removeNum(int n){\n        for(int i=0;i<32;i++){\n            if((1<<i)&n){\n                bit[i]--;\n            }\n        }\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        \n//         bit.resize(32,0);\n        \n//         int n = nums.size(), j = 0;\n//         long long ans = 0;\n//         for(int i=0;i<n;i++){\n//             addNum(nums[i]);\n//             int andTill = getNum(i-j+1);\n//             while(j<i && andTill<k){\n//                 removeNum(nums[j++]);\n//                 andTill = getNum(i-j+1);\n//             }\n//             if(andTill==k) ans++;\n//         }\n        \n//         while(j<n){\n//             int andTill = getNum(n-j+1);\n//             if(andTill == k) ans++;\n//             removeNum(nums[j++]);\n\n            \n//         }\n//         return ans;\n        \n        int n = nums.size();\n        long long ans = 0;\n        unordered_map<int, int> andCount;\n        \n        for (int i = 0; i < n; ++i) {\n            unordered_map<int, int> newAndCount;\n            for (auto& [key, value] : andCount) {\n                int newAnd = key & nums[i];\n                newAndCount[newAnd] += value;\n            }\n            newAndCount[nums[i]]++;\n            andCount = newAndCount;\n            \n            if (andCount.count(k)) {\n                ans += andCount[k];\n            }\n        }\n        \n        return ans;\n        \n        \n    }\n};",
    "submit_ts": "1720279361",
    "subm_id": "1311748128"
}