{
    "username": "LighT-cml",
    "submission": "class Solution {\n    vector<int> E[100000];\n    int fa[100000];\n    int F[100000];\n    int G[100000];\n    void dfs(int x)\n    {\n        F[x]=0;\n        for (auto to:E[x])\n            if (to!=fa[x])\n            {\n                fa[to]=x;\n                dfs(to);\n                F[x]=max(F[x],F[to]+1);\n            }\n        F[x]+=(x%2==0);\n    }\n    void dfs2(int x)\n    {\n        int v1=-1;\n        int v2=-1;\n        for (auto to:E[x])\n            if (to!=fa[x])\n            {\n                if (F[to]>v1) v2=v1,v1=F[to];\n                else if (F[to]>v2) v2=F[to];\n            }\n        for (auto to:E[x])\n            if (to!=fa[x])\n            {\n                G[to]=G[x]+1;\n                if (v2!=-1)\n                {\n                    int v=v1+2+(x%2==0);\n                    if (F[to]==v1)\n                    {\n                        v=v2+2+(x%2==0);\n                    }\n                    G[to]=max(G[to],v);\n                }\n                G[to]+=(to%2==0);\n                dfs2(to);\n            }\n    }\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        for (auto e:edges) E[e[0]].push_back(e[1]),E[e[1]].push_back(e[0]);\n        G[0]=1;\n        fa[0]=-1;\n        dfs(0);\n        dfs2(0);\n        vector<int> ans;\n        for (int i=0;i<n;++i)\n        {\n            // printf(\"%d %d\\n\",F[i],G[i]);\n            ans.push_back(max(F[i],G[i])-(i%2==0));\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722698531",
    "subm_id": "552271307"
}