{
    "username": "ConnectedPuddle",
    "submission": "public class Solution {\n    public long MinimumOperations(int[] nums, int[] target) {\n        int n = target.Length;\n        for (int i = 0; i < n; i++)\n        {\n            target[i] -= nums[i];\n        }\n        long result = 0;\n        int next = 0;\n        Stack<int> stack = new();\n        while (next < n)\n        {\n            if (target[next] == 0)\n            {\n                stack.Clear();\n                next++;\n                continue;\n            }\n            if (stack.Count == 0)\n            {\n                stack.Push(next);\n                result += Math.Abs(target[next]);\n                next++;\n                continue;\n            }\n            if (target[next-1] > 0 && target[next] > 0)\n            {\n                if (target[stack.Peek()] >= target[next])\n                {\n                    while (stack.Count > 0 && target[stack.Peek()] >= target[next])\n                    {\n                        stack.Pop();\n                    }\n                    stack.Push(next);\n                }\n                else\n                {\n                    result += target[next] - target[stack.Peek()];\n                    stack.Push(next);\n                }\n                next++;\n            }\n            else if (target[next-1] < 0 && target[next] < 0)\n            {\n                if (target[stack.Peek()] <= target[next])\n                {\n                    while (stack.Count > 0 && target[stack.Peek()] <= target[next])\n                    {\n                        stack.Pop();\n                    }\n                    stack.Push(next);\n                }\n                else\n                {\n                    result += target[stack.Peek()] - target[next];\n                    stack.Push(next);\n                }\n                next++;\n            }\n            else\n            {\n                stack.Clear();\n            }\n        }\n        return result;\n    }\n}",
    "submit_ts": "1721530921",
    "subm_id": "1327947392"
}