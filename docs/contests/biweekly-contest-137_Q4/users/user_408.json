{
    "username": "mumuxinfei",
    "submission": "    class Solution {\n        public long maximumValueSum(int[][] board) {\n            int h = board.length, w = board[0].length;\n\n            // \u9884\u5904\u7406\n            List<int[][]> arr = new ArrayList<>();\n            for (int i = 0; i < h; i++) {\n                // \u4fdd\u5b58\u524d3\u4e2a\u5373\u53ef\n                List<int[]> row = new ArrayList<>();\n                for (int j = 0; j < w; j++) {\n                    row.add(new int[] {j, board[i][j]});\n                }\n                Collections.sort(row, Comparator.comparing(x -> -x[1]));\n\n                int[][] tmp = new int[3][3];\n                for (int j = 0; j < 3; j++) {\n                    tmp[j][0] = i;\n                    tmp[j][1] = row.get(j)[0];\n                    tmp[j][2] = row.get(j)[1];\n                }\n                arr.add(tmp);\n            }\n\n\n            long res = Long.MIN_VALUE;\n            for (int i = 0; i < h; i++) {\n\n                for (int j = 0; j < 3; j++) {\n                    int bc1 = arr.get(i)[j][1];\n\n                    PriorityQueue<int[]> pp = new PriorityQueue<>(Comparator.comparing(x -> -x[2]));\n                    for (int t1 = i + 1; t1 < h; t1++) {\n                        for (int[] e: arr.get(t1)) {\n                            pp.add(e);\n                        }\n                    }\n\n                    for (int i2 = i + 1; i2 < h; i2++) {\n                        for (int j2 = 0; j2 < 3; j2++) {\n                            int bc2 = arr.get(i2)[j2][1];\n                            if (bc2 == bc1) continue;\n\n                            List<int[]> cc = new ArrayList<>();\n                            while (!pp.isEmpty()) {\n\n                                int[] cur = pp.peek();\n\n                                if (res >= (long)arr.get(i)[j][2] + arr.get(i2)[j2][2] + cur[2]) break;\n\n                                if (cur[0] <= i2) {\n                                    pp.poll();\n                                    continue;\n                                }\n                                if (cur[1] == bc1 || cur[1] == bc2) {\n                                    pp.poll();\n                                    cc.add(cur);\n                                    continue;\n                                }\n\n//                                System.out.printf(\"(%d, %d)=%d, (%d, %d)=%d, (%d, %d)=%d\\n\",\n//                                        arr.get(i)[j][0], arr.get(i)[j][1], arr.get(i)[j][2],\n//                                        arr.get(i2)[j2][0], arr.get(i2)[j2][0], arr.get(i2)[j2][2],\n//                                        cur[0], cur[1], cur[2]\n//                                );\n\n                                res = Math.max(res, (long)arr.get(i)[j][2] + arr.get(i2)[j2][2] + cur[2]);\n                                break;\n                            }\n                            for (int[] e: cc) pp.offer(e);\n                        }\n                    }\n                }\n            }\n            return res;\n        }\n    }\n",
    "submit_ts": "1723908795",
    "subm_id": "556332887"
}