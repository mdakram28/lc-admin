{
    "username": "tllwtg",
    "submission": "class Solution {\npublic:\n    int minimumSum(vector<vector<int>>& grid) {\n        int n = grid.size();\n        int m = grid[0].size();\n        function<int(int x1, int y1, int x2, int y2)> minrec = [&](int x1, int y1, int x2, int y2)->int\n        {\n            int cnt = 0;\n            for (int i = x1; i <= x2; ++i)\n                for (int j = y1; j <= y2; ++j)\n                {\n                    cnt += grid[i][j];\n                }\n            if (cnt == 0)\n                return -1;\n            int l = y2 + 1;\n            int r = y1 - 1;\n            int u = x2 + 1;\n            int d = x1 - 1;\n            for (int i = x1; i <= x2; ++i)\n                for (int j = y1; j <= y2; ++j)\n                    if (grid[i][j])\n                    {\n                        l = min(l, j);\n                        r = max(r, j);\n                        u = min(u, i);\n                        d = max(d, i);\n                    }\n            return (r - l + 1) * (d - u + 1);\n        };\n        int ans = 1e9;\n        for (int i = 1; i < n - 1; ++i)\n            for (int j = i; j < n - 1; ++j)\n            {\n                int s1 = minrec(0, 0, i - 1, m - 1);\n                int s2 = minrec(i, 0, j, m - 1);\n                int s3 = minrec(j + 1, 0, n - 1, m - 1);\n                if (s1 == -1 || s2 == -1 || s3 == -1)\n                    continue;\n                ans = min(ans, s1 + s2 + s3);\n            }\n        for (int i = 1; i < m - 1; ++i)\n            for (int j = i; j < m - 1; ++j)\n            {\n                int s1 = minrec(0, 0, n - 1, i - 1);\n                int s2 = minrec(0, i, n - 1, j);\n                int s3 = minrec(0, j + 1, n - 1, m - 1);\n                if (s1 == -1 || s2 == -1 || s3 == -1)\n                    continue;\n                ans = min(ans, s1 + s2 + s3);\n            }\n        for (int i = 0; i < n - 1; ++i)\n            for (int j = 0; j < m - 1; ++j)\n            {\n                int s1 = minrec(0, 0, i, m - 1);\n                int s2 = minrec(i + 1, 0, n - 1, j);\n                int s3 = minrec(i + 1, j + 1, n - 1, m - 1);\n                if (s1 == -1 || s2 == -1 || s3 == -1)\n                    continue;\n                ans = min(ans, s1 + s2 + s3);\n            }\n        for (int i = 1; i < n; ++i)\n            for (int j = 0; j < m - 1; ++j)\n            {\n                int s1 = minrec(i, 0, n - 1, m - 1);\n                int s2 = minrec(0, 0, i - 1, j);\n                int s3 = minrec(0, j + 1, i - 1, m - 1);\n                if (s1 == -1 || s2 == -1 || s3 == -1)\n                    continue;\n                ans = min(ans, s1 + s2 + s3);\n            }\n        for (int j = 0; j < m - 1; ++j)\n            for (int i = 0; i < n - 1; ++i)\n            {\n                int s1 = minrec(0, 0, n - 1, j);\n                int s2 = minrec(0, j + 1, i, m - 1);\n                int s3 = minrec(i + 1, j + 1, n - 1, m - 1);\n                if (s1 == -1 || s2 == -1 || s3 == -1)\n                    continue;\n                ans = min(ans, s1 + s2 + s3);\n            }\n        for (int j = 0; j < m - 1; ++j)\n            for (int i = 0; i < n - 1; ++i)\n            {\n                int s1 = minrec(0, 0, i, j);\n                int s2 = minrec(i + 1, 0, n - 1, j);\n                int s3 = minrec(0, j + 1, n - 1, m - 1);\n                if (s1 == -1 || s2 == -1 || s3 == -1)\n                    continue;\n                ans = min(ans, s1 + s2 + s3);\n            }\n        return ans;\n    }\n};",
    "submit_ts": 1719112534.0
}