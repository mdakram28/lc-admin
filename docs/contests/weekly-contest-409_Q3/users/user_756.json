{
    "username": "rutul204",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& q) {\n        int k= q.size(), dis= n-1, sub= 0;\n        vector<int> ans;\n        vector<int> v(n, -1);\n        set<int> s; \n        for(int i=0; i<k; i++){\n            int from= q[i][0], to= q[i][1];\n            if(v[from]== -1){\n                auto before= s.lower_bound(from);\n                if(before!= s.begin()){\n                    before--;\n                    if(v[*before]< to){\n                        auto it1= s.upper_bound(from);\n                        auto it2= s.lower_bound(to);\n                        while(it1!= it2){\n                            // cout<<*it1<<\" -- \";\n                            sub-= v[*it1]- (*it1)-1;\n                            it1= s.erase(it1);\n                        }\n                        v[from]= to, sub+= to-from-1;\n                        s.insert(from);\n                    }\n                }\n                else{\n                    auto it1= s.upper_bound(from);\n                    auto it2= s.lower_bound(to);\n                    while(it1!= it2){\n                        // cout<<*it1<<\" -- \";\n                        sub-= v[*it1]- (*it1)-1;\n                        it1= s.erase(it1);\n                    }\n                    v[from]= to, sub+= to-from-1;\n                    s.insert(from);\n                }\n            }\n            else{\n                if(to> v[from]){\n                    auto it1= s.lower_bound(from);\n                    auto it2= s.lower_bound(to);\n                    while(it1!= it2){\n                        // cout<<*it1<<\" - \";\n                        sub-= v[*it1]- (*it1)-1;\n                        it1= s.erase(it1);\n                    }\n                    v[from]= to, sub+= to-from-1;\n                    s.insert(from);\n                }\n            }\n            // cout<<sub<<endl;\n            ans.push_back(dis- sub);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722742388",
    "subm_id": "1343767798"
}