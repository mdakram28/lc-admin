{
    "username": "1018358689",
    "submission": "# \u6309\u4f4d\u4e0e \u8d8aand \u8d8a\u5c0f\nclass Solution:\n    def countSubarrays(self, nums: List[int], k: int) -> int:\n       # logtrick \u4e0d\u540c\u5b50\u6570\u7ec4 \u6309\u4f4d\u6216\u7684\u503c \u6ca1\u591a\u5c11\u4e2a\n        n = len(nums)\n        ors = [] # \u6309\u4f4d\u6216\u7684\u503c + \u5bf9\u5e94\u5b50\u6570\u7ec4\u7684\u53f3\u7aef\u70b9\u7684\u6700\u5c0f\u503c\n        ans = 0\n        for i in range(n - 1, -1, -1):\n            x = nums[i]\n            ors.append([-1, i])\n            slow = 0\n            for p in ors:\n                p[0] &= x\n                if p[0] == ors[slow][0]: # \u5408\u5e76\u76f8\u540c\u503c\uff0c\u4e0b\u6807\u53d6\u6700\u5c0f\u7684\n                    ors[slow][1] = p[1]\n                else:\n                    slow += 1\n                    ors[slow] = p\n            del ors[slow + 1:]\n            # print(ors)\n            # \u6309\u4f4d\u6216\u8d8a\u6d3b\u8d8a\u5927 \u6240\u4ee5\u53d6\u6700\u53f3\u7aef \u4e5f\u5c31\u662fors\u7b2c\u4e00\u4e2a\n            # \u672c\u9898\u53ea\u7528\u5230\u4e86 ors[0]\uff0c\u5982\u679c\u9898\u76ee\u6539\u6210\u4efb\u610f\u7ed9\u5b9a\u6570\u503c\uff0c\u53ef\u4ee5\u5728 ors \u4e2d\u67e5\u627e\n            j = bisect_left(ors, k, key = lambda x:x[0])\n            # print(j, k)\n            if j < len(ors) and ors[j][0] == k:\n                ans += (ors[j - 1][1] if j - 1 >= 0 else n) - ors[j][1]\n            # print(ans)\n        return ans",
    "submit_ts": "1720280213",
    "subm_id": "544571023"
}