{
    "username": "user7338k",
    "submission": "class Solution {\npublic:\n    int minChanges(vector<int>& nums, int k) {\n        int n = nums.size();\n        map<int, int> dfs;\n        set<int> cnts;\n        std::multiset<pair<int, int>> dec_pairs;\n        std::multiset<pair<int, int>> asc_pairs;\n        for (int i = 0; 2 * i < n; ++i) {\n            int mn = std::min(nums[i], nums[n - 1 - i]);\n            int mx = std::max(nums[i], nums[n - 1 - i]);\n            int df = std::abs(nums[i] - nums[n - 1 - i]);\n            dfs[df]++;\n            dec_pairs.insert({mn, mx});\n            asc_pairs.insert({mx, mn});\n            cnts.insert(-df);\n        }\n        //std::cout << \"prep done\" << endl;\n        int min_cost = n * 2;\n        for (int mindiff : cnts) {\n            int diff = (mindiff * -1);\n            int matching = dfs[diff];\n            //std::cout << \"processing diff \" << diff << endl;\n            while (dec_pairs.size() && dec_pairs.begin()->first + diff <= k) {\n                pair<int, int> pr = (*dec_pairs.begin());\n                asc_pairs.erase(asc_pairs.find({pr.second, pr.first}));\n                dec_pairs.erase(dec_pairs.begin());\n            }\n            \n            //std::cout << \"dsec done \" << diff << endl;\n            while (asc_pairs.size() && (--asc_pairs.end())->first - diff >= 0) {\n                 pair<int, int> pr = (*(--asc_pairs.end()));\n                 asc_pairs.erase(--asc_pairs.end());\n                 dec_pairs.erase(dec_pairs.find({pr.second, pr.first}));\n            }\n            //std::cout << \"asc done \" << diff << endl;\n            \n            if (asc_pairs.size() != dec_pairs.size()) {\n                throw std::runtime_error(\"error\");\n            }\n            //std::cout << matching << \" \" << static_cast<int>(asc_pairs.size()) << endl;\n            //std::cout << \" cost \" << (n / 2) - matching + static_cast<int>(asc_pairs.size()) << endl;\n            min_cost = std::min(min_cost, (n / 2) - matching + static_cast<int>(asc_pairs.size()));\n        }\n        return min_cost;\n    }\n};",
    "submit_ts": "1721487508",
    "subm_id": "1327391379"
}