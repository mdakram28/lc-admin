{
    "username": "crying_2003",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(),m=grid[0].size();\n        vector<int>v(2,0);\n            \n        if(n%2==0 && m%2==0){\n            int flips = 0;\n            int cnt0=0,cnt1=0;\n            for(int i=0;i<n/2;i++){\n                for(int j=0;j<m/2;j++){\n                    v[grid[i][j]]++;\n                    v[grid[i][m-j-1]]++;\n                    v[grid[n-i-1][j]]++;\n                    v[grid[n-i-1][m-j-1]]++;\n                    flips += min(v[0],v[1]);\n                    if(v[0]<v[1]){\n                        cnt0+=4;\n                    }\n                    else{\n                        cnt1+=4;\n                    }\n                    v[0]=0;\n                    v[1]=0;\n                }\n            }\n            return flips;\n        }\n        else if(n%2==1 && m%2==1){\n            int flips = 0;\n            int cnt0=0,cnt1=0;\n            for(int i=0;i<n/2;i++){\n                for(int j=0;j<m/2;j++){\n                    v[grid[i][j]]++;\n                    v[grid[i][m-j-1]]++;\n                    v[grid[n-i-1][j]]++;\n                    v[grid[n-i-1][m-j-1]]++;\n                    flips += min(v[0],v[1]);\n                    if(v[0]<v[1]){\n                        cnt0+=4;\n                    }\n                    else{\n                        cnt1+=4;\n                    }\n                    v[0]=0;\n                    v[1]=0;\n                }\n            }\n            int mismatch=0,one=0,zero=0;\n            for(int i=0;i<n/2;i++){\n                if(grid[i][m/2]!=grid[n-i-1][m/2]){\n                    mismatch++;\n                }\n                else{\n                    if(grid[i][m/2]==1 && grid[n-i-1][m/2]==1){\n                        one++;\n                    }\n                    else{\n                        zero++;\n                    }\n                }\n            }\n            for(int j=0;j<m/2;j++){\n                if(grid[n/2][j]!=grid[n/2][m-j-1]){\n                    mismatch++;\n                }\n                else{\n                    if(grid[n/2][j]==1 && grid[n/2][m-j-1]==1){\n                        one++;\n                    }\n                    else{\n                        zero++;\n                    }\n                }\n            }\n            \n            if(grid[n/2][m/2]==1){\n                flips++;\n            }\n            if(one%2==0){\n                flips+=mismatch;\n                return flips;\n            }\n            else{\n                if(mismatch>=1){\n                    flips+=mismatch;\n                }\n                else{\n                    flips+=2;\n                }\n                return flips;\n            }\n            \n        }\n        else if(n%2==0 && m%2==1){\n            int flips = 0;\n            int cnt0=0,cnt1=0;\n            for(int i=0;i<n/2;i++){\n                for(int j=0;j<m/2;j++){\n                    v[grid[i][j]]++;\n                    v[grid[i][m-j-1]]++;\n                    v[grid[n-i-1][j]]++;\n                    v[grid[n-i-1][m-j-1]]++;\n                    flips += min(v[0],v[1]);\n                    if(v[0]<v[1]){\n                        cnt0+=4;\n                    }\n                    else{\n                        cnt1+=4;\n                    }\n                    v[0]=0;\n                    v[1]=0;\n                }\n            }\n            int mismatch=0,one=0,zero=0;\n            for(int i=0;i<n/2;i++){\n                if(grid[i][m/2]!=grid[n-i-1][m/2]){\n                    mismatch++;\n                }\n                else{\n                    if(grid[i][m/2]==1 && grid[n-i-1][m/2]==1){\n                        one++;\n                    }\n                    else{\n                        zero++;\n                    }\n                }\n            }\n            \n            if(one%2==0){\n                flips+=mismatch;\n                return flips;\n            }\n            else{\n                if(mismatch>=1){\n                    flips+=mismatch;\n                }\n                else{\n                    flips+=2;\n                }\n                return flips;\n            }\n                \n        }\n        else{\n            vector<vector<int>>grid2(m,vector<int>(n,0));\n            for(int i=0;i<n;i++){\n                for(int j=0;j<m;j++){\n                    grid2[j][i]=grid[i][j];\n                }\n            }\n            return minFlips(grid2);\n        }\n    }\n};",
    "submit_ts": "1722699140",
    "subm_id": "1343202650"
}