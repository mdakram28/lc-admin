{
    "username": "hunter2106",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size(), m = grid[0].size();\n        vector<vector<int>> tmp = grid;\n        int ans = 0;\n        for(int i = 0; i < (n + 1) / 2; i++) {\n            for(int j = 0; j < (m + 1) / 2; j++) {\n                if(i == (n - i - 1) && j == (m - j - 1)) continue;\n                else if(i == (n - i - 1) || j == (m - j - 1)) {\n                    int sum = grid[i][j] + grid[i][m - j - 1] + grid[n - i - 1][j] + grid[n - i - 1][m - j - 1];\n                    if(sum == 2) {\n                        ans++;\n                        grid[i][j] = grid[i][m - j - 1] = grid[n - i - 1][j] = grid[n - i - 1][m - j - 1] = 0;\n                    }\n                }\n                else {\n                    int sum = grid[i][j] + grid[i][m - j - 1] + grid[n - i - 1][j] + grid[n - i - 1][m - j - 1];\n                    if(sum >= 2) {\n                        ans += (4 - sum);\n                        grid[i][j] = grid[i][m - j - 1] = grid[n - i - 1][j] = grid[n - i - 1][m - j - 1] = 1;\n                    }\n                    else {\n                        ans += sum;\n                        grid[i][j] = grid[i][m - j - 1] = grid[n - i - 1][j] = grid[n - i - 1][m - j - 1] = 0;\n                    }\n                }\n            }\n        }\n        int cnt = 0;\n        for(auto i : grid) for(auto j : i) if(j) cnt++;\n        if(cnt % 4 == 0) return ans;\n        if(cnt % 4 == 1) return ans + 1;\n        if(cnt % 4 == 3) ans++;\n        for(int i = 0; i < (n + 1) / 2; i++) {\n            for(int j = 0; j < (m + 1) / 2; j++) {\n                if(i == (n - i - 1) && j == (m - j - 1)) continue;\n                else if(i == (n - i - 1) || j == (m - j - 1)) {\n                    int sum = tmp[i][j] + tmp[i][m - j - 1] + tmp[n - i - 1][j] + tmp[n - i - 1][m - j - 1];\n                    if(sum == 2) return ans;\n                }\n            }\n        }\n        return ans + 2;\n    }\n};",
    "submit_ts": "1722699170",
    "subm_id": "1343203587"
}