{
    "username": "Anuj_Ag",
    "submission": "class Solution {\npublic:\n    #define ll long long\n    \n    long long binpow(long long a, long long b) {\n        long long res = 1;\n        while (b > 0) {\n            if (b & 1)\n                res = res * a;\n            a = a * a;\n            b >>= 1;\n        }\n        return res;\n    }\n    \n    long long countSubarrays(vector<int>& nums, int k) {\n        ll n = nums.size();\n        vector<ll> pos(32, 0);\n        ll ans = 0, j = 0;\n        ll fact = 0;\n        for(ll i = 0; i < n; i++)\n        {\n            string x = bitset<32>(nums[i]).to_string();\n            reverse(x.begin(), x.end());\n            ll val = 0;\n            for(ll l = 0; l < 32; l++)\n            {\n                if(x[l] == '1')\n                {\n                    pos[l]++;\n                }\n                if(pos[l] == i-j+1)\n                {\n                    val += binpow(2, l);\n                }\n            }\n            if(val < k)\n            {\n                fact = 0;\n                while(j <= i && val < k)\n                {\n                    val = 0;\n                    string y = bitset<32>(nums[j]).to_string();\n                    reverse(y.begin(), y.end());\n                    j++;\n                    for(ll l = 0; l < 32; l++)\n                    {\n                        if(y[l] == '1')\n                        {\n                            pos[l]--;\n                        }\n                        if(pos[l] == i-j+1)\n                        {\n                            val += binpow(2, l);\n                        }\n                    }\n                }\n            }\n            if(val > k)\n            {\n                fact = 0;\n            }\n            else if(val == k)\n            {\n                if(fact == 0)\n                {\n                    fact++;\n                }\n                ll tv = k;\n                while(j <= i && tv == k)\n                {\n                    tv = 0;\n                    string y = bitset<32>(nums[j]).to_string();\n                    reverse(y.begin(), y.end());\n                    j++;\n                    fact++;\n                    for(ll l = 0; l < 32; l++)\n                    {\n                        if(y[l] == '1')\n                        {\n                            pos[l]--;\n                        }\n                        if(pos[l] == i-j+1)\n                        {\n                            tv += binpow(2, l);\n                        }\n                    }\n                }\n                j--;\n                fact--;\n                string z = bitset<32>(nums[j]).to_string();\n                reverse(z.begin(), z.end());\n                for(ll l = 0; l < 32; l++)\n                {\n                    if(z[l] == '1')\n                    {\n                        pos[l]++;\n                    }\n                }\n            }\n            ans += fact;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279780",
    "subm_id": "1311764772"
}