{
    "username": "\u91cd\u62f3\u51fa\u51fb",
    "submission": "class Solution {\n    vector<int> h(vector<int>&b) {\n        int id1 = -1, id2 = -1, id3 = -1;\n        for(int j=0; j<b.size(); j++) {\n            if(id1 == -1 || b[j] > b[id1]) {\n                id1 = j;\n            }\n        }\n        for(int j=0; j<b.size(); j++) {\n            if(j != id1 && (id2 == -1 || b[j] > b[id2])) {\n                id2 = j;\n            }\n        }\n        for(int j=0; j<b.size(); j++) {\n            if(j != id1 && j != id2 && (id3 == -1 || b[j] > b[id3])) {\n                id3 = j;\n            }\n        }\n        return {id1, id2, id3};\n    }\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size(), m = board[0].size();\n        vector<int> mx = board[0];\n        vector<vector<long long>> dp(n, vector<long long>(m));\n        for(int i=1; i<n; i++) {\n            vector<int> mxx = h(mx);\n            vector<int> mxi = h(board[i]);\n            for(int j=0; j<m; j++) {\n                vector<long long> cad;\n                for(int ii=0; ii<3; ii++) {\n                    for(int jj=0; jj<3; jj++) {\n                        if(j != mxx[ii] && j != mxi[jj] && mxx[ii]!= mxi[jj]) {\n                            cad.push_back((long long)board[i][mxi[jj]] + mx[mxx[ii]]);\n                        }\n                    }\n                }\n                sort(cad.begin(), cad.end());\n                if(i != 1) dp[i][j] = max(cad.back(), dp[i-1][j]);\n                else dp[i][j] = cad.back();\n            }\n            for(int j=0; j<m; j++) {\n                mx[j] = max(mx[j], board[i][j]);\n            }\n        }\n\n        long long res = -1e15;\n        for(int i=2; i<n; i++) {\n            for(int j=0; j<m; j++) {\n                res = max(res, (long long)board[i][j] + dp[i-1][j]);\n            }\n        }\n\n        // for(auto &a: dp) {\n        //     for(int i: a) {\n        //         cout << i << ' ';\n        //     }\n        //     cout << endl;\n        // }\n\n        return res;\n    }\n};",
    "submit_ts": "1723910170",
    "subm_id": "556339908"
}