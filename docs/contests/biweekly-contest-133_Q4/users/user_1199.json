{
    "username": "Carrie_LCYN",
    "submission": "class Solution {\npublic:\n    long long bm(long long a, long long b, long long c){\n        if(b==0){\n            return 1;\n        }\n        if(b==1){\n            return a%c;\n        }\n        long long tem=bm(a, b/2, c);\n        if(b%2==0){\n            return (tem*tem)%c;\n        }\n        else{\n            return (((tem*tem)%c)*a)%c;\n        }\n    }\n    int numberOfPermutations(int n, vector<vector<int>>& a) {\n        sort(a.begin(), a.end());\n        long long dp[301][401]={0};\n        long long fac=1, mod=1000000007;\n        for(int i=1;i<=n;i++){\n            fac=(fac*i)%mod;\n        }\n        dp[0][0]=fac;\n        int pos=0;\n        while(pos<a.size()&&a[pos][0]==0){\n            if(a[pos][1]!=0){\n                return 0;\n            }\n            pos++;\n        }    \n        a.push_back({-1, -1});\n        for(int i=1;i<n;i++){\n            for(int j=0;j<=400;j++){\n                if(dp[i-1][j]==0){\n                    continue;\n                }\n                long long tem=(dp[i-1][j]*bm(i+1, mod-2, mod))%mod;\n                for(int k=0;k<i+1;k++){\n                    if(j+k>400)break;\n                    dp[i][j+k]=(dp[i][j+k]+tem)%mod;\n                }\n            }\n            if(a[pos][0]==i){\n                for(int j=0;j<=400;j++){\n                    if(j!=a[pos][1]){\n                        dp[i][j]=0;\n                    }\n                }\n                pos++;\n            }\n        }\n        return dp[a[a.size()-2][0]][a[a.size()-2][1]];\n    }\n};",
    "submit_ts": 1719071629.0
}