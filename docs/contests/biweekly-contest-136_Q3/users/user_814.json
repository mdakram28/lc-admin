{
    "username": "Oleks_V",
    "submission": "public class Solution {\n    public int MinFlips(int[][] grid) {\n        var m = grid.Length;\n        var n = grid[0].Length; \n        var ret = 0;\n        for (var i = 0; i < m / 2; i++) {\n            for (var j = 0; j < n / 2; j++) {\n                var ones = grid[i][j] + grid[i][n - j - 1] + grid[m - i - 1][j] + grid[m - i - 1][n - j - 1];\n                if (ones == 2) ret += 2;\n                else if (ones == 1 || ones == 3) ret++;\n                //Console.WriteLine($\"m: {m}; n: {n}; i: {i}; j: {j}; ones: {ones}; ret: {ret}\");\n            }\n        }\n        if (m % 2 == 1 && n % 2 == 1 && grid[m / 2][n / 2] == 1) ret++;\n        var onesInMidRow = 0;\n        var flipsInMidRow = 0;\n        if (m % 2 == 1) {\n            for (var j = 0; j < n / 2; j++) {\n                if (grid[m / 2][j] == 1) onesInMidRow++;\n                if (grid[m / 2][n - j - 1] == 1) onesInMidRow++;\n                if (grid[m / 2][j] != grid[m / 2][n - j - 1]) flipsInMidRow++;\n            }\n        }\n        if (n % 2 == 1) {\n            for (var i = 0; i < m / 2; i++) {\n                if (grid[i][n / 2] == 1) onesInMidRow++;\n                if (grid[m - i - 1][n / 2] == 1) onesInMidRow++;\n                if (grid[i][n / 2] != grid[m - i - 1][n / 2]) flipsInMidRow++;\n            }\n        }\n        var matchedOnes = onesInMidRow - flipsInMidRow;\n        //Console.WriteLine($\"onesInMidRow: {onesInMidRow}; flips: {flipsInMidRow}\");\n        while (flipsInMidRow > 0) {\n            switch (onesInMidRow % 4) {\n                case 0:\n                    onesInMidRow++;\n                    break;\n                case 1: \n                    onesInMidRow--;\n                break;\n                case 2: \n                    onesInMidRow--;\n                break;\n                case 3:\n                    onesInMidRow++;\n                break;\n            }\n            ret++;\n            flipsInMidRow--;\n        }\n        if (onesInMidRow % 4 == 2) ret += 2;\n        else if (onesInMidRow % 4 == 1 || onesInMidRow % 4 == 3) ret += 1;\n\n        return ret;\n    }\n}",
    "submit_ts": "1722698169",
    "subm_id": "1343171963"
}