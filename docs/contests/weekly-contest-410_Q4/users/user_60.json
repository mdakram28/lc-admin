{
    "username": "XKTZ",
    "submission": "typedef long long ll;\n\nconstexpr ll MAXN = 2e3 + 5;\nconstexpr ll MAXM = 1e3 + 5;\nconstexpr ll MOD = 1e9 + 7;\n\nll N, M;\nll dp[MAXN][MAXM];\nll psa[MAXN][MAXM + 3];\n\nll query(ll x, ll l, ll r) {\n    if (l > r) return 0ll;\n    if (l > M) return 0ll;\n    if (r < 0) return 0ll;\n    r = min(r, M);\n    l = max(l, 0ll);\n    l ++, r ++;\n    return (psa[x][r] - psa[x][l - 1] + MOD) % MOD;\n}\n\nvoid genpsa(ll x) {\n    psa[x][0] = 0;\n    for (ll i = 0; i <= M; i ++) {\n        psa[x][i + 1] = (psa[x][i + 1 - 1] + dp[x][i]) % MOD;\n    }\n}\n\nclass Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        N = nums.size();\n        M = *max_element(nums.begin(), nums.end());\n        nums.insert(nums.begin(), 0);\n\n        for (ll i = 0; i <= M; i ++) {\n            if (i <= nums[1]) {\n                dp[1][i] = 1;\n            } else {\n                dp[1][i] = 0;\n            }\n        }\n        genpsa(1);\n\n        for (ll i = 2; i <= N; i ++) {\n            for (ll j = 0; j <= M; j ++) {\n                if (j > nums[i]) {\n                    dp[i][j] = 0;\n                    continue;\n                }\n                ll ai = j, bi = nums[i] - j;\n                dp[i][j] = query(i - 1, 0, min(ai, nums[i - 1] - bi));\n            }\n            genpsa(i);\n        }\n        \n        ll ans = 0;\n        for (ll i = 0; i <= M; i ++) {\n            (ans += dp[N][i]) %= MOD;\n        }\n        return ans;\n\n    }\n};",
    "submit_ts": "1723344662",
    "subm_id": "1351539370"
}