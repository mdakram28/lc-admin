{
    "username": "HaoCR123",
    "submission": "vector<int> d1, d2, n1, n2;\nint n;\nvector<vector<int>> g;\n\nvoid dfs1(int o, int f) {\n    for(auto& no: g[o]) {\n        if(no == f) continue;\n        dfs1(no, o);\n        int tt;\n        if(no & 1) tt = 1;\n        else tt = 2;\n        if(d1[no] + tt > d1[o]) d2[o] = d1[o], n2[o] = n1[o], d1[o] = d1[no] + tt, n1[o] = no;\n        else if(d1[no] + tt > d2[o]) d2[o] = d1[no] + tt, n2[o] = no;\n    }\n}\n\nvoid dfs2(int o, int f, vector<int>& ans) {\n    ans[o] = d1[o];\n    for(auto& no: g[o]) {\n        if(no == f) continue;\n        int tt;\n        if(o & 1) tt = 1;\n        else tt = 2;\n        if(n1[o] == no) {\n            if(d2[o] + tt > d1[no]) d2[no] = d1[no], n2[no] = n1[no], d1[no] = d2[o] + tt, n1[no] = o;\n            else if(d2[o] + tt > d2[no]) d2[no] = d2[o] + tt, n2[no] = o; \n        }else {\n            if(d1[o] + tt > d1[no]) d2[no] = d1[no], n2[no] = n1[no], d1[no] = d1[o] + tt, n1[no] = o;\n            else if(d1[o] + tt > d2[no]) d2[no] = d1[o] + tt, n2[no] = o; \n        }\n        dfs2(no, o, ans);\n    }\n}\n\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n = edges.size() + 1;\n        vector<int> ans(n);\n        g.assign(n, vector<int>());\n        d1.assign(n, 0);\n        d2 = n1 = n2 = d1;\n        for(auto& e: edges) {\n            g[e[0]].push_back(e[1]);\n            g[e[1]].push_back(e[0]);\n        }\n        dfs1(0, 0);\n\n        dfs2(0, 0, ans);\n        return ans;\n    }\n};",
    "submit_ts": "1722698399",
    "subm_id": "552270667"
}