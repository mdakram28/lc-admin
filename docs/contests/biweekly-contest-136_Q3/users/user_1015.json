{
    "username": "Pikachu0123",
    "submission": "class Solution {\n    int solve(vector<vector<int>> &grid, int i, int j, int sum, int n, int m, vector<vector<vector<int>>> &dp){\n        if (i<0 or j<0) return 1e9;\n\n        if (j > (m - 1) / 2){\n            i++;\n            j = 0;\n        }    \n\n        if (dp[i][j][sum] != -1) return dp[i][j][sum];\n        \n        if (i == (n-1)/2 + 1 and j == 0){\n            if (sum == 0) return 0;\n            else return 1e9;\n        }\n        \n        if (i >= n or j >= m) return 1e9;\n        \n        int one = 0, zero = 0;\n        if (grid[i][j] == 1) one++;\n        else zero++;\n        if (grid[n-1-i][j] == 1 and n - 1 - i != i) one++;\n        else if (n-1-i != i) zero++;\n        if (grid[n-1-i][m-1-j] == 1 and n - 1 - i != i and m - 1 - j != j) one++;\n        else if (n-1-i != i and m-1-j != j) zero++;\n        if (grid[i][m-1-j] == 1 and m - 1 - j != j) one++;\n        else if (m-1-j != j) zero++;\n        // if (n & 1 and m & 1 and (i == n / 2 and j == m / 2)){\n        //     if (grid[i][j] == 1) return dp[i][j][sum] = min(1 + solve(grid, (n-1)/2 + 1, 0, sum, n, m, dp), solve(grid, (n-1)/2 + 1, 0, (sum + 1) % 4, n, m, dp));\n        //     else return dp[i][j][sum] = min(1 + solve(grid, (n-1)/2 + 1, 0, (sum +1)%4, n, m, dp), solve(grid, (n-1)/2 + 1, 0, sum, n, m, dp));\n        // }\n        return dp[i][j][sum] = min(zero + solve(grid, i, j+1, (sum+zero+one)%4, n, m, dp), one + solve(grid, i, j+1, sum, n, m, dp));\n        \n    }\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int n = grid.size();\n        int m = grid[0].size();\n        \n        vector<vector<vector<int>>> dp(n+10, vector<vector<int>>(m+10, vector<int>(5, -1)));\n        \n        return solve(grid, 0, 0, 0, n, m, dp);\n    }\n};",
    "submit_ts": "1722697993",
    "subm_id": "1343166130"
}