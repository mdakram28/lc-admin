{
    "username": "yogindra39265",
    "submission": "class Solution {\npublic:\n    void build(int ind,int low,int high,int seg[],int arr[]){\nif(low==high){\n    seg[ind]=arr[low];\n    return;\n}\nint mid=(high+low)/2;\nbuild(2*ind+1,low,mid,seg,arr);\nbuild(2*ind+2,mid+1,high,seg,arr);\nseg[ind]=(seg[2*ind+1]+seg[2*ind+2]);\n}\nint query(int ind,int low,int high,int l,int r,int seg[]){\nif(r<low || high<l)return 0;\nif(low>=l && high<=r)return seg[ind];\nint mid=(low+high)/2;\nint left=query(2*ind+1,low,mid,l,r,seg);\nint right=query(2*ind+2,mid+1,high,l,r,seg);\nreturn (left+right);\n}\nvoid update(int ind,int low,int high,int i,int val,int seg[]){\n    if(low==high){\n        seg[ind]=val;\n        return ;\n    }\n    int mid=(low+high)/2;\n    if(i<=mid)update(2*ind+1,low,mid,i,val,seg);\n    else update(2*ind+2,mid+1,high,i,val,seg);\n    seg[ind]=(seg[2*ind+1]+seg[2*ind+2]);\n}\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        int n=nums.size();\n        int a[n];for(int i=0;i<n;i++)a[i]=0;\n        for(int i=1;i<n-1;i++){\n           if(nums[i]>nums[i-1] && nums[i]>nums[i+1])a[i]=1;\n        }\n        int seg[4*n];\n        build(0,0,n-1,seg,a);\n        int q=queries.size();\n        vector<int>ans;\n        for(int i=0;i<q;i++){\n            \n            // for(int i=0;i<n;i++)cout<<a[i]<<\" \";cout<<endl;\n            if(queries[i][0]==1){\n                int l=queries[i][1];\n                int r=queries[i][2];\n                int f=query(0,0,n-1,l+1,r-1,seg);\n                ans.push_back(f);\n            }\n            else{\n                int ind=queries[i][1];\n                int val=queries[i][2];\n                int f=ind;\n                nums[ind]=val;\n                // cout<<val<<\" \"<<nums[ind]<<endl;\n                if(f>0 && f<n-1){\n                    // cout<<nums[f]<<\" \"<<nums[f+1]<<\" \"<<nums[f-1]<<endl;\n                    if(nums[f]>nums[f-1] && nums[f]>nums[f+1]){\n                        a[f]=1;\n                    }\n                    else a[f]=0;\n                    \n                        \n                }\n                f=ind-1;\n                if(f>0 && f<n-1){\n                    if(nums[f]>nums[f-1] && nums[f]>nums[f+1]){\n                        a[f]=1;\n                    }\n                    \n                    else a[f]=0;\n                    \n                        \n                }\n                f=ind+1;\n                if(f>0 && f<n-1){\n                    if(nums[f]>nums[f-1] && nums[f]>nums[f+1]){\n                        a[f]=1;\n                    }\n                    \n                    else a[f]=0;\n                        \n                }\n                \n                         update(0,0,n-1,ind,a[ind],seg);\n                \n                         if(ind>0)update(0,0,n-1,ind-1,a[ind-1],seg);\n                \n                         if(ind<n-1)update(0,0,n-1,ind+1,a[ind+1],seg);\n                \n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": 1718507385.0
}