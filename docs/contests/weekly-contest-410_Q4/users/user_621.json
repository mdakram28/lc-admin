{
    "username": "puppy955101",
    "submission": "class Solution {\npublic:\n    int mod = 1e9+7;\n    int dp[2000][1010]={};\n    int MAX[2010]={};\n    int cal(vector<int>& nums, int now, int l, int r){\n        if(now>=nums.size())return 1;\n        if(dp[now][l])return dp[now][l];\n        if(l>MAX[now])return 0;\n        int i;\n        int ct = 0;\n        for(i=0;i<=nums[now] && i<=MAX[now];i++){\n            if(i<l||nums[now]-i>r)continue;\n            ct += cal(nums, now+1, i, nums[now]-i) % mod;\n            ct %= mod;\n        }\n        // cout << now << ' ' << l << ' ' << r << ' ' << ct << endl;\n        dp[now][l] = ct;\n        return ct;\n    }\n    \n    int sol(vector<int>& nums){\n        int n = nums.size();\n        if(n==1)return nums[0]+1;\n        int i, j;\n        for(i=0;i<=nums[n-2];i++){\n            int l = i;\n            int r = nums[n-2]-l;\n            dp[n-1][l+1] = dp[n-1][l];\n            for(j=max(l, nums[n-1]-r);j<=nums[n-1];j++){\n                dp[n-1][l+1]++;\n                dp[n-1][l+1] %= mod;\n            }\n        }\n        for(i=n-2;i>0;i--){\n            for(j=0;j<=nums[i-1];j++){\n                int l = j;\n                int r = nums[i-1]-l;\n                dp[i][l+1] = dp[i][l];\n                if(nums[i]>=max(l, nums[i]-r)){\n                    dp[i][l+1] += (dp[i+1][nums[i]+1] % mod - dp[i+1][max(l, nums[i]-r)] % mod + mod)%mod;\n                    dp[i][l+1] %= mod;\n                }\n            }\n        }\n        int ct = 0;\n        for(i=0;i<nums[0];i++){\n            ct += dp[1][i];\n            ct %= mod;\n        }\n        return dp[1][nums[0]+1];\n    }\n    int countOfPairs(vector<int>& nums) {\n        return sol(nums);\n        // cout << endl;\n        int i;\n        MAX[nums.size()-1] = nums.back();\n        for(i=nums.size()-2;i>=0;i--){\n            MAX[i] = min(MAX[i+1], nums[i]);\n        }\n        // if(nums.size()>500)cout << MAX[0] << endl << endl;\n        int ct = 0;\n        for(i=0;i<=nums[0]&& i<=MAX[0];i++){\n            ct += cal(nums, 1, i, nums[0] - i)% mod;\n            ct %= mod;\n        }\n        return ct;\n    }\n};",
    "submit_ts": "1723348051",
    "subm_id": "1351610620"
}