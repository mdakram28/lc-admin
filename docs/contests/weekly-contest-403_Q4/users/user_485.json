{
    "username": "liulaoye135",
    "submission": "class Solution:\n    def minimumSum(self, grid: List[List[int]]) -> int:\n        h = defaultdict(int)\n        v = defaultdict(int)\n        m,n = len(grid), len(grid[0])\n        ss = 0\n        \n        def rmq(u,b,l,r):\n            miu = u\n            for i in range(u, b + 1):\n                c = 0\n                for j in range(l, r + 1):\n                    c += grid[i][j]\n                if c != 0:\n                    miu = i\n                    break\n            mau = b\n            for i in range(b, u-1, -1):\n                c = 0\n                for j in range(l, r + 1):\n                    c += grid[i][j]\n                if c != 0:\n                    mau = i\n                    break\n            mil = l\n            for i in range(l, r + 1):\n                c = 0\n                for j in range(u, b + 1):\n                    c += grid[j][i]\n                if c != 0:\n                    mil = i\n                    break\n            mal = r\n            for i in range(r, l - 1, -1):\n                c = 0\n                for j in range(u, b + 1):\n                    c += grid[j][i]\n                if c != 0:\n                    mal = i\n                    break\n            return (mal - mil + 1) * (mau - miu + 1)\n        for i in range(m):\n            for j in range(n):\n                ss += grid[i][j]\n                h[i] += grid[i][j]\n        for i in range(n):\n            for j in range(m):\n                v[i] += grid[j][i]\n        \n        mau = 0\n        for i in range(m):\n            if h[i] != 0:\n                mau = i\n                break\n        \n        miu = m - 1\n        for i in range(m - 1, -1, -1):\n            if h[i] != 0:\n                miu = i\n                break\n        \n        mal = 0\n        for j in range(n):\n            if v[j] != 0:\n                mal = j\n                break\n        mil = n - 1\n        for j in range(n-1, -1, -1):\n            if v[j] != 0:\n                mil = j\n                break\n        mil, mal = mal, mil\n        miu, mau = mau, miu\n        # print(mil, mal, miu, mau)\n        res = inf\n        \"| - \"\n\n        for i in range(mil, mal):\n            s1 = rmq(miu, mau, mil, i)\n            # print(s1)\n            for j in range(miu, mau):\n                \n                s2 = rmq(miu, j, i + 1, mal)\n                s3 = rmq(j + 1, mau, i + 1, mal)\n                # print(1, i,j,s1,s2,s3)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n    \n        \"|\"\n        \"-\"\n        \n        for j in range(miu, mau):\n            s1 = rmq(j + 1, mau, mil, mal)\n            for i in range(mil, mal):\n                s2 = rmq(miu, j, mil, i)\n                s3 = rmq(miu, j, i + 1, mal)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n\n    \n        \"-\"\n        \"|\"\n        \n        for j in range(mil, mal):\n            s1 = rmq(miu, mau, j + 1, mal)\n            for i in range(miu, mau):\n                s2 = rmq(miu, i, mil, j)\n                s3 = rmq(i + 1, mau, mil, j)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n\n        for i in range(mil, mal):\n            s1 = rmq(miu, mau, mil, i)\n            # print(s1)\n            for j in range(miu, mau):\n                \n                s2 = rmq(miu, j, i + 1, mal)\n                s3 = rmq(j + 1, mau, i + 1, mal)\n                # print(1, i,j,s1,s2,s3)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n\n        \"| | \"\n\n        for i in range(mil, mal):\n            s1 = rmq(miu, mau, mil, i)\n            for j in range(i, mal):\n                s2 = rmq(miu, mau, i + 1, j)\n                s3 = rmq(miu, mau, j + 1, mal)\n                # print(2, i,j,s1,s2,s3)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n\n                    \n        \"- | \"\n\n        for i in range(miu, mau):\n            s1 = rmq(miu, i, mil, mal)\n            for j in range(mil, mal):\n                s2 = rmq(i + 1, mau, mil, j)\n                s3 = rmq(i + 1, mau, j + 1, mal)\n                # print(3, i,j,s1,s2,s3)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n    \n        \"- - \"\n\n        for i in range(miu, mau):\n            s1 = rmq(miu, i, mil, mal)\n            for j in range(i, mau):\n                s2 = rmq(i + 1, j, mil, mal)\n                s3 = rmq(j + 1, mau, mil, mal)\n                # print(4, i,j,s1,s2,s3)\n                if s1 + s2 + s3 < res: res = s1 + s2 + s3\n        return res if ss != 3 else 3\n                ",
    "submit_ts": 1719114847.0
}