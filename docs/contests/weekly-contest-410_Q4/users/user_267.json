{
    "username": "NerdyCoder",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        constexpr long long mod = 1'000'000'007LL;\n        const int n = nums.size();\n        vector<int> dp;\n        vector<int> last_dp;\n        for (int i = 0, j = nums[0]; j >= 0; ++i, --j) {\n            dp.push_back(1);\n        }\n        array<int, 1002> fenwick;\n        const auto query = [&fenwick](int i) {\n            ++i;\n            long long result = 0;\n            for (; i > 0; i &= (i - 1)) {\n                result = (result + fenwick[i]) % mod;\n            }\n            return result;\n        };\n        const auto update = [&fenwick](int i, long long delta) {\n            ++i;\n            for (; i < fenwick.size(); i += (i & (-i))) {\n                fenwick[i] = (fenwick[i] + delta) % mod;\n            }\n        };\n        for (int index = 1; index < n; ++index) {\n            swap(dp, last_dp);\n            fill(fenwick.begin(), fenwick.end(), 0);\n            dp.clear();\n            for (int i = 0, j = nums[index]; j >= 0; ++i, --j) {\n                if (i < last_dp.size()) {\n                    update(nums[index - 1] - i, last_dp[i]);\n                }\n                const long long val = (query(1000) + mod - (j == 0 ? 0 : query(j - 1))) % mod;\n                dp.push_back(val);\n            }\n        }\n        long long result = 0;\n        for (long long val : dp) {\n            result = (result + val) % mod;\n        }\n        return result;\n    }\n};",
    "submit_ts": "1723346380",
    "subm_id": "1351576323"
}