{
    "username": "pernan",
    "submission": "import math\n\nclass Solution(object):\n    def numberOfSubstrings(self, s):\n        \"\"\"\n        :type s: str\n        :rtype: int\n        \"\"\"\n        \n        zeroes = []\n        for i in range(len(s)):\n            if s[i] == '0':\n                zeroes.append(i)\n                \n        \n        def find_first(zeroes, after):\n            l = 0\n            r = len(zeroes) - 1\n            ans = -1\n            while l <= r:\n                mid = (l + r) // 2\n                if zeroes[mid] >= after:\n                    r = mid - 1\n                    ans = mid\n                else:\n                    l = mid + 1\n            return ans\n        \n                \n        total = 0\n        for i in range(len(s)):\n            \n            index = find_first(zeroes, i)\n            \n            if index == -1:\n                total += len(s) - 1 - i + 1\n                continue\n                        \n            k = zeroes[index] - i \n            total += k\n            \n            \n            for ind in range(index, min(len(zeroes), index + 202)):\n                pos = zeroes[ind]                \n                posnext = zeroes[ind+1] if ind + 1 < len(zeroes) else len(s)\n                k = posnext - pos - 1\n                t = pos - i + 1 - (ind - index + 1)\n                # t\n                # t + 1\n                # t + k\n                need = (ind - index + 1)**2\n                if t >= need:\n                    total += (k+1)\n                elif t + k < need:\n                    total += 0\n                else:\n                    total += (t + k - need + 1)\n                \n                \n        return total\n            \n        ",
    "submit_ts": "1722138049",
    "subm_id": "1335780802"
}