{
    "username": "half_blood_prince_",
    "submission": "vector<vector<int>>adj;\nvector<int>dp;\nvector<vector<int>>cc;\nvector<int>ans;\nvoid dfs(int node,int par){\n    int leaf=0;\n    for(auto child:adj[node]){\n        if(child!=par){\n            leaf++;\n            dfs(child,node);\n            if(child%2==0){\n                dp[node]=max(dp[node],dp[child]+2);\n                cc[node].push_back(dp[child]+2);\n            }\n            else {\n                dp[node]=max(dp[node],dp[child]+1);\n                cc[node].push_back(dp[child]+1);\n            }\n        }\n    }\n}\nvoid fun(int node,int par,int par_val){\n    int len=cc[node].size();\n    vector<int>pmax(len,0),smax(len,0);\n    for(int i=0;i<len;i++){\n        pmax[i]=cc[node][i];\n        if(i!=0){\n            pmax[i]=max(pmax[i-1],pmax[i]);\n        }\n    }\n    for(int i=len-1;i>=0;i--){\n        smax[i]=cc[node][i];\n        if(i!=len-1){\n            smax[i]=max(smax[i+1],smax[i]);\n        }\n    }\n    int leaf=0;\n    for(auto child:adj[node]){\n        if(child!=par){\n            int l=0,r=0;\n            if(leaf-1>=0){\n                l=pmax[leaf-1];\n            }\n            if(leaf+1<len){\n                r=smax[leaf+1];\n            }\n            int curr=max(max(l,r),par_val);\n            curr++;\n            if(node%2==0){\n                curr+=1;\n            }\n            ans[child]=max(dp[child],curr);\n            fun(child,node,curr);\n            leaf++;\n        }\n    }\n}\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size();\n        adj.resize(n+1);\n        dp.resize(n+1,0);\n        cc.resize(n+1);\n        ans.resize(n+1,0);\n        for(auto it:edges){\n            adj[it[0]].push_back(it[1]);\n            adj[it[1]].push_back(it[0]);\n        }\n        dfs(0,-1);\n        fun(0,-1,0);\n        ans[0]=dp[0];\n        vector<int>v=ans;\n        dp.clear(); adj.clear(); ans.clear(); cc.clear();\n        return v;\n    }\n};",
    "submit_ts": "1722698548",
    "subm_id": "1343184193"
}