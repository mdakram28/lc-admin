{
    "username": "sgdfbahjbhbaisdufg",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        int n = s.size();\n        vector<int> zeros;\n        for (int i = 0; i < n; ++i) {\n            if (s[i] == '0') {\n                zeros.push_back(i);\n            }\n        }\n        int m = zeros.size();\n        int ans = 0;\n        for (int r = 0; r < m; ++r) {\n            for (int l = r; l >= 0; --l) {\n                int numzeros = r - l + 1;\n                if (numzeros * numzeros > n - m) {\n                    break;\n                }\n                int li = zeros[l], ri = zeros[r];\n                int lb = l > 0 ? (zeros[l - 1] + 1) : 0;\n                int ub = r < (m - 1) ? zeros[r + 1] - 1 : (n - 1);\n                \n                int left = li - lb + 1;\n                int right = ub - ri + 1;\n                int prod = left * right;\n                \n                \n                \n                \n                int existingone = ri - li + 1 - numzeros;\n                int needones = numzeros * numzeros;\n                int requiredadditionalones = max(0, needones - existingone);\n                \n                for (int right_cnt = 0; right_cnt <= min(right - 1, requiredadditionalones); ++right_cnt) {\n                    int left_required = requiredadditionalones - right_cnt;\n                    \n                    prod -= min(left_required, left);\n                    // printf(\"    right_cnt: %d | left_required = %d | prod -= %d\\n\", right_cnt, left_required,  min(left_required, left));\n                }\n                \n                ans += prod;\n                \n                // printf(\"l = %d | r = %d | li = %d | ri = %d | lb = %d | ub = %d | left = %d | right = %d | prod = %d\\n\", l, r, li, ri, lb, ub, left, right, prod);\n            }\n        }\n        \n        int lastzero = -1;\n        for (int i = 0; i < n; ++i) {\n            if (s[i] == '0') {\n                lastzero = i;\n            } else {\n                ans += i - lastzero;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722138817",
    "subm_id": "1335800436"
}