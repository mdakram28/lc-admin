{
    "username": "dragon76",
    "submission": "class TrieNode {\npublic:\n    bool isWord;\n    int index;\n    int cost;\n    vector<TrieNode*> dict;\npublic:\n    TrieNode() {\n        isWord = false;\n        dict = vector<TrieNode*>(26, nullptr);\n        index = -1;\n        cost = INT_MAX;\n    }\n    \n    \n    ~TrieNode() {\n        for (auto& p : dict) {\n            if (p != nullptr) {\n                delete p;\n            }\n        }\n    }\n};\n\nclass Solution {\npublic:\n    TrieNode root;\npublic:\n    void addWord(string& s, int index, int c) {\n        TrieNode * cur = &root;\n        \n        for (auto& c : s) {\n            if (cur->dict[c - 'a'] == nullptr) {\n                cur->dict[c - 'a'] = new TrieNode();\n            }\n            \n            cur = cur->dict[c - 'a'];\n        }\n        \n        cur->isWord = true;\n        if (cur->cost > c) {\n            cur->index = index;\n            cur->cost = c;\n        }\n    }\n    \n    int minimumCost(string target, vector<string>& words, vector<int>& costs) {\n        int n = target.size();\n        vector<int> dp(n + 1, INT_MAX);\n        priority_queue<pair<int, int>, vector<pair<int, int>>, greater<>> pq;\n\n        for (int i = 0; i < words.size(); i++) {\n            addWord(words[i], i, costs[i]);\n        }\n\n        pq.push({0, 0});\n        while (pq.size() > 0) {\n            auto [c, j] = pq.top();\n            pq.pop();\n            TrieNode * cur = &root;\n            //cout << j << \" \" << c << endl;\n            if (j == n) return c;\n            if (dp[j] < c) continue;\n            dp[j] = c;\n            for (int i = j; i < n; i++) {\n                if (cur->dict[target[i] - 'a'] != nullptr) {\n                    cur = cur->dict[target[i] - 'a'];\n                    if (cur->isWord && dp[i + 1] > c + costs[cur->index]) {\n                        dp[i + 1] = c + costs[cur->index];\n                        pq.push({dp[i + 1], i + 1});\n                    }\n                } else {\n                    break;\n                }\n            }\n        }\n\n        return -1;\n    }\n};",
    "submit_ts": "1720322581",
    "subm_id": "1312353679"
}