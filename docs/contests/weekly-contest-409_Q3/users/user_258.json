{
    "username": "vibrant-mayerhct",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        set<pair<int,int>> s;\n        vector<int> f(4*n+10,0);\n        function<void(int,int,int,int,int)> modify=[&](int cur,int l,int r,int x,int k){\n            if(l==r){\n                f[cur]=max(f[cur],k);\n                return;\n            }\n            int t=cur<<1;\n            int mid=l+r>>1;\n            if(x<=mid)\n                modify(t,l,mid,x,k);\n            else\n                modify(t+1,mid+1,r,x,k);\n            f[cur]=max(f[t],f[t+1]);\n        };\n        function<int(int,int,int,int,int)> query=[&](int cur,int l,int r,int x,int y){\n            if(x==l&&y==r)\n                return f[cur];\n            int t=cur<<1;\n            int mid=l+r>>1;\n            int retl=0;\n            int retr=0;\n            if(x<=mid)\n                retl=query(t,l,mid,x,min(mid,y));\n            if(mid<y)\n                retr=query(t+1,mid+1,r,max(mid+1,x),y);\n            return max(retl,retr);\n        };\n        for(int i=1;i<n;++i){\n            s.insert({i,i+1});\n            modify(1,1,n,i,i+1);\n        }\n        vector<int> ans;\n        for(auto &v:queries){\n            int x=v[0]+1;\n            int y=v[1]+1;\n            if(query(1,1,n,1,x)<y){\n                while(!s.empty()){\n                    auto it=s.lower_bound({x,0});\n                    if(it==s.end()||it->first>=y)\n                        break;\n                    modify(1,1,n,it->first,0);\n                    it=s.erase(it);\n                }\n                s.insert({x,y});\n                modify(1,1,n,x,y);\n            }\n            ans.push_back(s.size());\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722740407",
    "subm_id": "552331300"
}