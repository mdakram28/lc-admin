{
    "username": "fornoreason",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        const int n = nums.size();\n        std::vector<std::vector<int>> cache(n);\n        return countOfPairs(nums, n - 1, nums[n - 1], 0, cache);\n    }\n    \nprivate:\n    const int MOD = 1000000007;\n    long long countOfPairs(vector<int>& nums, int index, int upper_left, int lower_right, std::vector<std::vector<int>> &cache) {\n        if (index == -1) {\n            return 1;\n        }\n        \n        upper_left = std::min(nums[index], upper_left);\n        upper_left = std::min(upper_left, nums[index] - lower_right);\n        if (upper_left < 0) {\n            return 0;\n        }\n        \n        if (cache[index].size() < upper_left + 1) {\n            int s = cache[index].size();\n            cache[index].resize(upper_left + 1);\n            while (s < cache[index].size()) {\n                cache[index][s] = -1;\n                s++;\n            }\n        } else if (cache[index][upper_left] >= 0) {\n            return cache[index][upper_left];\n        }\n        \n        int &count = cache[index][upper_left];\n        count = 0;\n        for (int left = upper_left; left >= 0; --left) {\n            int right = nums[index] - left;\n            count = (count + countOfPairs(nums, index - 1, left, right, cache)) % MOD;\n        }\n        \n        return count;\n    }\n};",
    "submit_ts": "1723346281",
    "subm_id": "1351574139"
}