{
    "username": "Romy67",
    "submission": "#define rep(i, a, b) for(int i = a; i < (b); ++i)\n#define per(i, a, b) for(int i = a; i > (b); --i)\n#define ar array\n#define sz(x) (int) (x).size()\n#define pii pair<int,int>\n#define fi first\n#define se second\ntypedef long long ll;\ntypedef pair<ll,ll> pll;\ntypedef pair<double,double> pdd;\ntypedef pair<double,int> pdi;\ntypedef vector<int> vi;\n\ntemplate<typename T>\nvoid min_self(T& A, T B) {\n    A = min(A,B);\n}\ntemplate<typename T>\nvoid max_self(T& A, T B) {\n    A = max(A,B);\n}\n\nstruct Tree {\n\ttypedef int T;\n\tstatic constexpr T unit = (1<<30)-1;\n\tT f(T a, T b) { return a & b; } // (any associative fn)\n\tvector<T> s; int n;\n\tTree(int n = 0, T def = unit) : s(2*n, def), n(n) {}\n\tvoid update(int pos, T val) {\n\t\tfor (s[pos += n] = val; pos /= 2;)\n\t\t\ts[pos] = f(s[pos * 2], s[pos * 2 + 1]);\n\t}\n\tT query(int b, int e) { // query [b, e)\n\t\tT ra = unit, rb = unit;\n\t\tfor (b += n, e += n; b < e; b /= 2, e /= 2) {\n\t\t\tif (b % 2) ra = f(ra, s[b++]);\n\t\t\tif (e % 2) rb = f(s[--e], rb);\n\t\t}\n\t\treturn f(ra, rb);\n\t}\n};\n\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        Tree st(sz(nums));\n        rep(i,0,sz(nums)) {\n            st.update(i, nums[i]);\n        }\n        int ans = 1e9;\n        rep(i,0,sz(nums)) {\n            int l = i, r = sz(nums)-1;\n            int pos = -1;\n            while(l<=r) {\n                int mid = (l+r)/2;\n                int val = st.query(i, mid+1);\n                if(val>k) {\n                    pos = mid;\n                    l = mid+1;\n                } else {\n                    r = mid-1;\n                }\n            }\n            if(pos==-1) {\n                min_self(ans, abs(k-nums[i]));\n            } else {\n                int val1 = st.query(i,pos+1);\n                min_self(ans, abs(k-val1));\n                if(pos+1 < sz(nums)) {\n                    int val2 = st.query(i,pos+2);\n                    min_self(ans, abs(k-val2));\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1717297266.0
}