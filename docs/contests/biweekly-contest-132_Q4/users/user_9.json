{
    "username": "kmjp",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\ntypedef signed long long ll;\n\n#undef _P\n#define _P(...) (void)printf(__VA_ARGS__)\n#define FOR(x,to) for(x=0;x<(to);x++)\n#define FORR(x,arr) for(auto& x:arr)\n#define FORR2(x,y,arr) for(auto& [x,y]:arr)\n#define ALL(a) (a.begin()),(a.end())\n#define ZERO(a) memset(a,0,sizeof(a))\n#define MINUS(a) memset(a,0xff,sizeof(a))\ntemplate<class T> bool chmax(T &a, const T &b) { if(a<b){a=b;return 1;}return 0;}\ntemplate<class T> bool chmin(T &a, const T &b) { if(a>b){a=b;return 1;}return 0;}\n//-------------------------------------------------------\n\nmap<int,int> M[51];\nmultiset<int> S[51];\nclass Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n\t\tint i;\n\t\tFOR(i,k+1) {\n\t        M[i].clear();\n\t        S[i].clear();\n\t    }\n\t    int ma=0;\n\t    FORR(n,nums) {\n\t\t\tFOR(i,k+1) if(M[i].count(n)) S[i].erase(S[i].find(M[i][n]));\n\t\t\t\n\t\t\tFOR(i,k+1) if(M[i].count(n)) M[i][n]++;\n\t\t\tfor(i=k-1;i>=0;i--) if(S[i].size()) M[i+1][n]=max(M[i+1][n],*S[i].rbegin()+1);\n\t\t\tif(M[0][n]==0) M[0][n]=1;\n\t\t\t\n\t\t\tFOR(i,k+1) if(M[i].count(n)) {\n\t\t\t\tS[i].insert(M[i][n]);\n\t\t\t\tma=max(ma,M[i][n]);\n\t\t\t}\n\t\t}\n\t\treturn ma;\n        \n    }\n};\n",
    "submit_ts": "1717858170",
    "subm_id": "1281677258"
}