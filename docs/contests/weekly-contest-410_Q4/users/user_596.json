{
    "username": "zxxxxy1998",
    "submission": "long long mod = pow(10, 9) + 7;\n\nclass Solution {\npublic:\n    vector<vector<long long>> dp;\n    vector<long long> prefix;\n    \n    int countOfPairs(vector<int>& nums) {\n        long long ans = 0;\n        \n        dp = vector<vector<long long>>(nums.size(), vector<long long>(1001));\n        \n        for(int idx = 0; idx < nums.size(); idx++) {\n            for(int gap = 0; gap <= nums[idx]; gap++) {\n                if(idx == 0) {\n                    dp[idx][gap] = 1;\n                } else {\n                    int r = max(-1, min(gap, min(nums[idx - 1], nums[idx - 1] - nums[idx] + gap)));\n                    if(r >= 0) dp[idx][gap] = (dp[idx][gap] + prefix[r]) % mod;\n                    // for(int prevGap = 0; prevGap <= gap && prevGap <= nums[idx - 1] && nums[idx - 1] - prevGap >= nums[idx] - gap; prevGap++) {\n                    //     cout<<\"idx:\"<<idx<<\" gap:\"<<gap<<\" prevGap:\"<<prevGap<<endl;\n                    //     dp[idx][gap] = (dp[idx][gap] + dp[idx - 1][prevGap]) % mod;\n                    // }\n                }\n                \n                if(idx + 1 == nums.size()) {\n                    ans = (ans + dp[idx][gap]) % mod;\n                }\n            }\n            \n            prefix.resize(1001, 0);\n            long long sum = 0;\n            for(int i = 0; i <= nums[idx]; i++) {\n                sum = (sum + dp[idx][i]) % mod;\n                prefix[i] = sum;\n            }\n\n            // cout<<\"prefix: \";\n            // for(auto i : prefix) cout<<i<<\" \";\n            // cout<<endl;\n        }\n        \n        // for(auto i : dp) {\n        //     for(auto j : i) {\n        //         cout<<j<<\" \";\n        //     }\n        //     cout<<endl;\n        // }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1723348501",
    "subm_id": "1351619538"
}