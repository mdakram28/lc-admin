{
    "username": "CE_RE_WAyitiaolong",
    "submission": "class ST {\n\tpublic:\n\tint s, e, v;\n\tST *l, *r;\n\tST(int s, int e) {\n\t\tthis->s = s;\n\t\tthis->e = e;\n\t\t\n\t\t//or min/max value\n\t\tv = 0;\n\t\tl = r = NULL;\n\t}\n};\n\nST *build(int s, int e) {\n\tif(s > e) {\n        return NULL;\n    }\n    \n    ST *cur = new ST(s, e);\n    if(s == e) {\n        return cur;\n    }\n    \n    int mid = (e - s) / 2 + s;\n    cur->l = build(s, mid);\n    cur->r = build(mid + 1, e);\n    \n    return cur;\n}\n\nint query(ST *root, int s, int e) {\n\t\n\t//or min/max(useless) value\n\tif(!root) {\n        return 0;\n    }\n    if(root->e < s || root->s > e) {\n        return 0;\n    }\n    \n    if(root->s >= s && root->e <= e) {\n        return root->v;\n    }\n    \n    return max(query(root->l, s, e), query(root->r, s, e));\n}\n\n\nvoid modify(ST *root, int i, int v) {\n\tif(!root) {\n        return;\n    }\n    if(root->s > i || root->e < i) {\n        return;\n    }\n    if(root->s == i && root->e == i) {\n        root->v = v;\n        return;\n    }\n    modify(root->l, i, v);\n    modify(root->r, i, v);\n    root->v = max(root->l->v, root->r->v);\n}\n\nclass Solution {\npublic:\n    vector<bool> getResults(vector<vector<int>>& q) {\n        vector<bool> res;\n        map<int, int> s, v;\n        int ma = 0;\n        for(auto &i : q) {\n            ma = max(ma, i[1]);\n        }\n        ST *root = build(0, ma + 1);\n        modify(root, ma + 1, ma + 1);\n        v[0] = ma + 1;\n        for(auto &i : q) {\n            if(i[0] == 1) {\n                auto it = v.upper_bound(i[1]);\n                --it;\n                int y = it->second;\n                // cout << it->first << \" \" << it->second <<\" \" << i[1] << endl;\n                modify(root, i[1], i[1] - it->first);\n                modify(root, y, y - i[1]);\n                it->second = i[1];\n                v[i[1]] = y;\n            } else {\n                auto it = v.upper_bound(i[1]);\n                --it;\n                // cout << query(root, 0, it->first) << endl;\n                if(query(root, 0, it->first) >= i[2] || i[1] - it->first >= i[2]) {\n                    res.push_back(true);\n                } else {\n                    res.push_back(false);\n                }\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": 1716648980.0
}