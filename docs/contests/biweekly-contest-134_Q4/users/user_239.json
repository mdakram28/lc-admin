{
    "username": "tepamid",
    "submission": "\n#define fo(i, n) for (int i = 0; i < n; ++i)\n#define foback(i, n) for (int i = n - 1; i >= 0; --i)\n#define fo1(i, n) for (ll i = 1; i <= n; ++i)\n\n#define all(x) x.begin(), x.end()\n#define rall(x) x.rbegin(), x.rend()\n#define makeunique(x) sort(all(x)), (x).resize(unique(all(x)) - (x).begin())\n\ntypedef long long ll;\n\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& a, int k) {\n        // cout << a.size() << \" \" << k <<endl;\n        \n        ll ans=0;\n        \n        vector<int> dp0(31, -1);\n        vector<int> dp1(31, 1e9);\n        \n        for(int i=0; i<a.size(); i++) {\n            int l0 = i;\n            int l1 = 0;\n            \n            for(int b=0; b<31; b++) {\n                int bi = 1<<b;\n                \n                if (a[i] & bi) {\n                    \n                    dp1[b] = min(dp1[b], i);\n                } else {\n                    dp0[b] = i;//max(dp0[b], i);\n                    dp1[b] = 1e9;  \n                }\n                \n                if (k&bi) {\n                    l1 = max(l1, dp1[b]) ;   \n                } else {\n                    l0 = min(l0, dp0[b]);\n                }\n            }\n            \n            ll cur = l0-l1+1;\n            ans += max(0LL, cur);\n            \n//             ll curok=0;\n//             int andi=a[i];\n//             for(int j=i; j>=0; j--) {\n//                 andi = andi & a[i];\n//                 if (andi == k) curok++;\n//             }\n            \n//             cout << i << \" \" << cur << \" \" << curok << endl;\n            \n        }        \n        \n        return ans;\n    }\n};\n",
    "submit_ts": "1720278496",
    "subm_id": "1311711678"
}