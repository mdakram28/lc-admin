{
    "username": "skylet",
    "submission": "class Solution {\n    func getResults(_ queries: [[Int]]) -> [Bool] {\n        var dp = [(pos: Int, maxSpace: Int)]()\n        var ans = [Bool]()\n        for q in queries {\n            if q[0] == 1 {\n                binaryInsert(q[1], to: &dp)\n            } else {\n                let space = binaryFind(q[1], dp)\n                if q[2] <= space {\n                    ans.append(true)\n                } else {\n                    ans.append(false)\n                }\n            }\n        }\n        return ans\n    }\n\n    func binaryInsert(_ target: Int, to dp: inout [(pos: Int, maxSpace: Int)]) {\n        if dp.isEmpty {\n            dp.append((pos: target, maxSpace: target))\n            return\n        }\n        var left = 0, right = dp.count - 1\n        while left <= right {\n            let mid = (left + right) / 2\n            if dp[mid].pos < target {\n                left = mid + 1\n            } else {\n                right = mid - 1\n            }\n        }\n        var space = target\n        if right >= 0 {\n            space = max(target - dp[right].pos, dp[right].maxSpace)\n        }\n        dp.insert((pos: target, maxSpace: space), at: left)\n        for i in left+1 ..< dp.count {\n            let oldValue = dp[i].maxSpace\n            dp[i].maxSpace = max(dp[i].pos - dp[i-1].pos, dp[i-1].maxSpace)\n            if oldValue == dp[i].maxSpace {\n                break\n            }\n        }\n    }\n\n    func binaryFind(_ target: Int, _ dp: [(pos: Int, maxSpace: Int)]) -> Int {\n        if dp.isEmpty {\n            return target\n        }\n        var left = 0, right = dp.count - 1\n        while left <= right {\n            let mid = (left + right) / 2\n            if dp[mid].pos < target {\n                left = mid + 1\n            } else {\n                right = mid - 1\n            }\n        }\n        if right < 0 {\n            return target\n        }\n        return max(target - dp[right].pos, dp[right].maxSpace)\n    }\n}",
    "submit_ts": 1716651563.0
}