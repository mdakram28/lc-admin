{
    "username": "Shanwitha",
    "submission": "\nvector<int> solve(vector<int>& a){\n    vector<pair<int,int>> v;\n    for(int i=0;i<a.size();i++) v.push_back({a[i],i});\n    sort(v.begin(),v.end());\n    int ind=a.size();\n    ind--;\n    vector<int> ans;\n    ans.push_back(v[ind].second);\n    ans.push_back(v[ind-1].second);\n    ans.push_back(v[ind-2].second);\n    return ans;\n}\nvector<pair<int,int>> solve2(vector<int>& a){\n    vector<pair<int,int>> v;\n    for(int i=0;i<a.size();i++) v.push_back({a[i],i});\n    sort(v.begin(),v.end());\n    int ind=a.size();\n    ind--;\n    vector<pair<int,int>> ans;\n    ans.push_back({v[ind].second,v[ind].first});\n    ans.push_back({v[ind-1].second,v[ind-1].first});\n    ans.push_back({v[ind-2].second,v[ind-2].first});\n    return ans;\n}\n\nlong long say(vector<int> a, vector<int> b, vector<pair<int,int>> c,\n    int r1,int r2,vector<vector<int>>& board){\n    long long ans=(-3e9-1);\n    for(int i=0;i<3;i++)\n    {\n        for(int j=0;j<3;j++)\n        {\n            for(int k=0;k<3;k++)\n            {\n                if(a[i]!=b[j] && b[j]!=c[k].first && a[i]!=c[k].first)\n                {\n                    long long l1=board[r1][a[i]];\n                    long long l2=board[r2][b[j]];\n                    long long l3=c[k].second;\n                    ans=max(ans,l1+l2+l3);\n                }\n            }\n        }\n    }\n    return ans;\n}\n\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& a) {\n        int n=a.size();\n        int m=a[0].size();\n\n        vector<vector<int>> tt(n);\n        vector<vector<pair<int,int>>> ttc(n);\n        for(int i=0;i<n;i++) \n        {\n            tt[i]=solve(a[i]);\n        }\n        vector<int> temp(m);\n        for(int i=0;i<m;i++) temp[i]=-1e9-1;\n        for(int i=n-1;i>=2;i--)\n        {\n            for(int j=0;j<m;j++) temp[j]=max(temp[j],a[i][j]);\n            ttc[i]=solve2(temp);\n        }\n        long long ans=(-3e9-1);\n        for(int i=0;i<n;i++)\n        {\n            for(int j=i+1;j<n;j++)\n            {\n                if(j+1<=n-1) ans=max(ans,say(tt[i],tt[j],ttc[j+1],i,j,a));\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723909263",
    "subm_id": "1359185860"
}