{
    "username": "Beast0E4",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& v) {\n        int ans = 0, ones = 0, res = 0;\n        int n = v.size(), m = v[0].size();\n        vector<vector<int>> g = v;\n        for(int i = 0; i < n; i ++){\n            for(int j = 0; j < m / 2; j ++){\n                if(v[i][j] != v[i][m - j - 1]){\n                    if(v[i][j] == v[n - i - 1][j] && v[i][m - j - 1] != v[n - i - 1][m - j - 1]){\n                        ans ++; v[i][m - j - 1] = v[i][j];\n                    }\n                    else if(v[i][j] != v[n - i - 1][j] && v[i][m - j - 1] == v[n - i - 1][m - j - 1]){\n                        ans ++; v[i][j] = v[i][m - j - 1]; \n                    }\n                    else if(v[i][j] == v[n - i - 1][j]){\n                        if(i != n - i - 1) ans += 2;\n                        else ans ++;\n                        v[i][j] = 1; v[n - i - 1][m - j - 1] = 1;\n                        v[i][m - j - 1] = v[i][j]; v[n - i - 1][j] = v[i][j];\n                    }\n                    else{\n                        if(i != n - i - 1) ans += 2;\n                        else ans ++;\n                        v[i][j] = 1; v[n - i - 1][m - j - 1] = 1;\n                        v[i][m - j - 1] = v[i][j]; v[n - i - 1][j] = v[i][j];\n                    }\n                }\n            }\n        }\n        for(int j = 0; j < m; j ++){\n            for(int i = 0; i < n / 2; i ++){\n                if(v[i][j] != v[n - i - 1][j]){\n                    if(v[i][j] == v[i][m - j - 1]  && v[n - i - 1][j] != v[n - i - 1][m - j - 1]){\n                        ans ++; v[n - i - 1][j] = v[i][j];\n                    }\n                    else if(v[i][j] != v[i][m - j - 1] && v[n - i - 1][j] == v[n - i - 1][m - j - 1]){\n                        ans ++; v[i][j] = v[n - i - 1][j];\n                    }\n                    else if(v[i][j] == v[i][m - j - 1]){\n                        if(j != m - j - 1) ans += 2;\n                        else ans ++;\n                        v[i][j] = 1; v[n - i - 1][m - j - 1] = 1;\n                        v[i][m - j - 1] = v[i][j]; v[n - i - 1][j] = v[i][j];\n                    }\n                    else{\n                        if(j != m - j - 1) ans += 2;\n                        else ans ++;\n                        v[i][j] = 1; v[n - i - 1][m - j - 1] = 1;\n                        v[i][m - j - 1] = v[i][j]; v[n - i - 1][j] = v[i][j];\n                    }\n                }\n            }\n        }\n        for(int i = 0; i < n; i ++){\n            for(int j = 0; j < m; j ++) ones += v[i][j] == 1;\n        }\n        res = ans + ones % 4;\n        if(n & 1){\n            for(int i = 0; i < m / 2; i ++){\n                if(g[n / 2][i] != g[n / 2][m - i - 1] && v[n / 2][i]){\n                    g[n / 2][i] = 0; g[n / 2][m - i - 1] = 0; ones -= 2;\n                    res = min(res, ans + ones % 4);\n                }\n            }\n        }\n        if(m & 1){\n            for(int i = 0; i < n / 2; i ++){\n                if(g[i][m / 2] != g[n - i - 1][m / 2] && v[i][m / 2]){\n                    g[i][m / 2] = 0; g[n - i - 1][m / 2] = 0; ones -= 2;\n                    res = min(res, ans + ones % 4);\n                }\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1722699373",
    "subm_id": "1343209683"
}