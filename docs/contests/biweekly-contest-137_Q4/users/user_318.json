{
    "username": "Samyak Jain",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size();\n        int m = board[0].size();\n        \n        vector<vector<int>> map1(n,vector<int>(m,-1));\n        vector<vector<int>> map2(n,vector<int>(m,-1));\n        // map<int,map<int,int>> map1;\n        // map<int,map<int,int>> map2;\n        \n        for(int j = 0; j<m; j++)\n        {\n            int m1 = -1e9;\n            for(int i = 0; i<n; i++)\n            {\n                m1 = max(m1,board[i][j]);\n                map1[i][j] = m1;\n            }\n            m1 = -1e9;\n            for(int i = n-1; i>=0; i--)\n            {\n                m1 = max(m1,board[i][j]);\n                map2[i][j] = m1;\n            }\n        }\n        \n//         for(int i = 0; i<n; i++)\n//         {\n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<map1[i][j]<<\" \";\n//             }cout<<endl;\n//         }\n//         cout<<endl;\n        \n//         for(int i = 0; i<n; i++)\n//         {\n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<map2[i][j]<<\" \";\n//             }cout<<endl;\n//         }\n        \n        vector<vector<int>> map3(n,vector<int>(m,-1));\n        vector<vector<int>> map4(n,vector<int>(m,-1));\n        vector<vector<int>> map5(n,vector<int>(m,-1));\n        vector<vector<int>> map6(n,vector<int>(m,-1));\n        // map<int,map<int,int>> map3;\n        // map<int,map<int,int>> map4;\n        // map<int,map<int,int>> map5;\n        // map<int,map<int,int>> map6;\n        for(int j = 0; j<m; j++)\n        {\n            for(int i = 0; i<n; i++)\n            {\n                int m1 = board[i][j];\n                if(j > 0)\n                {\n                    m1 = max(m1,map3[i][j-1]);\n                }\n                if(i > 0)\n                {\n                    m1 = max(m1,map3[i-1][j]);\n                }\n                map3[i][j] = m1;\n            }\n            \n            for(int i = n-1; i >= 0; i--)\n            {\n                int m1 = board[i][j];\n                if(j > 0)\n                {\n                    m1 = max(m1,map6[i][j-1]);\n                }\n                if(i < n-1)\n                {\n                    m1 = max(m1,map6[i+1][j]);\n                }\n                map6[i][j] = m1;\n            }\n            \n            \n        }\n        \n        for(int j = m-1; j>=0; j--)\n        {\n            for(int i = 0; i<n; i++)\n            {\n                int m1 = board[i][j];\n                if(j < m-1)\n                {\n                    m1 = max(m1,map4[i][j+1]);\n                }\n                if(i > 0)\n                {\n                    m1 = max(m1,map4[i-1][j]);\n                }\n                map4[i][j] = m1;\n            }\n            \n            for(int i = n-1; i >= 0; i--)\n            {\n                int m1 = board[i][j];\n                if(j < m-1)\n                {\n                    m1 = max(m1,map5[i][j+1]);\n                }\n                if(i < n-1)\n                {\n                    m1 = max(m1,map5[i+1][j]);\n                }\n                map5[i][j] = m1;\n            }\n        }\n//         for(int i = 0; i<n; i++)\n//         {\n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<map3[i][j]<<\" \";\n//             }cout<<endl;\n//         }\n//         cout<<endl;\n        \n//         for(int i = 0; i<n; i++)\n//         {\n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<map4[i][j]<<\" \";\n//             }cout<<endl;\n//         }\n//         cout<<endl;\n        \n//         for(int i = 0; i<n; i++)\n//         {\n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<map5[i][j]<<\" \";\n//             }cout<<endl;\n//         }\n//         cout<<endl;\n        \n//         for(int i = 0; i<n; i++)\n//         {\n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<map6[i][j]<<\" \";\n//             }cout<<endl;\n//         }\n        \n        long long ans = 3*(-1e9);\n        for(int i = 1; i<n-1; i++)\n        {\n            // map<long long,long long> mm1;\n            vector<long long> mm1(m+1,-1);\n            mm1[2] = max(map1[i-1][1]+map2[i+1][0],map2[i+1][1]+map1[i-1][0]);\n            for(int j = 3; j<m; j++)\n            {\n                mm1[j] = max(mm1[j-1],1LL*max(map1[i-1][j-1]+map6[i+1][j-2],map2[i+1][j-1]+map3[i-1][j-2]));\n            }\n            \n            // map<long long,long long> mm2;\n            vector<long long> mm2(m+1,-1);\n            mm2[m-3] = max(map1[i-1][m-2]+map2[i+1][m-1],map2[i+1][m-2]+map1[i-1][m-1]);\n            for(int j = m-4; j>=0; j--)\n            {\n                mm2[j] = max(mm2[j+1],1LL*max(map1[i-1][j+1]+map5[i+1][j+2],map2[i+1][j+1]+map4[i-1][j+2]));\n            }\n            \n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<mm1[j]<<\" \";\n//             }cout<<endl;\n            \n//             for(int j = 0; j<m; j++)\n//             {\n//                 cout<<mm2[j]<<\" \";\n//             }cout<<endl;\n            \n            for(int j = 0; j<m; j++)\n            {\n                long long maxi = 2*(-1e9);\n                if(j > 0 && j < m-1)\n                {\n                    maxi = max(maxi,1LL*(map3[i-1][j-1]+map5[i+1][j+1]));\n                    maxi = max(maxi,1LL*(map6[i+1][j-1]+map4[i-1][j+1]));\n                }\n                if(j > 1)\n                {\n                    maxi = max(maxi,mm1[j]);\n                }\n                if(j<m-2)\n                {\n                    maxi = max(maxi,mm2[j]);\n                }\n                ans = max(ans,1LL*(maxi+board[i][j]));\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723909211",
    "subm_id": "1359183816"
}