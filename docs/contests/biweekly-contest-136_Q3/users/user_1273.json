{
    "username": "bky-i",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int m = grid.size(), n = grid[0].size();\n        int mr = m >> 1, mc = n >> 1, ans = 0;\n        for (int i = 0; i < mr; i++) {\n            for (int j = 0; j < mc; j++) {\n                int cnt = grid[i][j] + grid[m - 1 - i][j] + grid[i][n - 1 - j] + grid[m - 1 - i][n - 1 - j];\n                ans += min(cnt, 4 - cnt);\n            }\n        }\n        int cnt1 = 0, unlock1 = 0;\n        if (m % 2) {\n            int l = 0, r = n - 1;\n            while (l < r) {\n                if (grid[mr][l] || grid[mr][r]) {\n                    cnt1++;\n                    if (grid[mr][l] != grid[mr][r])  unlock1++;\n                }\n                l++, r--;\n            }\n        }\n        int cnt2 = 0, unlock2 = 0;\n        if (n % 2) {\n            int u = 0, b = m - 1;\n            while (u < b) {\n                if (grid[u][mc] || grid[b][mc]) {\n                    cnt2++;\n                    if (grid[u][mc] != grid[b][mc])  unlock2++;\n                }\n                u++, b--;\n            }\n        }\n        if (2 * (cnt1 + cnt2) % 4) {\n            if (unlock1 + unlock2 == 0)  ans += 2;\n            else if (unlock1 + unlock1 == 1)  ans += 1;\n            else  ans += unlock1 + unlock2;\n        } else {\n            ans += unlock1 + unlock2;\n        }\n        if (m % 2 && n % 2)  ans += grid[mr][mc];\n        return ans;\n    }\n};",
    "submit_ts": "1722698808",
    "subm_id": "552272618"
}