{
    "username": "bold-noyceaz0",
    "submission": "class Solution {\npublic:\n    struct node{\n        int l,r;\n        int val;\n        int lazy;\n    };\n    vector<node> t;\n\n    void pushup(int u){\n        t[u].val=t[u*2].val+t[u*2+1].val;\n    }    \n    void build(int u,int l,int r){\n        t[u].l=l;\n        t[u].r=r;\n        t[u].lazy=0;\n        if(l==r){\n            t[u].val=1;\n            return;\n        }\n        int mid=(l+r)/2;\n        build(u*2,l,mid);\n        build(u*2+1,mid+1,r);\n        pushup(u);\n    }\n    \n    void pushdown(int u) {\n        t[u*2].lazy=t[u].lazy;\n        t[u*2+1].lazy=t[u].lazy;\n        t[u*2].val=0;\n        t[u*2+1].val=0;\n        t[u].lazy=0; \n    }\n\n    void modify(int u,int l,int r,int x){\n        if(l<=t[u].l && t[u].r<=r){\n            t[u].val=x*(t[u].r-t[u].l+1);\n            t[u].lazy=1;\n            return;\n        }\n        int mid=(t[u].l+t[u].r)/2;\n        if(t[u].lazy)\n        pushdown(u);\n        if(l<=mid) modify(u*2,l,r,x);\n        if(mid<r) modify(u*2+1,l,r,x);\n        pushup(u);\n    }\n\n    int query(int u,int L,int R){\n        if(t[u].l>R||t[u].r<L) return 0;\n        if(t[u].l>=L&&t[u].r<=R) return t[u].val;\n        if(t[u].lazy)\n        pushdown(u);\n        return query(u*2,L,R)+query(u*2+1,L,R);\n    }\n\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        t.resize(n<<2);\n        vector<int> res;\n        build(1,0,n-2);\n        for(auto q:queries)\n        {\n            int u=q[0],v=q[1];\n            bool f=(query(1,u,u)==1);\n            modify(1,u,v-1,0);\n            if(f)\n            modify(1,u,u,1);\n            res.emplace_back(t[1].val);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1722743446",
    "subm_id": "552350844"
}