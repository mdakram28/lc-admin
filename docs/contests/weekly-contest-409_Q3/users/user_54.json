{
    "username": "giantcheeseguy2",
    "submission": "#pragma GCC optimize(\"O3,unroll-loops\")\n#pragma GCC target(\"avx,avx2,fma\")\n#pragma GCC target(\"sse4,popcnt,abm,mmx,tune=native\")\n#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\nusing namespace __gnu_pbds;\nusing namespace std;\n\n#define pb push_back\n#define ff first\n#define ss second\n\ntypedef long long ll;\ntypedef long double ld;\ntypedef pair<int, int> pii;\ntypedef pair<ll, ll> pll;\ntypedef pair<ld, ld> pld;\n\nconst int INF = 1e9;\nconst ll LLINF = 1e18;\nconst int MOD = 1e9 + 7;\n\ntemplate<class K> using sset =  tree<K, null_type, less<K>, rb_tree_tag, tree_order_statistics_node_update>;\n\ninline ll ceil0(ll a, ll b) {\n    return a / b + ((a ^ b) > 0 && a % b);\n}\n\nclass Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& queries) {\n        set<pii> s;\n        int len = n - 1;\n        vector<int> ans;\n        for(auto i : queries){\n            set<pii>::iterator it = s.lower_bound({i[0], INF});\n            if(it != s.begin()){\n                it--;\n                if(it->ss >= i[1]){\n                    ans.pb(len);\n                    continue;\n                }\n            }\n            it = s.lower_bound({i[0], -INF});\n            while(it != s.end() && it->ss <= i[1]){\n                len += it->ss - it->ff - 1;\n                it = s.erase(it);\n            }\n            s.insert({i[0], i[1]});\n            len -= i[1] - i[0] - 1;\n            ans.pb(len);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722742128",
    "subm_id": "1343761636"
}