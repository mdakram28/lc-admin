{
    "username": "luckypistachio",
    "submission": "class NoOne(Exception):\n    pass\n\nclass Solution:\n    def minimumSum(self, grid: List[List[int]]) -> int:\n        \n        def margin(xs):\n            for i, x in enumerate(xs):\n                if x:\n                    return i\n            else:\n                raise NoOne()\n                \n        def mSum(gd):\n            rows = [True if any(row) else False for row in gd]\n            columns = [True if any(column) else False for column in zip(*gd)]\n            marginTop = margin(rows)\n            marginBottom = margin(reversed(rows))\n            marginLeft = margin(columns)\n            marginRight = margin(reversed(columns))\n            return (len(rows) - marginTop - marginBottom) * (len(columns) - marginLeft - marginRight)\n        \n        def smallGD(gd):\n            rows = [True if any(row) else False for row in gd]\n            columns = [True if any(column) else False for column in zip(*gd)]\n            marginTop = margin(rows)\n            marginBottom = margin(reversed(rows))\n            marginLeft = margin(columns)\n            marginRight = margin(reversed(columns))\n            ng = gd[marginTop:len(gd)-marginBottom]\n            ng = [row[marginLeft:len(row)-marginRight] for row in ng]\n            return ng\n        \n        sgrid = smallGD(grid)\n        \n        def find(gd, k):\n            s = len(gd) * len(gd[0])\n            if k == 1:\n                return mSum(gd)\n            if k == 2:\n                for i in range(1, len(gd)):\n                    try:\n                        s = min(s, mSum(gd[:i]) + mSum(gd[i:]))\n                    except NoOne:\n                        pass\n                gdx = list(zip(*gd))\n                for i in range(1, len(gdx)):\n                    try:\n                        s = min(s, mSum(gdx[:i]) + mSum(gdx[i:]))\n                    except NoOne:\n                        pass\n                return s\n            if k == 3:\n                for i in range(1, len(gd)):\n                    try:\n                        s = min(s, mSum(gd[:i]) + find(gd[i:], 2))\n                    except NoOne:\n                        pass\n                    try:\n                        s = min(s, find(gd[:i], 2) + mSum(gd[i:]))\n                    except NoOne:\n                        pass\n                gdx = list(zip(*gd))\n                for i in range(1, len(gdx)):\n                    try:\n                        s = min(s, mSum(gdx[:i]) + find(gdx[i:], 2))\n                    except NoOne:\n                        pass\n                    try:\n                        s = min(s, find(gdx[:i], 2) + mSum(gdx[i:]))\n                    except NoOne:\n                        pass\n                return s\n            \n        ans = find(sgrid, 3)\n        return ans\n        ",
    "submit_ts": 1719115094.0
}