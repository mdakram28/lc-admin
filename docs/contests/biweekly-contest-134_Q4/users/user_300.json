{
    "username": "hxu10",
    "submission": "class Solution(object):\n    def countSubarrays(self, nums, k):\n        \"\"\"\n        :type nums: List[int]\n        :type k: int\n        :rtype: int\n        \"\"\"\n        n = len(nums)\n        D = len(bin(k))-2\n        for num in nums:\n            D = max(D, len(bin(num))-2)\n            \n            \n            \n        \n        indexes = [[] for _ in range(D)]\n        \n        for i in range(n):\n            for d in range(D):\n                if not (1<<d) & nums[i]:\n                    indexes[d].append(i)\n                    \n        \n                    \n        for d in range(D):\n            indexes[d] = indexes[d][::-1]\n            \n        \n                    \n       # print(indexes)\n        \n                    \n        ans = 0\n        \n        for i in range(n):\n            \n            curr = (1<<D) - 1\n            temp = []\n            \n            \n            \n            for d in range(D):\n                if indexes[d]:\n                    temp.append((indexes[d][-1],d))\n            temp.sort()\n            \n\n            rest = [(i,curr)]\n            \n            for (index,d) in temp:\n                curr -= 1 << d\n                rest.append((index,curr))\n                \n         #   print(rest)\n            \n            for j in range(len(rest)):\n                if rest[j][1] == k:\n                    if j==len(rest)-1:\n                        ans += n - rest[j][0]\n                    else:\n                        ans += rest[j+1][0] - rest[j][0]\n                    \n            \n                    \n                    \n            for d in range(D):\n                if indexes[d] and indexes[d][-1]==i:\n                    indexes[d].pop()\n        \n                    \n            \n        return ans\n                    \n                \n                \n            \n            \n            \n            \n            \n            \n            \n                \n                \n            \n                \n            \n            \n                \n",
    "submit_ts": "1720277217",
    "subm_id": "1311653277"
}