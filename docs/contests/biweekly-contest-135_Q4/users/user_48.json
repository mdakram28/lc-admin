{
    "username": "liouzhou_101",
    "submission": "template<class T, class U>\nbool freshmax(T& a, const U& b)\n{\n\treturn a < T(b) ? a = b, 1 : 0;\n}\n\nusing ll = long long;\nll dp[111][111][111];\nll dp_help[111][111];\nll helper[111];\n\nclass Solution {\npublic:\n\tlong long maximumScore(vector<vector<int>>& g) {\n\t\tconst ll INF = 10000000000000000LL;\n\n\t\tint n = g.size(), m = g[0].size();\n\t\tvector s(n + 1, vector<ll>(m + 1));\n\t\tfor (int i = 0; i < n; ++i)\n\t\t\tfor (int j = 0; j < m; ++j)\n\t\t\t{\n\t\t\t\ts[i + 1][j + 1] = s[i][j + 1] + g[i][j];\n\t\t\t}\n\n\t\tauto cost = [&](int i, int j, int k) -> ll\n\t\t{\n\t\t\treturn s[max(j, k)][i] - s[min(j, k)][i];\n\t\t};\n\n\t\tfor (int x = 0; x <= m; ++x)\n\t\t\tfor (int j = 0; j <= n; ++j)\n\t\t\t\tfor (int k = 0; k <= n; ++k)\n\t\t\t\t\tdp[x][j][k] = -INF;\n\t\tdp[0][0][0] = 0;\n\t\tfor (int x = 1; x <= m; ++x)\n\t\t{\n\t\t\tfor (int j = 0; j <= n; ++j)\n\t\t\t{\n\t\t\t\tdp_help[x][j] = -INF;\n\t\t\t\tfor (int i = 0; i <= n; ++i)\n\t\t\t\t{\n\t\t\t\t\tfreshmax(dp_help[x][j], dp[x - 1][i][j]);\n                    helper[i] = max(i - 1 >= 0 ? helper[i - 1] : 0, dp[x - 1][i][j]);\n\t\t\t\t}\n\t\t\t\tfor (int k = 0; k <= n; ++k)\n\t\t\t\t{\n\t\t\t\t\tif (j >= k)\n\t\t\t\t\t{\n\t\t\t\t\t\tdp[x][j][k] = dp_help[x][j] + cost(x, j, k);\n\t\t\t\t\t}\n\t\t\t\t\telse\n\t\t\t\t\t{\n                        dp[x][j][k] = max(dp_help[x][j], helper[j] + cost(x - 1, j, k));\n\t\t\t\t\t\tfor (int i = j + 1; i <= k; ++i)\n\t\t\t\t\t\t{\n\t\t\t\t\t\t\tfreshmax(dp[x][j][k], dp[x - 1][i][j] + cost(x - 1, i, k));\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t\tll res = 0;\n\t\tfor (int j = 0; j <= n; ++j)\n\t\t\tfor (int k = 0; k <= n; ++k)\n\t\t\t\tfreshmax(res, dp[m][j][k]);\n\t\treturn res;\n\t}\n};",
    "submit_ts": "1721490302",
    "subm_id": "548322348"
}