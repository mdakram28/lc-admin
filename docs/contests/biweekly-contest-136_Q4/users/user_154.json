{
    "username": "destiny-god",
    "submission": "typedef pair<int, int> pi;\ntypedef pair<pi, pi> pii;\ntypedef vector<vector<vector<int>>> viii;\ntypedef vector<vector<int>> vii;\ntypedef vector<int> vi;\n#define x first\n#define y second\nclass Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size()+1;\n        vii v(n);\n        for(auto i:edges) {\n            v[i[0]].push_back(i[1]);\n            v[i[1]].push_back(i[0]);\n        }\n        vi p1(n),p2(n),d(n);\n        auto dfs1=[&](auto dfs1,int cur,int par)->int {\n            for(auto i:v[cur]) {\n                if(i==par) continue;\n                int r=dfs1(dfs1,i,cur);\n                if(r>=p1[cur]) {\n                    p2[cur]=p1[cur];\n                    p1[cur]=r;\n                    d[cur]=i;\n                }else if(r>p2[cur]){\n                    p2[cur]=r;\n                }\n            }\n            if(cur&1){\n                return p1[cur]+1;\n            } else{\n                return p1[cur]+2;\n            }\n        };\n        dfs1(dfs1,0,-1);\n        vi res(n);\n        res[0]=p1[0];\n        auto dfs=[&](auto dfs,int cur,int par,int h)->void {\n            res[cur]=max(h,p1[cur]);\n            for(auto i:v[cur]){\n                if(i==par) continue;\n                int y=1;\n                if(cur%2==0) y++;\n                if(i==d[cur]) {\n                    dfs(dfs,i,cur,max(h,p2[cur])+y);\n                }else{\n                    dfs(dfs,i,cur,max(h,p1[cur])+y);\n                }\n            }\n        };\n        dfs(dfs,0,-1,0);\n        return res;\n    }\n};",
    "submit_ts": "1722698446",
    "subm_id": "552270892"
}