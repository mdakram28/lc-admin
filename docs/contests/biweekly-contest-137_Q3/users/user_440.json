{
    "username": "Ma Lin",
    "submission": "class Solution {\npublic:\n    int m, n, yh[505][505], zd[505];\n    pair<int, int> top[505][2];\n    \n    void calc_top(){\n        int i, j;\n        for (i = 0; i < n; ++i){\n            top[i][0] = top[i][1] = {-1, -2100000000};\n            for (j = i + 1; j < n; ++j)\n                if (yh[i][j] > top[i][0].second){\n                    top[i][1] = top[i][0];\n                    top[i][0] = {j, yh[i][j]};\n                }\n                else{\n                    if (yh[i][j] > top[i][1].second)\n                        top[i][1] = {j, yh[i][j]};\n                }\n        }\n    }\n    \n    long long maximumValueSum(vector<vector<int>>& a) {\n        long long res = -100000000000000000LL;\n        int i, j, row, col, k;\n        m = a.size(); \n        n = a[0].size();\n        \n        for (i = 0; i < n; ++i)\n            for (j = i + 1; j < n; ++j)\n                yh[i][j] = max(a[m - 2][i] + a[m - 1][j], a[m - 1][i] + a[m - 2][j]);\n\n        for (i = 0; i < n; ++i) zd[i] = max(a[m - 2][i], a[m - 1][i]);\n        calc_top();\n        \n        for (row = m - 3; row >= 0; --row){\n            for (col = 0; col < n; ++col)\n                for (i = 0; i < n; ++i)\n                    if (i != col){\n                        for (k = 0; k < 2; ++k)\n                            if (top[i][k].first != -1 && top[i][k].first != col)\n                                res = max(res, (long long)top[i][k].second + a[row][col]);\n                    }\n            \n            // update yh\n            for (col = 0; col < n; ++col){\n                for (j = 0; j < col; ++j)\n                    yh[j][col] = max(yh[j][col], a[row][col] + zd[j]);\n                for (j = col + 1; j < n; ++j)\n                    yh[col][j] = max(yh[col][j], a[row][col] + zd[j]);\n            }\n            \n            // update zd\n            for (col = 0; col < n; ++col) zd[col] = max(zd[col], a[row][col]);\n            \n            // update top\n            calc_top();\n        }\n        \n        return res;\n    }\n};",
    "submit_ts": "1723906731",
    "subm_id": "1359069265"
}