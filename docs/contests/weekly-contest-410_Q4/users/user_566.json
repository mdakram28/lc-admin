{
    "username": "sepehry",
    "submission": "\nclass Solution:\n    def countOfPairs(self, nums: List[int]) -> int:\n        mod = 10 ** 9 + 7\n        n = len(nums)\n        ma = max(nums)\n        dp = [[0] * (ma + 1) for _ in range(n + 1)]\n        dp_cum = [[0] * (ma + 1) for _ in range(n + 1)]\n\n        for x1 in range(ma + 1):\n            dp[n][x1] = 1\n            dp_cum[n][x1] = 1 + dp_cum[n][x1 - 1]\n\n        for i in range(n - 1, -1, -1):\n            t = nums[i]\n            for x1 in range(ma + 1):\n\n                if i == 0:\n                    x2 = float('inf')\n                else:\n                    x2 = nums[i - 1] - x1\n                y1min = max(x1, t - x2)\n                y1max = t\n                if y1min <= y1max:\n                    v = dp_cum[i + 1][y1max]\n                    if y1min > 0:\n                        v -= dp_cum[i + 1][y1min - 1]\n                else:\n                    v = 0\n                v %= mod\n                dp[i][x1] = v\n                if x1 == 0:\n                    dp_cum[i][x1] = v\n                else:\n                    dp_cum[i][x1] = (dp_cum[i][x1 - 1] + v) % mod\n\n        return dp[0][0] % mod\n",
    "submit_ts": "1723348256",
    "subm_id": "1351614626"
}