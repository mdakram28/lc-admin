{
    "username": "kushal46",
    "submission": "class node\n{\n    public:\n    char data;\n    bool isterminal;\n    int cost;\n    unordered_map<char,node*>child;\n    node(char ch)\n    {\n        this->data=ch;\n        this->isterminal=false;\n        this->cost=1e9;\n    }\n};\n\nclass Solution {\npublic:\n    node* root;\n    void insert(string &word,int no) {\n        int n=word.size();\n        node* cur=root;\n        for(int i=0;i<n;i++)\n        {\n            if(cur->child.count(word[i]))\n            cur=cur->child[word[i]];\n            else\n            {\n                node* temp=new node(word[i]);\n                cur->child[word[i]]=temp;\n                cur=temp;\n            }\n            if(i==n-1)\n            {\n                cur->isterminal=true;\n                cur->cost=min(cur->cost,no);\n            }\n        }\n    }\n    int f(int i,int n,string &target,vector<int>&dp)\n    {\n        if(i==n)\n        return 0;\n\n        if(dp[i]!=-1)\n        return dp[i];\n\n        node* cur=root;\n\n        int ans=1e9;\n        for(int j=i;j<n;j++)\n        {\n            if(cur->child.count(target[j]))\n            cur=cur->child[target[j]];\n            else\n            {\n                break;\n            }\n            if(cur->isterminal)\n            {\n                int no=f(j+1,n,target,dp);\n                if(no!=-2)\n                ans=min(ans,cur->cost+no);\n            }\n        }\n        if(ans==1e9)\n        return dp[i]=-2;\n        return dp[i]=ans;\n    }\n    int minimumCost(string target, vector<string>& words, vector<int>& costs) {\n        root=new node('1');\n        int n=words.size();\n        for(int i=0;i<n;i++)\n        insert(words[i],costs[i]);\n\n        int tn=target.size();\n        vector<int>dp(tn+5,-1);\n        f(0,tn,target,dp);\n        if(dp[0]>0)\n        return dp[0];\n        else return -1;\n    }\n};",
    "submit_ts": "1720322743",
    "subm_id": "1312357980"
}