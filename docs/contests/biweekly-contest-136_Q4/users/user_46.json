{
    "username": "wei-she-ming",
    "submission": "class Solution {\npublic:\n    int n;\n    vector<vector<int>> e;\n    vector<int> f, g;\n\n    inline int val(int x) { return 2 - (x & 1); }\n\n    void dfs1(int u, int p) {\n        for (int v : e[u]) if (v ^ p) {\n            dfs1(v, u);\n            int wv = f[v] + val(v);\n            if (wv >= f[u]) g[u] = f[u], f[u] = wv;\n            else g[u] = max(g[u], wv);\n        }\n    }\n\n    void dfs2(int u, int p) {\n        for (int v : e[u]) if (v ^ p) {\n            int wu = (f[u] == f[v] + val(v) ? g[u] : f[u]) + val(u);\n            // cout << '#' << v << ' ' << wu << endl;\n            if (wu >= f[v]) g[v] = f[v], f[v] = wu;\n            else g[v] = max(g[v], wu);\n            dfs2(v, u);\n        }\n    }\n\n    vector<int> timeTaken(vector<vector<int>>& eg) {\n        n = eg.size() + 1;\n        e.resize(n), f.resize(n), g.resize(n);\n        // for (int i = 0; i < n; ++i)\n        //     f[i] = 0, g[i] = -1e9;\n        for (auto uv : eg) {\n            e[uv[0]].push_back(uv[1]);\n            e[uv[1]].push_back(uv[0]);\n        }\n        dfs1(0, -1);\n        // for (int i = 0; i < n; ++i)\n        //     cout << f[i] << ' ' << g[i] << endl;\n        dfs2(0, -1);\n        return f;\n    }\n};",
    "submit_ts": "1722697932",
    "subm_id": "552268521"
}