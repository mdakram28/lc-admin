{
    "username": "patrick-gu",
    "submission": "class Trie {\n    Trie[] next = new Trie[26];\n    int depth = 0;\n    int cost = -1;\n    Trie(int depth, int cost) {\n        this.depth = depth;\n        this.cost = cost;\n    }\n    void insert(String s, int cost, int i) {\n        if (i == s.length()) {\n            // System.out.println(\"insn \" + s + \" \" + this.depth);\n            if (this.cost == -1) this.cost = cost;\n            else\n            this.cost = Math.min(this.cost, cost);\n            return;\n        }\n        int j = s.charAt(i) - 'a';\n        if (next[j] == null) next[j] = new Trie(depth + 1, -1);\n        next[s.charAt(i) - 'a'].insert(s, cost, i + 1);\n    }\n}\n\nclass Solution {\n    public int minimumCost(String target, String[] words, int[] costs) {\n        Trie root = new Trie(0, -1);\n        for (int i = 0; i < words.length; i++) {\n            root.insert(words[i], costs[i], 0);\n        }\n        ArrayList<Trie> adv = new ArrayList<>();\n        // adv.add(root);\n        int[] dp = new int[target.length() + 1];\n        for (int i = 1; i <= target.length(); i++) {\n            adv.add(root);\n            int j = target.charAt(i - 1) - 'a';\n\n            dp[i] = 1000000000;\n            \n            int slot = 0;\n            for (int k = 0; k < adv.size(); k++) {\n                Trie t = adv.get(k);\n                if (t.next[j] == null) {\n                    // System.out.println(\"drop \" + i + \" \" + t.depth);\n                    continue;\n                }\n                Trie s = t.next[j];\n                if (s.cost != -1) {\n                    // System.out.println(\"tr \" + i + \" \" + s.cost);\n                    dp[i] = Math.min(dp[i], dp[i - s.depth] + s.cost);\n                }\n                // System.out.println(\"next dep \" + s.depth);\n                // if (slot != k) {\n                    \n                    adv.set(slot, s);\n                // }\n                slot++;\n\n            }\n            while (adv.size() > slot) {\n                adv.remove(adv.size() - 1);\n            }\n        }\n        return dp[dp.length - 1] >= 1000000000 ? -1 : dp[dp.length - 1];\n    }\n}",
    "submit_ts": "1720323125",
    "subm_id": "1312367887"
}