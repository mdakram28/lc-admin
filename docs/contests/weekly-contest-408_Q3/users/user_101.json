{
    "username": "lakshy-gupta",
    "submission": "import math\n\nclass Solution:\n    def numberOfSubstrings(self, s: str) -> int:\n        n = len(s)\n        r = 0\n        if s[0] == '0':\n            zeros = [0]\n        else:\n            zeros = []\n\n        subs = 0\n        zeroMax = int(math.sqrt(n)) + 2\n        # print(f'max: {zeroMax}')\n        for l in range(n):\n            while r + 1 < n and len(zeros) < zeroMax:\n                r += 1\n                if s[r] == '0':\n                    zeros.append(r)\n\n            # print(f'[{l}, {r}]: {zeros}')\n            sub0 = subs\n            if zeros:\n                subs += zeros[0] - l\n                for zeroI in range(len(zeros)):\n                    zero = zeros[zeroI]\n                    reqOnes = (zeroI + 1) * (zeroI + 1)\n                    zeroOnes = zero - l + 1 - (zeroI + 1)\n                    if zeroI + 1 == len(zeros): # the last 0\n                        if s[r] == '0': # end on 0\n                            if zeroOnes >= reqOnes:\n                                subs += 1\n                        else: # end on 1\n                            if zeroOnes >= reqOnes:\n                                subs += r - zero + 1\n                            else:\n                                extraOnes = reqOnes - zeroOnes\n                                extraOnesP = zero + extraOnes\n                                if extraOnesP <= r:\n                                    subs += r - extraOnesP + 1\n                    else:\n                        nextZero = zeros[zeroI + 1]\n                        if zeroOnes >= reqOnes:\n                            subs += nextZero - zero\n                        else:\n                            extraOnes = reqOnes - zeroOnes\n                            extraOnesP = zero + extraOnes\n                            if extraOnesP < nextZero:\n                                subs += nextZero - extraOnesP\n            else:\n                subs += r - l + 1\n            sub1 = subs\n            # print(f'{sub1 - sub0} -> {subs}')\n\n            if s[l] == '0':\n                zeros = zeros[1:]\n\n        return subs",
    "submit_ts": "1722137391",
    "subm_id": "1335762465"
}