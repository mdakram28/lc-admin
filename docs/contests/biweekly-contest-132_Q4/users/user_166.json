{
    "username": "Ayush_7219",
    "submission": "\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\n#pragma GCC optimize(\"O3,unroll-loops\")\n#pragma GCC target(\"avx2,bmi,bmi2,lzcnt,popcnt\")\n\n#define rep(i,a,b)        for(int i=(a); i<(b); i++)\n#define repr(i,a,b)       for(int i=(a); i>(b); i--)\n#define all(x)            x.begin(), x.end()\n#define rall(x)           x.rbegin(), x.rend()\n#define sort_by(span,p)   sort(span, [&](const auto &l, const auto &r) { return p; })\n#define f(u, args...)     [&](auto &&u) { return args; }\n#define g(u, v, args...)  [&](auto &&u, auto &&v) { return args; }\n#define uniq(x)           x.erase(unique(all(x)),x.end());\n#define pb                emplace_back\n#define oset(args...)     tree<args, null_type, less<args>, rb_tree_tag, tree_order_statistics_node_update>\n\ntemplate<typename T,typename T1> inline bool amax(T &a,T1 b){ if(b>a) { a=b; return true; } return false; }\ntemplate<typename T,typename T1> inline bool amin(T &a,T1 b){ if(b<a) { a=b; return true; } return false; }\n\nusing namespace __gnu_pbds;\nusing ll = long long;\n\nclass Solution {\npublic:\n    int maximumLength(vector<int>& nums, int k) {\n        const int n = nums.size();\n        vector<map<int,int>> dp(k+1);\n        vector<int> mx(k+1,0), smx(k+1,0), argmax(k+1,0);\n        mx[0] = 1, argmax[0] = 0;\n        dp[0][nums[0]] = 1;\n        for(int i=1; i<n; i++){\n            for(int j=k; j>=0; j--){\n                if(j+1<=k) {\n                    dp[j+1][nums[i]] = max(dp[j+1][nums[i]], mx[j] + 1);\n                    amax(mx[j+1], dp[j+1][nums[i]]);\n                }\n                \n                if(++dp[j][nums[i]] > mx[j]) mx[j] = dp[j][nums[i]];\n//                 if(argmax[j] == nums[i]){\n//                     dp[j+1][nums[i]] = smx[j]+1;\n//                 } else {\n                    \n//                 }\n            }            \n        }\n        int ans = 0;\n        for(int i=0; i<=k; i++) amax(ans, mx[i]);\n        return ans;\n    }\n};",
    "submit_ts": "1717860038",
    "subm_id": "1281743498"
}