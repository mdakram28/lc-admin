{
    "username": "qiank8",
    "submission": "func minFlips(grid [][]int) (ans int) {\n    rows, cols := len(grid), len(grid[0])\n    basicCheck := func() {\n        for top, down := 0, rows-1; top < down; top, down = top+1, down-1 {\n            for left, right := 0, cols-1; left < right; left, right = left+1, right-1 {\n                cnt := grid[top][left] + grid[top][right] + grid[down][left] + grid[down][right]\n                ans += min(cnt, 4-cnt)\n            }\n        }\n    }\n    if rows % 2 == 0 && cols % 2 == 0 {\n        basicCheck()\n    } else if rows % 2 == 1 && cols % 2 == 1 {\n        basicCheck()\n        ones, zeros, diff := 0, 0, 0\n        curCol := cols / 2\n        for top, down := 0, rows-1; top < down; top, down = top+1, down-1 {\n            if grid[top][curCol] == grid[down][curCol] {\n                if grid[top][curCol] == 1 {\n                    ones++\n                } else {\n                    zeros++\n                }\n            } else {\n                diff++\n                ans++\n            }\n        }\n        curRow := rows / 2\n        for left, right := 0, cols-1; left < right; left, right = left+1, right - 1 {\n            if grid[curRow][left] == grid[curRow][right] {\n                if grid[curRow][left] == 1 {\n                    ones++\n                } else {\n                    zeros++\n                }\n            } else {\n                diff++\n                ans++\n            }\n        }\n        if grid[curRow][curCol] == 1 {\n            ans++\n        }\n        if ones % 2 == 1 && diff == 0 {\n            ans += 2\n        }\n    } else if rows % 2 == 1 && cols % 2 == 0 {\n        basicCheck()\n        ones, zeros, diff := 0, 0, 0\n        curRow := rows / 2\n        for left, right := 0, cols-1; left < right; left, right = left+1, right - 1 {\n            if grid[curRow][left] == grid[curRow][right] {\n                if grid[curRow][left] == 1 {\n                    ones++\n                } else {\n                    zeros++\n                }\n            } else {\n                diff++\n                ans++\n            }\n        }\n        if ones % 2 == 1 && diff == 0 {\n            ans += 2\n        }\n    } else if rows % 2 == 0 && cols % 2 == 1 {\n        basicCheck()\n        ones, zeros, diff := 0, 0, 0\n        curCol := cols / 2\n        for top, down := 0, rows-1; top < down; top, down = top+1, down-1 {\n            if grid[top][curCol] == grid[down][curCol] {\n                if grid[top][curCol] == 1 {\n                    ones++\n                } else {\n                    zeros++\n                }\n            } else {\n                diff++\n                ans++\n            }\n        }\n        if ones % 2 == 1 && diff == 0 {\n            ans += 2\n        }\n    }\n    return\n}",
    "submit_ts": "1722697373",
    "subm_id": "552265794"
}