{
    "username": "srijan4504",
    "submission": "class Solution {\npublic:\n    struct node{\n        int num;\n        node(int n = ((1<<30)-1)){\n            num = n;\n        }\n    };\n\n    node merge(node a, node b){\n        int x = a.num&b.num;\n        return node(x);\n    }\n\n    int n, q;\n    int a[1001000];\n\n    node tree[4004000];\n\n    void build(int index, int l, int r){\n        if(l == r){\n            tree[index] = node(a[l]);\n            return;\n        }\n        int mid = (l+r)/2;\n        build(2*index, l, mid);\n        build(2*index + 1, mid+1, r);\n        tree[index] = merge(tree[2*index], tree[2*index + 1]);\n    }\n\n\n    node query(int index, int l, int r, int lq, int rq){\n        if((lq > r) || (rq < l)){\n            return node();\n        }\n        if((lq <= l) && (r <= rq)){\n            return tree[index];\n        }\n        int mid = (l+r)/2;\n        return merge(query(2*index, l, mid, lq, rq), query(2*index + 1, mid+1, r, lq, rq));\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        for(int i=0; i<n; i++){\n            a[i] = nums[i];\n        }\n        build(1, 0, n-1);\n        int head = -1;\n        int tail = 0;\n        long long ans = 0;\n        while(tail < n){\n            while(head+1 < n && (query(1, 0, n-1, tail, head + 1).num >= k)){\n                head++;\n            }\n            ans += (head - tail + 1);\n            if(head >= tail){\n                tail++;\n            }\n            else{\n                tail++;\n                head = tail - 1;\n            }\n        }\n        head = -1;\n        tail = 0;\n        long long ans1 = 0;\n        while(tail < n){\n            while(head+1 < n && (query(1, 0, n-1, tail, head + 1).num > k)){\n                head++;\n            }\n            ans1 += (head - tail + 1);\n            if(head >= tail){\n                tail++;\n            }\n            else{\n                tail++;\n                head = tail - 1;\n            }\n        }\n        // cout<<ans<<\" \"<<ans1<<endl;\n        return ans - ans1;\n    }\n};",
    "submit_ts": "1720280033",
    "subm_id": "1311774449"
}