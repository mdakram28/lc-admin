{
    "username": "wkingyu",
    "submission": "class Node {\npublic:\n    int l, r;\n    int v;\n    Node() : l(0), r(0), v(INT_MIN) {}\n};\n\nclass SMT {\nprivate:\n    vector<Node> tr;\n    int n;\n    int max_size;\n\n    void build(int l, int r, int u) {\n        tr[u].l = l;\n        tr[u].r = r;\n        if (l == r) return;\n        int mid = (l + r) / 2;\n        build(l, mid, u * 2);\n        build(mid + 1, r, u * 2 + 1);\n    }\n\n    void pushup(int u) {\n        tr[u].v = max(tr[u * 2].v, tr[u * 2 + 1].v);\n    }\n\npublic:\n    SMT(int _n) : n(_n), max_size(4 * n + 1) {\n        tr.resize(max_size);\n        build(1, n, 1);\n    }\n\n    void update(int x, int v, int u = 1) {\n        if (tr[u].l == tr[u].r) {\n            tr[u].v = v;\n            return;\n        }\n        int mid = (tr[u].l + tr[u].r) / 2;\n        if (x <= mid)\n            update(x, v, u * 2);\n        else\n            update(x, v, u * 2 + 1);\n        pushup(u);\n    }\n\n    int query(int l, int r, int u = 1) {\n        if (l <= tr[u].l && tr[u].r <= r)\n            return tr[u].v;\n        int mid = (tr[u].l + tr[u].r) / 2;\n        int v = INT_MIN;\n        if (l <= mid)\n            v = max(v, query(l, r, u * 2));\n        if (r > mid)\n            v = max(v, query(l, r, u * 2 + 1));\n        return v;\n    }\n};\n\nclass Solution {\npublic:\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        set<int> st;\n        st.insert(0);\n        st.insert(100000);\n        vector<bool> ans;\n        SMT smt(50010);\n        for (auto& q : queries) {\n            if (q.size() == 2) {\n                int x = q[1];\n                auto it1 = st.upper_bound(x);\n                auto it2 = prev(it1);\n                smt.update(*it1, *it1 - x);\n                smt.update(x, x - *it2);\n                st.insert(x);\n            } else {\n                int x = q[1], sz = q[2];\n                auto it = prev(st.lower_bound(x));\n                if (smt.query(0, x) >= sz || x - *it >= sz) {\n                    ans.push_back(true);\n                } else {\n                    ans.push_back(false);\n                }\n            }\n        }\n        return ans;\n    }\n};\n",
    "submit_ts": 1716650069.0
}