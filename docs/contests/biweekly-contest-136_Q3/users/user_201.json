{
    "username": "saikrishna17394",
    "submission": "class Solution {\n    int root(int u, vector<int>& par) {\n        if (par[u] == -1) {\n            return u;\n        }\n\n        par[u] = root(par[u], par);\n        return par[u];\n    }\n\n    void join(int u, int v, vector<int>& par, vector<int>& sz, vector<int>& ones) {\n        u = root(u, par);\n        v = root(v, par);\n\n        if (u == v) {\n            return;\n        }\n\n        if (sz[u] >= sz[v]) {\n            sz[u] += sz[v];\n            ones[u] += ones[v];\n            par[v] = u;\n        }\n        else {\n            sz[v] += sz[u];\n            ones[v] += ones[u];\n            par[u] = v;\n        }\n    }\n\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int m = grid.size();\n        int n = grid[0].size();\n\n        vector<int> par(m * n, -1);\n        vector<int> sz(m * n, 1);\n        vector<int> ones(m * n, 0);\n\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                ones[(i * n) + j] += grid[i][j];\n            }\n        }\n\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                join(i * n + j, (m - i - 1) * n + j , par, sz, ones);\n                join(i * n + j, i * n + (n - j - 1) , par, sz, ones);\n            }\n        }\n\n        int ans = 0, idx;\n        bool ok = false;\n        int cnt = 0;\n\n        for (int i = 0; i < m; i++) {\n            for (int j = 0; j < n; j++) {\n                idx = i * n + j;\n                if (par[idx] != -1) {\n                    continue;\n                }\n\n                if (sz[idx] == 4) {\n                    ans += min(sz[idx] - ones[idx], ones[idx]);\n                }\n                else if (sz[idx] == 2) {\n                    ans += min(sz[idx] - ones[idx], ones[idx]);\n                    if (ones[idx] == 1) {\n                        ok = true;\n                    }\n\n                    if (ones[idx] == 2) {\n                        cnt++;\n                    }\n                }\n                else if (sz[idx] == 1) {\n                    ans += ones[idx];\n                }\n            }\n        }\n\n        if (ok) { return ans; }\n\n        if (cnt % 2 == 0) { return ans; }\n\n        return ans + 2;\n    }\n};",
    "submit_ts": "1722697420",
    "subm_id": "1343145887"
}