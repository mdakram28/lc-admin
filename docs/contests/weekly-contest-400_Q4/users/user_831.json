{
    "username": "bubbarob19",
    "submission": "struct segtree {\n\tint n;\n\tint base;\n\tvector<int> tree;\n\tfunction<int(int,int)> merge;\n\n\tsegtree(vector<int>& arr, const function<int(int,int)>& merge, const int base) {\n\t\tthis->merge = merge;\n\t\tthis->base = base;\n\t\tn = 1;\n\t\twhile (n < arr.size())\n\t\t\tn <<= 1;\n\t\ttree = vector<int>(n * 2, base);\n\t\tfor (int i = 0; i < arr.size(); i++) {\n\t\t\tset(i, arr[i]);\n\t\t}\n\t}\n\n\tvoid set(int i, int val) {\n\t\ti += n; tree[i] = val;\n\t\tfor (i >>= 1; i >= 1; i >>= 1) {\n\t\t\ttree[i] = merge(tree[2*i], tree[2*i+1]);\n\t\t}\n\t}\n\n\tvoid add(int i, int val) {\n\t\tset(i, tree[i+n] + val);\n\t}\n\n\tvoid subtract(int i, int val) {\n\t\tset(i, tree[i+n] - val);\n\t}\n\n\tint query(int l, int r) {\n\t\tl += n; r += n;\n\t\tint ans = base;\n\t\twhile (l <= r) {\n\t\t\tif (l % 2 == 1) ans = merge(ans, tree[l++]);\n\t\t\tif (r % 2 == 0) ans = merge(ans, tree[r--]);\n\t\t\tl >>= 1; r >>= 1;\n\t\t}\n\t\treturn ans;\n\t}\n};\n\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        int ans = abs(nums[0]-k);\n        segtree st(nums, [](int a, int b){return a & b;}, (1 << 30) - 1);\n        // binary search\n        for (int i = 0; i < n; i++) {\n            int low = i;\n            int high = n-1;\n            while (low <= high) {\n                int mid = (low + high) / 2;\n                int val = st.query(i, mid);\n                ans = min(ans, abs(val-k));\n                if (val > k) {\n                    low = mid+1;\n                } else {\n                    high = mid-1;\n                }\n            }\n        }\n        return ans;\n    }\n};\n// int mn = abs(k - nums[0]);\n//         int val = nums[0];\n//         for (int i = 1; i < nums.size(); i++) {\n//             if (val - k < 0 && abs(k-val) <= mn)\n//                 val = nums[i];\n//             val &= nums[i];\n//             mn = min(mn, abs(k - val));\n//         }\n//         return mn;",
    "submit_ts": "1717299800",
    "subm_id": "1274824278"
}