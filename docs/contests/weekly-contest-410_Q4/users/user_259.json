{
    "username": "second_coming",
    "submission": "typedef long long ll;\nclass Solution {\npublic:\n    ll mod = 1e9+7;\n    ll solve(vector<vector<int>>& dp, int i, int last, vector<int>& nums) {\n        if(dp[i][last]!=-1) {\n            return dp[i][last];\n        }\n        int n = nums.size();\n        if(i==n) {\n            return dp[i][last] = 1;\n        }\n        int last1 = 0, last2 = INT_MAX;\n        if(i) {\n            last1 = last;\n            last2 = nums[i-1] - last;\n        }\n        ll ans = 0;\n        for(int curr1 = last1; curr1 <= nums[i]; curr1++) {\n            int curr2 = nums[i] - curr1;\n            if(last1<=curr1 && last2>=curr2) {\n                ans = (ans + solve(dp, i+1, curr1, nums))%mod;\n            }\n        }\n        return dp[i][last] = ans;\n    }\n    ll getSum(vector<ll>& v, ll left, ll right) {\n        if(left>right) {\n            return 0;\n        }\n        ll sum = v[right];\n        if(left) {\n            sum = (sum - v[left-1] + mod)%mod;\n        }\n        return sum;\n    }\n    int countOfPairs(vector<int>& nums) {\n        ll n = nums.size();\n        int max_val = INT_MIN;\n        for(auto &x: nums) {\n            max_val = max(max_val, x);\n        }\n        vector<vector<ll>> dp(n+1, vector<ll>(max_val+1, 0));\n        for(int i = 0; i<= max_val; i++) {\n            dp[n][i] = 1;\n            if(i) {\n                dp[n][i] = (dp[n][i-1] + 1) % mod;\n            }\n        }\n        ll ans = 0;\n        for(int i = n-1; i>=0; i--) {\n            for(int last = 0; last <= max_val; last++) {\n                if(i==0) {\n                    ll left = 0, right = nums[0];\n                    ans = getSum(dp[i+1], left, right);\n                    break;\n                }\n                ll left = max(last, nums[i] - nums[i-1] + last), right = nums[i];\n                dp[i][last] = getSum(dp[i+1], left, right);\n                // cout << i << \" \" << last << ' ' << dp[i][last] << \" \" << left << \" \" << right << \"\\n\";\n                if(last) {\n                    dp[i][last] = (dp[i][last] + dp[i][last-1])%mod;\n                }\n            }\n        }\n        return ans;\n        \n    }\n};",
    "submit_ts": "1723346624",
    "subm_id": "1351581607"
}