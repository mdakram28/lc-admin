{
    "username": "DylanSmith",
    "submission": "typedef long long ll;\n \n#define pb push_back\n#define sz(x) (int)x.size()\n#define all(x) begin(x),end(x)\n#define lb(x,y) lower_bound(all(x),y)-begin(x)\nclass Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        vector<int> z;\n        for (int i = 0; i < sz(s); i++) {\n            if (s[i] == '0') z.pb(i);\n        }\n        int res = 0;\n        vector<int> nxt(sz(s), sz(s));\n        for (int i = sz(s) - 1; i >= 0; i--) {\n            if (s[i] == '0') {\n                nxt[i] = i;\n            } else {\n                nxt[i] = (i == sz(s) - 1 ? sz(s) : nxt[i + 1]);\n            }\n        }\n        for (int k = 1; k * k <= sz(s); k++) {\n            int mnLen = k * k + k, curZ = 0, j = 0, prev0 = -1;\n            for (int i = 0; i < sz(s); i++) {\n                if (s[i] == '0') {\n                    curZ++;\n                    prev0 = i;\n                }\n                while (curZ > k) {\n                    if (s[j] == '0') curZ--;\n                    j++;\n                }\n                int mn = max(max(mnLen, i - prev0 + 1), i - (j == sz(s) ? sz(s) : nxt[j]) + 1);\n                int mx = i - j + 1;\n                if (curZ == k && mx >= mn) {\n                    res += mx - mn + 1;\n                }\n            }\n        }\n        for (int i = 0; i < sz(s); i++) {\n            if (s[i] == '1') {\n                int j = i;\n                while (j + 1 < sz(s) && s[j + 1] == '1') {\n                    j++;\n                }\n                res += (j - i + 1) * (j - i + 2) / 2;\n                i = j;\n            }\n        }\n        return res;\n    }\n};",
    "submit_ts": "1722136725",
    "subm_id": "1335743153"
}