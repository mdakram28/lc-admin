{
    "username": "toastedloaf",
    "submission": "typedef long long ll;\ntypedef vector<int> vi;\ntypedef pair<int,int> pii;\ntypedef pair<double, double> pdd;\n#define pb push_back\n#define mp make_pair\n#define fs first\n#define sc second\n#define rep(i, from, to) for (int i = from; i < (to); ++i)\n#define all(x) x.begin(), x.end()\n#define sz(x) (int)(x).size()\n#define FOR(i, to) for (int i = 0; i < (to); ++i)\ntypedef vector<vector<int> > vvi;\ntypedef vector<ll> vll;\ntypedef vector<vll> vvll;\ntypedef vector<pair<int, int> > vpi;\ntypedef pair<ll,ll> pll;\ntypedef vector<string> vs;\n#define MOD 1000000007\nll dp[1010][1010];\nmap<int, int> h;\n\nclass Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& requirements) {\n        h.clear();\n        FOR(i, n) {\n            FOR(j, 401) {\n                dp[i][j] = 0;\n            }\n        }\n        for(auto x: requirements) {\n            h[x[0]] = x[1];\n        }\n        dp[0][0] = 1;\n        FOR(i, n-1) {\n            int mxinv = min(400, i*(i+1)/2) +1;\n            if(h.find(i) != h.end()) {\n                FOR(j, mxinv) {\n                    if(j != h[i]) dp[i][j] = 0;\n                }\n                FOR(k, i+2) {\n                    dp[i+1][h[i] + k] += dp[i][h[i]];\n                    dp[i+1][h[i] + k] %= MOD;\n                }\n            } else {\n                FOR(j,mxinv) {\n                   FOR(k, i+2) {\n                       if(dp[i][j]) {\n                    dp[i+1][j + k] += dp[i][j];\n                       dp[i+1][j + k] %= MOD;\n                       }\n                   } \n                }\n            }\n        }\n        return dp[n-1][h[n-1]];\n        \n        //dp[i][j] = num perm a1...ai with j inversions\n        //add i+1 to the mix --> \n            \n    }\n};",
    "submit_ts": 1719069151.0
}