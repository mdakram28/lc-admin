{
    "username": "Gauravwadhai",
    "submission": "typedef long long ll;\nbool comp(vector<int>& a,vector<int>& b){\n    if(a[1]<b[1]) return true;\n    else return false;\n}\nclass Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& q) {\n        int n=s.length(),m=q.size(),i;\n        for(i=0;i<m;i++){\n            q[i].push_back(i);\n        }\n        sort(q.begin(),q.end(),comp);\n        vector<int> dp(n,-1);\n        int c0=0,c1=0,ind=n-1;\n        for(i=n-1;i>=0;i--){\n            if(s[i]=='0') c0++;\n            else c1++;\n            while(c0>k&&c1>k){\n                if(s[ind]=='0') c0--;\n                else c1--;\n                ind--;\n            }\n            dp[i]=ind;\n            // cout<<dp[i]<<\" \";\n        }\n        // cout<<\"\\n\";\n        vector<ll> pre(n+2,0);\n        for(i=1;i<=n;i++){\n            pre[i]=pre[i-1]+(dp[i-1]-i+2);\n            // cout<<pre[i]<<\" \";\n        }\n        ind=0;\n        int sind=0;\n        vector<ll> ret(m);\n        for(auto a:q){\n            int s=a[0],e=a[1];\n            while(ind<=e){\n                if(dp[ind]<=e){\n                    sind=ind;\n                }\n                ind++;\n            }\n            while(sind<ind){\n                if(dp[sind]>e) break;\n                sind++;\n            }\n            // cout<<sind<<\" \"<<ind<<\"\\n\";\n            ll ans=0;\n            if(sind>=s){\n                ans=pre[sind]-pre[s];\n            }\n            ll z=(min(e+1,ind)-max(s,sind));\n            ans+=(z*(z+1))/2;\n            ret[a[2]]=ans;\n        }\n        return ret;\n    }\n};",
    "submit_ts": "1723950892",
    "subm_id": "1359757804"
}