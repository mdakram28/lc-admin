{
    "username": "Krypton99",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& a) {\n        int n = a.size();\n        vector<int> dp(1001);\n        vector<int> prf(1002);\n        for (int i = 0; i <= a[0]; i++) dp[i]++;\n        for (int i = 0; i <= a[0]; i++) prf[i + 1] = prf[i] + dp[i];\n        int res = 0;\n        int MOD = 1e9 + 7;\n        for (int i = 1; i < n; i++) {\n            vector<int> nxt(1001);\n            for (int j = 0; j <= a[i]; j++) {\n                int ok = -1, ng = a[i - 1] + 1;\n                while (ng - ok > 1) {\n                    int m = (ok + ng) / 2;\n                    if (j >= m && a[i] - j <= a[i - 1] - m) {\n                        ok = m;\n                    } else {\n                        ng = m;\n                    }\n                }\n                //cout << j << ' ' << ok << '\\n';\n                if (ok > a[i - 1]) continue;\n                nxt[j] += prf[ok + 1];\n                if (nxt[j] < 0) nxt[j] += MOD;\n                nxt[j] %= MOD;\n            }\n            dp = nxt;\n            for (int j = 0; j <= a[i]; j++) {\n                prf[j + 1] =( prf[j] + dp[j]) % MOD; \n            }\n        }\n        for (int i = 0; i < 1001; i++) {\n            res = (res + dp[i]) % MOD;\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723346285",
    "subm_id": "1351574229"
}