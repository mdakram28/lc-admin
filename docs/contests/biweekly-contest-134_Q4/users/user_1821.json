{
    "username": "sahil_savaliya",
    "submission": "class Solution {\npublic:\n\n    \n    long long countSubarrays(vector<int>& nums, int k) {\n        int n=nums.size();\n        int binaryNums[n+1][31];\n        memset(binaryNums, 0, sizeof(binaryNums));\n        int i,j;\n        for (j=1;j<=n;j++) {\n            int num = nums[j-1];\n            for (int i = 30; i >= 0; --i) {\n                binaryNums[j][i] = ((num & (1<<i)) > 0) ; \n            }\n        }\n        // for(i=0;i<31;i++)cout<<binaryNums[3][i]<<\" \";\n        // cout<<endl<<endl;;\n        for (i=1;i<=n;i++)for(j=0;j<31;j++)binaryNums[i][j] = binaryNums[i][j]+binaryNums[i-1][j];\n        long long ans = 0;\n        for (i=1;i<=n;i++) {\n            int l=i, r=n, ind1 =0, ind2 = 0;\n            while(l<=r) {\n                int mid = (l+r)/2;\n                int tempNum = 0;\n                for(j=0;j<31;j++) {\n                    // cout<<(binaryNums[mid][j] - binaryNums[l-1][j])<<\" \";\n                    if ((binaryNums[mid][j] - binaryNums[i-1][j]) == (mid-i+1)) {\n                        tempNum = tempNum|(1<<j);\n                    }\n                }\n                // cout<<endl;\n                // cout<<i<<\" \"<<l<<\" \"<<r<<\" \"<<mid<<\" \"<<tempNum<<endl;\n                if (tempNum == k) {\n                    ind1 = mid;\n                    l = mid+1;\n                } else if (tempNum > k) {\n                    l = mid+1;\n                } else {\n                    r = mid-1;\n                }\n            }\n            \n            l=i, r=n;\n            while(l<=r) {\n                int mid = (l+r)/2;\n                int tempNum = 0;\n                for(j=0;j<31;j++) {\n                    if ((binaryNums[mid][j] - binaryNums[i-1][j]) == (mid-i+1)) {\n                        tempNum = tempNum|(1<<j);\n                    }\n                }\n                if (tempNum == k) {\n                    ind2 = mid;\n                    r = mid-1;\n                } else if (tempNum > k) {\n                    l = mid+1;\n                } else {\n                    r = mid-1;\n                }\n            }\n            // cout<<i<<\" \"<<ind1<<\" \"<<ind2<<endl;\n            if (ind2 >= l)\n            ans = ans + (long long)(ind1-ind2+1);\n        }\n        return ans;\n            \n    }\n};",
    "submit_ts": "1720281226",
    "subm_id": "1311817552"
}