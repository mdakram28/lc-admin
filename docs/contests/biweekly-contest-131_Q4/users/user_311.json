{
    "username": "cavi4762",
    "submission": "#define P pair<int,int>\nconst int M=(int)5e4+5;\n\nint tree[4*M+5];\nvector<int> a(M,0);\n\n// O(N)\nvoid build(int v, int Start, int End)\n{\n\tif(Start==End)\n\t{\n\t\ttree[v]=a[Start];\n\t\treturn;\n\t}\n\tint Mid=Start+(End-Start)/2;\n\tbuild(2*v,Start,Mid);\n\tbuild(2*v+1,Mid+1,End);\n\ttree[v]=max(tree[2*v],tree[2*v+1]);\n}\n\n// O(logn)\nvoid update(int v, int Start, int End, int ind, int val)\n{\n\tif(Start==End)\n\t{\n\t\ttree[v]+=val;\n\t\treturn;\n\t}\n\tint Mid=Start+(End-Start)/2;\n\tif(ind<=Mid)\n\t\tupdate(2*v,Start,Mid,ind,val);\n\telse\n\t\tupdate(2*v+1,Mid+1,End,ind,val);\n\ttree[v]=max(tree[2*v],tree[2*v+1]);\n}\n\n// O(logn)\nint query(int v, int Start, int End, int l, int r)\n{\n\tif(Start>r || End<l)\n\t\treturn INT_MIN;\n\tif(Start>=l && End<=r)\n\t\treturn tree[v];\n\tint Mid=Start+(End-Start)/2;\n\tint p1=query(2*v,Start,Mid,l,r);\n\tint p2=query(2*v+1,Mid+1,End,l,r);\n\treturn max(p1,p2);\n}\n\nclass Solution {\npublic:\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        set<int> s;\n        s.insert(0);\n        a.clear();\n        int i;\n        for(i=0;i<M;i++)\n            a.push_back(0);\n        vector<int> right(M,0);\n        right[0]=M;\n        a[0]=M+1;\n        vector<bool> ans;\n        build(1,0,M-1);\n        \n        for(auto y:queries)\n        {\n            int type=y[0];\n            int x,sz;\n            \n            x=y[1];\n            if(type==2)\n                sz=y[2];\n            if(type==1)\n            {\n                auto it=s.upper_bound(x);\n                it=prev(it,1);\n                right[x]=right[*it];\n                right[*it]=x;\n                s.insert(x);\n                update(1,0,M-1,*it,right[*it]-*it-a[*it]);\n                a[*it]=right[*it]-*it;\n                update(1,0,M-1,x,right[x]-x-a[x]);\n                a[x]=right[x]-x;\n            }\n            else\n            {\n                auto it=s.lower_bound(x);\n                if(it!=s.begin())\n                {\n                    it=prev(it,1);\n                    int q=query(1,0,M-1,0,*it-1);\n                    q=max(q,x-*it);\n                    \n                        if(q>=sz)\n                            ans.push_back(true);\n                        else\n                            ans.push_back(false);\n                    \n                }\n                else\n                    ans.push_back(false);\n                \n                \n            }\n\n \n        }\n        return ans;\n    }\n};",
    "submit_ts": 1716652306.0
}