{
    "username": "summerdaway",
    "submission": "int n, m;\nlong long f[111][111][111], s[111][111], a[111][111];\nclass Solution {\npublic:\n    long long maximumScore(vector<vector<int>>& _a) {\n        // f[i][x1][x2] + s[i+1][k+1..x2]-> f[i+1][x2][k] k <= x2\n        // f[i][x1][x2] -> f[i+1][x2][k] x2 < k < x1\n        // f[i][x1][x2] + s[i][x1..k]-> f[i+1][x2][k] x2<k, x1<k\n\n        n = _a.size(), m = _a[0].size();\n        for (int i = 1; i <= n; ++i) {\n            for (int j = 1; j <= m; ++j) {\n                a[i][j] = _a[i-1][j-1];\n            }\n        }\n        for (int j = 1; j <= m; ++j) {\n            for (int i = 1; i <= n; ++i) {\n                s[j][i] = s[j][i-1] + a[i][j];\n            }\n        }\n        memset(f, -1, sizeof(f));\n        for (int x1 = 0; x1 <= n; ++x1) {\n            for (int x2 = 0; x2 <= n; ++x2) {\n                if (x1 <= x2) f[2][x2][x2] = max(f[2][x2][x2], s[1][x2]-s[1][x1]);\n                else f[2][x1][x2] = 0;\n            }\n        }\n        long long ret = 0;\n        for (int i = 2; i <= m; ++i) {\n            for (int x1 = 0; x1 <= n; ++x1) {\n                for (int x2 = 0; x2 <= n; ++x2) {\n                    if (f[i][x1][x2] == -1) continue;\n                    for (int x = 0; x <= n; ++x) {\n                        if (x2 <= x) f[i+1][x][x] = max(f[i+1][x][x], f[i][x1][x2] + s[i][max(x1, x)]-s[i][x2]);\n                        else f[i+1][x2][x] = max(f[i+1][x2][x], f[i][x1][x2] + s[i][max(x1, x)]-s[i][x2]);\n                    }\n                    if (i == m) {\n                        long long ans = f[i][x1][x2];\n                        if (x2 < x1) ans += s[i][x1]-s[i][x2];\n                        ret = max(ret, ans);\n                    }\n                }\n            }\n        }\n        return ret;\n    }\n};",
    "submit_ts": "1721488786",
    "subm_id": "548315991"
}