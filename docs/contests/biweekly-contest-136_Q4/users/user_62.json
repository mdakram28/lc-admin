{
    "username": "pranjalsingh1702",
    "submission": "class Solution {\npublic:\n    vector<multiset<int>> st;\n    vector<int> mn;\n    vector<int> ans;\n    void dfs(int v,int par,vector<vector<int>> &g){\n        for(auto x:g[v]){\n            if(x==par) continue;\n            dfs(x,v,g);\n            if(x%2==0) st[v].insert(mn[x]+2);\n            else st[v].insert(mn[x]+1);\n        }\n\n        if(st[v].size()) {\n            auto it=st[v].end();it--;\n            mn[v]=(*it);\n        }else mn[v]=0;\n    }\n\n    void changeRoot(int a,int b){\n        int p=mn[b];\n        if(b%2) p++;\n        else p+=2;\n        auto it=st[a].find(p);\n        st[a].erase(it);\n        if(st[a].size()){\n            it=st[a].end();it--;\n            mn[a]=(*it);\n        }else mn[a]=0;\n\n        p=mn[a];\n        if(a%2) p++;\n        else p+=2;\n        st[b].insert(p);\n\n        if(st[b].size()){\n            it=st[b].end();it--;\n            mn[b]=(*it);\n        }else{\n            mn[b]=0;\n        }\n    }\n\n    void rerooting(int v,int par,vector<vector<int>> &g){\n        ans[v]=mn[v];\n        for(auto x:g[v]){\n            if(x==par) continue;\n            changeRoot(v,x);\n            rerooting(x,v,g);\n            changeRoot(x,v);\n\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        // rerooting dp\n        int n=edges.size()+1;\n        st.clear();\n        st.resize(n);\n        mn.resize(n);\n        ans.resize(n);\n        vector<vector<int>> g(n);\n        for(auto x:edges){\n            g[x[0]].push_back(x[1]);\n            g[x[1]].push_back(x[0]);\n        }\n\n        dfs(0,-1,g);\n        rerooting(0,-1,g);\n\n        return ans;\n\n\n    }\n};",
    "submit_ts": "1722698124",
    "subm_id": "1343170459"
}