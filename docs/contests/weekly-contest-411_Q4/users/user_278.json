{
    "username": "star",
    "submission": "class Solution {\npublic:\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& q) {\n        \n        int len= q.size();\n        \n        vector<long long >ans(len);\n        int  n=s.size();\n        vector<int>left(n);\n        \n        \n        int l=0;\n        int r=0;\n        \n        int cnt0=0;\n        int cnt1=0;\n        \n        while(r<n){\n            \n            if(s[r]=='0')cnt0++;\n            else cnt1++;\n            \n            while(cnt0>k&&cnt1>k){\n                if(s[l]=='0') cnt0--;\n                else cnt1--;\n                l++;\n            }\n            \n            left[r]=l;\n            r++;\n            \n        }\n        \n        vector<long long >sum(n+5);\n        \n        \n        for(int i=0;i<n;i++){\n            if(i==0)sum[i]=left[0];\n            else sum[i]=sum[i-1]+left[i];\n        }\n        \n        \n        \n        \n        \n        \n        int i=0;\n        for(auto &qu:q){\n            int l=qu[0];\n            int r=qu[1];\n            \n            auto index = upper_bound(left.begin()+l,left.begin()+r+1,l)-left.begin();\n            \n            \n            long long  now = 1ll*(l+r)*(r-l+1)/2;\n            \n            \n            now+=(r-l+1);\n            \n            \n            now-=1ll*(index-l)*l;\n            \n            if(index<=r){\n                now-=sum[r]-sum[index-1];\n            }\n            \n           ans[i]=now; \n            \n            i++;\n        }\n        \n        \n        return ans;\n        \n    }\n};",
    "submit_ts": "1723952727",
    "subm_id": "556413301"
}