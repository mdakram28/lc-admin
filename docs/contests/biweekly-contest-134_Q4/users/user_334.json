{
    "username": "bnkalya1502",
    "submission": "class Solution {\npublic:\n    long long calc(vector<int> &ar) {\n        if(ar.empty()) return 0;\n        int b[32] = {};\n        long long a = ar[0];\n        int n = ar.size();\n        int r = -1;\n        for(int i = 0; i < n; i++) {\n            a = (a & ar[i]);\n            long long t = 1;\n            for(int j = 0; j < 32; j++) {\n                if((ar[i] & t) == t) {\n                    b[j]++;\n                }\n                t *= 2;\n            }\n            if(a == 0) {\n                r = i;\n                break;\n            }\n        }\n        if(r == -1) return 0;\n        long long ans = n-r;\n        for(int i = 1; i < n; i++) {\n            long long t = 1;\n            a = 0;\n            for(int j = 0; j < 32; j++) {\n                if((ar[i-1] & t) == t) {\n                    b[j]--;\n                }\n                if(b[j] == r-i+1) {\n                    a += t;\n                }\n                t *= 2;\n            }\n            \n            if(a == 0) {\n                ans += (n-r);\n            } else {\n                for(int k = r+1; k < n; k++) {\n                    a = (a & ar[k]);\n                    long long t1 = 1;\n                    for(int j = 0; j < 32; j++) {\n                        if((ar[k] & t1) == t1) {\n                            b[j]++;\n                        }\n                        t1 *= 2;\n                    }\n                    if(a == 0) {\n                        r = k;\n                        break;\n                    }\n                }\n                if(a == 0) {\n                    ans += (n-r);\n                } else {\n                    break;\n                }\n            }\n        }\n        return ans;\n    }\n    long long countSubarrays(vector<int>& ar, int k) {\n        int n = ar.size();\n        vector<vector<int>> v;\n        vector<int> c;\n        for(int i = 0; i < n; i++) {\n            if((ar[i]&k) == k) {\n                c.push_back(ar[i]-k);\n            } else {\n                v.push_back(c);\n                c = vector<int>();\n            }\n        }\n        v.push_back(c);\n        long long ans = 0;\n        for(vector<int> &cc: v) {\n            ans += calc(cc);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278613",
    "subm_id": "1311716775"
}