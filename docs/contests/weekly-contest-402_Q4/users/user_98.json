{
    "username": "hxu10",
    "submission": "class fenwick(object):\n    def __init__(self, n):\n        self.n = n\n        self.cul = [0]*n\n        self.maxd = len(bin(n))-3\n\n    def update(self,index,diff):\n        i = index\n        while i<self.n:\n            self.cul[i] += diff\n            i += (i+1)&(-i-1)\n\n\n    def getaccu(self,index):\n        output = 0\n        i = index\n        while i>=0:\n            output += self.cul[i]\n            i -= (i+1)&(-i-1)\n        return output\n    \nclass Solution(object):\n    def countOfPeaks(self, nums, queries):\n        \"\"\"\n        :type nums: List[int]\n        :type queries: List[List[int]]\n        :rtype: List[int]\n        \"\"\"\n        n = len(nums)\n        \n        fen = fenwick(n)\n        \n        \n        \n        for i in range(1,n-1):\n            if nums[i] > max(nums[i-1],nums[i+1]):\n                fen.update(i,1)\n                \n    \n                \n        ans = []\n        for [op,x,y] in queries:\n            if op==2:\n                if 0 < x < n - 1 and nums[x] > max(nums[x-1],nums[x+1]):\n                    fen.update(x,-1)\n                if 0 < x-1 < n - 1 and nums[x-1] > max(nums[x-2],nums[x]):\n                    fen.update(x-1,-1)\n                if 0 < x+1 < n - 1 and nums[x+1] > max(nums[x],nums[x+2]):\n                    fen.update(x+1,-1)\n                nums[x] = y\n                if 0 < x < n - 1 and nums[x] > max(nums[x-1],nums[x+1]):\n                    fen.update(x,1)\n                if 0 < x-1 < n - 1 and nums[x-1] > max(nums[x-2],nums[x]):\n                    fen.update(x-1,1)\n                if 0 < x+1 < n - 1 and nums[x+1] > max(nums[x],nums[x+2]):\n                    fen.update(x+1,1)  \n            else:\n                num = max(0, fen.getaccu(y-1) - fen.getaccu(x))\n                \n                ans.append(num)\n                \n      #      print(op,x,y)\n                \n        return ans\n    \n            \n            \n        \n        \n        ",
    "submit_ts": "1718506270",
    "subm_id": "1289613094"
}