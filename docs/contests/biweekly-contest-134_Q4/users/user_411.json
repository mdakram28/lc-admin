{
    "username": "cpp20",
    "submission": "class Solution:\n    def countSubarrays(self, nums: List[int], k: int) -> int:\n        m = max(max(nums),k).bit_length()\n        pre = [0]*m\n        mask = [False]*m\n        for j in range(m):\n            if (1<<j) & k:\n                mask[j] = True\n        #print(mask)\n        cur = (1<<m)-1\n        l = 0\n        res = 0\n        for i,v in enumerate(nums):\n            cur &= v\n            if cur&k < k:\n                cur = (1<<m)-1\n                pre = [0]*m\n                l = i+1\n                continue\n            r = i\n            for j in range(m):\n                if mask[j]:\n                    continue\n                if (1<<j) & v == 0:\n                    pre[j] = i\n                r = min(r, pre[j])\n            if cur == k:\n                #print('add',r,l,)\n                res += r-l+1\n            #print(i,v,'cur',cur,'l',l,'pre',pre)\n        return res",
    "submit_ts": "1720278868",
    "subm_id": "544564784"
}