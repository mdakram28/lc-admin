{
    "username": "Navodayan",
    "submission": "class Solution {\npublic:\n    int t[400050];\n    void build(vector<int>&a, int v, int tl, int tr) {\n        if (tl == tr) {\n            t[v] = a[tl];\n        } else {\n            int tm = (tl + tr) / 2;\n            build(a, v*2, tl, tm);\n            build(a, v*2+1, tm+1, tr);\n            t[v] = (t[v*2] & t[v*2+1]);\n        }\n    }\n    int sum(int v, int tl, int tr, int l, int r) {\n        if (l > r) \n            return ((1ll<<31) -1);\n        if (l == tl && r == tr) {\n            return t[v];\n        }\n        int tm = (tl + tr) / 2;\n        return (sum(v*2, tl, tm, l, min(r, tm)) & sum(v*2+1, tm+1, tr, max(l, tm+1), r));\n    }\n\n    int findLowest(int index, int k, int n){\n        int lo = index,  hi = n-1;\n        int ans = -1;\n        while(lo<=hi){\n            int mid = (lo+hi)/2;\n            int val = sum(1,0,n-1,index,mid);\n            if(val == k){\n                ans = mid;\n                hi = mid-1;\n            }\n            else if(val>k){\n                lo = mid+1;\n            }else{\n                hi = mid-1;\n            }\n        }\n        return ans;\n    }\n    int findLargest(int index, int k, int n){\n        int lo = index,  hi = n-1;\n        int ans = -1;\n        while(lo<=hi){\n            int mid = (lo+hi)/2;\n            int val = sum(1,0,n-1,index,mid);\n            \n            if(val == k){\n                ans = mid;\n                lo = mid+1;\n            }\n            else if(val>k){\n                lo = mid+1;\n            }else{\n                hi = mid-1;\n            }\n        }\n        return ans;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        int n = nums.size();\n        build(nums,1,0,n-1);\n\n        long long ans = 0;\n        // int a = findLowest(1,k,n);\n        // cout<<a<<endl;\n        for(int i=0;i<n;i++){\n            int a = findLowest(i,k,n);\n            // cout<<a<<endl;\n            if(a == -1)continue;\n            int b = findLargest(i,k,n);\n            ans += (b-a+1);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720278876",
    "subm_id": "1311728016"
}