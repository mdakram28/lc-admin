{
    "username": "jinmingli",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        vector<int> cnt1(30,0),cnt2(30,0);\n        int n=nums.size();\n        int v1=(1<<30)-1,v2=(1<<30)-1;\n        long long ans=0;\n        for(int i=0,c1=0,c2=0;i<n;i++){\n            while(v1>k&&c1<n){\n                for(int j=0;j<30;j++){\n                    int t=(nums[c1]>>j)&1;\n                    if(t==0){\n                        cnt1[j]++;\n                        if(cnt1[j]==1) v1-=(1<<j);\n                    }\n                }\n                c1++;\n            }\n            while(v2>=k&&c2<n){\n                for(int j=0;j<30;j++){\n                    int t=(nums[c2]>>j)&1;\n                    if(t==0){\n                        cnt2[j]++;\n                        if(cnt2[j]==1) v2-=(1<<j);\n                    } \n                }\n                c2++;\n            }\n            ans+=c2-c1;\n            if(v2==k) ans++;\n            for(int j=0;j<30;j++){\n                int t=(nums[i]>>j)&1;\n                if(t==0){\n                    cnt1[j]--;\n                    cnt2[j]--;\n                    if(cnt1[j]==0) v1+=(1<<j);\n                    if(cnt2[j]==0) v2+=(1<<j);\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720277919",
    "subm_id": "544559590"
}