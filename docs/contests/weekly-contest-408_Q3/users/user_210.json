{
    "username": "xlx2",
    "submission": "class Solution:\n    def numberOfSubstrings(self, s: str) -> int:\n        n = len(s)\n        x = [i for i in range(n) if s[i] == '0']\n        def f(c0):\n            l = c0 * (c0 + 1)\n            ans = 0\n            if c0 > len(x):\n                return 0\n            for i in range(len(x)):\n                j = i + c0 - 1\n                if j >= len(x):\n                    break\n                a = x[i] - x[i-1] - 1 if i > 0 else x[0]\n                b = x[j+1] - x[j] - 1 if j+1 < len(x) else n - x[-1] - 1\n                z = x[j] - x[i] + 1\n                for p in range(a+1):\n                    w = l - p - z\n                    if w <= b:\n                        ans += b - max(0, w) + 1\n            return ans\n\n        ans = sum(f(x) for x in range(1, math.isqrt(n)+1))\n        i = 0\n        while i < n:\n            if s[i] == '0':\n                i += 1\n                continue\n            j = i\n            while j+1 < n and s[j+1] == '1':\n                j += 1\n            ans += (j-i+1) * (j-i+2) // 2\n            i = j + 1\n        return ans",
    "submit_ts": "1722137437",
    "subm_id": "1335763778"
}