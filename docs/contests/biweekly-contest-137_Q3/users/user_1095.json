{
    "username": "Spiritum",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        long long ans=0;\n        int n = board.size(), m = board[0].size();\n        vector<array<int, 3>> thrGre(n, {0, 1, 2});\n        for(int i=0;i<n;++i){\n            sort(thrGre[i].begin(), thrGre[i].end(), [&](int a, int b){return board[i][a]>board[i][b];});\n            for(int j=3;j<m;++j){\n                if(board[i][j]>board[i][thrGre[i][0]]){\n                    thrGre[i][2] = thrGre[i][1];\n                    thrGre[i][1] = thrGre[i][0];\n                    thrGre[i][0] = j;\n                }else if(board[i][j]>board[i][thrGre[i][1]]){\n                    thrGre[i][2] = thrGre[i][1];\n                    thrGre[i][1] = j;\n                }else if(board[i][j]>board[i][thrGre[i][2]]){\n                    thrGre[i][2] = j;\n                }\n            }\n        }\n        // for(int i=0;i<n;++i){\n        //     for(int j=0;j<3;++j){\n        //         cout<<thrGre[i][j]<<' ';\n        //     }\n        //     cout<<endl;\n        // }\n\n        auto dfs = [&](auto&& dfs, int row, int c, int firCol, int secCol)->long long{\n            long long ans =(long long)INT_MIN*3-1;\n            if((n-row)<(3-c)){\n                return ans;\n            }\n            for(int i = 0;i<3;++i){\n                int col = thrGre[row][i];\n                if(col==firCol||col==secCol){\n                    continue;\n                }\n                if(c<1){\n                    ans = max(dfs(dfs, row+1, c+1, col, -1)+board[row][col], ans);\n                }else if(c<2){\n                    ans = max(dfs(dfs, row+1, c+1, firCol, col)+board[row][col], ans);\n                }else{\n                    ans = max((long long)board[row][col], ans);\n                }\n            }\n            ans = max(dfs(dfs, row+1, c, firCol, secCol), ans);\n            return ans;\n        };\n        return dfs(dfs, 0, 0, -1, -1);\n        \n    }\n};",
    "submit_ts": "1723909695",
    "subm_id": "556337545"
}