{
    "username": "Assassin-Killer",
    "submission": "class Solution {\n    public long countSubarrays(int[] nums, int k) {\n        long ans = 0;\n        int n = nums.length;\n        long[] rec = new long[n];\n        if (nums[0] == k) rec[0] = 1;\n        ans = rec[0];\n        for (int i = 1; i < n; i++) {\n            int t = nums[i];\n            int j = i - 1;\n            int tt = -1;\n            for (; j >= 0; j--) {\n                t &= nums[j];\n                if (t < k) {\n                    nums[j] = t;\n                    rec[j] = 0;\n                    tt = j;\n                    break;\n                } else {\n                    if (nums[j] == t) {\n                        tt = j;\n                        break;\n                    } else {\n                        nums[j] = t;\n                    }\n                }\n            }\n            if (j == -1) tt = 0;\n\n            if (tt >= 0) {\n                if (tt == 0 && nums[tt] == k) {\n                    rec[tt] = 1;\n                }\n                long cnt = rec[tt];\n                for (int p = tt + 1; p <= i; p++) {\n                    if (nums[p] == k) {\n                        cnt++;\n                    }\n                    rec[p] = cnt;\n                }\n            }\n            ans += rec[i];\n\n        }\n        return ans;\n\n    }\n}",
    "submit_ts": "1720280975",
    "subm_id": "544574055"
}