{
    "username": "kexp",
    "submission": "class Solution {\npublic:\n    int n,n1,m1=300;\n    int a[400][300];\n    int b[400];\n    int count(int x, int y){\n        int t=0;\n        while(x<=y && x % 300 !=0){\n            //printf(\"%d\",a[x/300][x%300]);\n            t += a[x/300][x%300];++x;\n            \n        }\n        while(x<=y && (y-x)>=300){\n            t+=b[x/300];x+=300;\n        }\n        while(x<=y){\n            //printf(\"%d\",a[x/300][x%300]);\n            t += a[x/300][x%300];++x;\n        }\n        //printf(\",%d,%d,%d\\n\",x,y,t);\n        return t;\n    }\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        int i,j,ij,x,y,k,t;\n        vector<int> ans;\n        n=nums.size();\n        n1 = (n+299) /300;\n        \n        for(i=0;i<n1;++i){\n            b[i] = 0;\n            for(j=0;j<300;++j) a[i][j] = 0;\n        }\n        for(i=1;i<n-1;++i){\n            if (nums[i]>nums[i-1] && nums[i]>nums[i+1]) {\n                a[i/300][i % 300] = 1;++b[i/300];\n            }\n        }\n        for(i=0;i<queries.size();++i){\n            if (queries[i][0] ==1){\n                ans.push_back(count(queries[i][1]+1, queries[i][2]-1));\n            }else{\n                x = queries[i][1]; y = queries[i][2];\n                nums[x] = y;\n                for(j=x-1;j<=x+1;++j) if (j>0 && j<n-1){\n                    k=0;\n                    if (nums[j]>nums[j-1] && nums[j]>nums[j+1]) k=1;\n                    t= j/300;\n                    if (k != a[t][j % 300]){\n                        a[t][j % 300] = k;b[t] = 0;\n                        for(ij=0;ij<300;++ij) b[t] +=a[t][ij];\n                    }\n                }\n            }\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1718508264",
    "subm_id": "539786321"
}