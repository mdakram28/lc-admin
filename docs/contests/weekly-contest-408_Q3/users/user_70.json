{
    "username": "SR3mix",
    "submission": "typedef long long ll;\nclass Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        vector<ll>z;\n        int n = s.size();\n        ll run = 0, ans = 0;\n        for (int i = 0; i < n; i++) {\n            if (s[i] == '0') z.push_back(i);\n            if (s[i] == '0') {\n                ans += (run * (run + 1))/2;\n                run = 0;\n            }\n            else {\n                run++;\n            }\n        }\n        ans += (run * (run + 1))/2;\n        int zn = z.size();\n        int sq = sqrt(n);\n        //cout << \"before: \" << ans << endl;\n        for (int cnt = 1; cnt <= sq; cnt++) {\n            int mi = cnt * cnt + cnt;\n            for (int i = 0; i < zn - cnt + 1; i++) {\n                ll l = 0;\n                if (i > 0) l = z[i-1] + 1;\n                ll r = n-1;\n                if (i + cnt - 1 < zn - 1) r = z[i + cnt] - 1;\n                if (r - l + 1 < mi) continue;\n                for (int j = l; j <= z[i]; j++) {\n                    ll mir = j + mi - 1;\n                    mir = max(mir, z[i + cnt - 1]);\n                    ll add = r - mir + 1;\n                    //cout << \"cnt: \" << cnt << \" and i: \" << i << \" for \" << z[i] << \" and adding: \" << add << endl;\n                    ans += max(add,0LL);\n                }\n                // cout << \"cnt: \" << cnt << \" and bef aft \" << bef << \",\" << aft << endl;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1722137202",
    "subm_id": "1335757058"
}