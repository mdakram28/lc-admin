{
    "username": "Artemi Ogolikhin",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n\nclass Solution {\npublic:\n    long long calc(int n, int m, vector<pair<int, pair<int, int> > >& pos, int mx1, int mx2){\n        vector<bool> vis1(n, 0), vis2(m, 0);\n        long long res = 0;\n        int cnt = 0;\n        for(auto i : pos){\n            if(vis1[i.second.first] || vis2[i.second.second]) continue;\n            cnt++;\n            if(cnt == mx1 || cnt == mx1 + mx2 || cnt == 1 + mx1 + mx2){\n                vis1[i.second.first] = vis2[i.second.second] = 1;\n                res += i.first;\n            }\n            if(cnt == 1 + mx1 + mx2) break;\n        }\n        if(cnt != 1 + mx1 + mx2) return -1e18;\n        return res;\n    }\n    long long maximumValueSum(vector<vector<int>>& board) {\n        vector<pair<int, pair<int, int> > > pos;\n        int n = board.size();\n        int m = board[0].size();\n        for(int i = 0; i < n; i++)\n            for(int j = 0; j < m; j++)\n                pos.push_back({board[i][j], {i, j}});\n        sort(pos.begin(), pos.end(), greater<pair<int, pair<int, int> > >());\n        long long res = -1e18;\n        int cnt = 0;\n        vector<bool> vis1(n, 0), vis2(m, 0);\n        for(int mx1 = 1; mx1 <= 4; mx1++)\n            for(int mx2 = 1; mx2 <= 3; mx2++)\n                res = max(res, calc(n, m, pos, mx1, mx2));\n        return res;\n    }\n};",
    "submit_ts": "1723906411",
    "subm_id": "1359051898"
}