{
    "username": "Anupam Ghosh",
    "submission": "long long maxi(vector<vector<pair<int,int>>> &dp ,int idx, int i, int j){\n    for(auto &pr:dp[idx]){\n        if(pr.second!=i && pr.second!=j)return pr.first;\n    }\n    return INT_MIN;\n}\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int m=board.size();\n        int n=board[0].size();\n        vector<pair<int,int>> arr[m];\n        for(int i=0;i<m;i++){\n            for(int j=0;j<n;j++){\n                arr[i].push_back({board[i][j],j});\n            }\n        }\n        for(auto &i:arr){\n            sort(i.rbegin(),i.rend());\n        }\n        vector<vector<pair<int,int>>> dp(m,vector<pair<int,int>> (n));\n        for(int i=m-1;i>=0;i--){\n            for(int j=0;j<n;j++){\n                dp[i][j]={board[i][j],j};\n                if(i+1<m)dp[i][j].first=max(dp[i][j].first,dp[i+1][j].first);\n            }\n        }\n        \n        for(int i=0;i<m;i++)sort(dp[i].rbegin(),dp[i].rend());\n        int k=min(n,5);\n        long long res=-1e18;\n        for(int i=0;i<m-2;i++){\n            for(int j=i+1;j<m-1;j++){\n                for(int x=0;x<k;x++){\n                    for(int y=0;y<k;y++){\n                        if(arr[i][x].second==arr[j][y].second)continue ;\n                        res=max(res,0LL+arr[i][x].first+arr[j][y].first+maxi(dp,j+1,arr[i][x].second,arr[j][y].second));\n                        \n                    }\n                }\n            }\n        }\n        return res;\n        // return -1;\n    }\n};",
    "submit_ts": "1723909746",
    "subm_id": "1359204244"
}