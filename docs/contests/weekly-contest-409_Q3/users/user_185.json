{
    "username": "00zi-jian",
    "submission": "class Solution:\n    def shortestDistanceAfterQueries(self, n: int, queries: List[List[int]]) -> List[int]:\n        fa=list(range(n))\n        sz=[1]*(n)\n        A=[[i,i] for i in range(n)]\n        cnt = n\n\n        def find(x):\n            if x!=fa[x]:\n                fa[x]=find(fa[x])\n            return fa[x]\n\n        def union(a,b):\n            nonlocal cnt\n            x,y=find(a),find(b)\n            if x!=y:\n                cnt -= 1\n                if sz[x]>=sz[y]:\n                    fa[y]=x\n                    sz[x]+=sz[y]\n                    if A[y][0]<A[x][0]:\n                        A[x][0]=A[y][0]\n                    if A[y][1]>A[x][1]:\n                        A[x][1]=A[y][1]\n                else:\n                    fa[x]=y\n                    sz[y]+=sz[x]\n                    if A[x][0]<A[y][0]:\n                        A[y][0]=A[x][0]\n                    if A[x][1]>A[y][1]:\n                        A[y][1]=A[x][1]\n                    \n        ans=[]\n        for u,v in queries:\n            x = A[find(u+1)][1]\n            while x<v:\n                union(x,x+1)\n                x = A[x+1][1]\n            ans.append(cnt-1)\n        return ans\n                \n                \n                \n                \n                \n\n        ",
    "submit_ts": "1722740283",
    "subm_id": "552330449"
}