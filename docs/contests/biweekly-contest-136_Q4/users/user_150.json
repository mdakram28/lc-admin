{
    "username": "woaixuexi-6",
    "submission": "class Solution {\npublic:\n    void dfs(int id, int pre, vector<vector<int> >& e, vector<int>& val)\n    {\n        for(auto nxt : e[id])\n        {\n            if(nxt == pre)\n                continue;\n            dfs(nxt, id, e, val);\n        }\n\n        int m = 0;\n        for(auto nxt : e[id])\n        {\n            if(nxt == pre)\n                continue;\n            int t = (nxt % 2 == 1) ? 1 : 2;\n            m = max(t + val[nxt], m);\n        }\n        val[id] = m;\n    }\n\n    void f(int id, int pre, int vpre, vector<vector<int> >& e, const vector<int>& val, vector<int>& ans)\n    {\n        int M = 0;\n        for(auto nxt : e[id])\n        {\n            if(nxt == pre)\n                continue;\n            int t = (nxt % 2 == 1) ? 1 : 2;\n            M = max(t + val[nxt], M);\n        }\n        ans[id] = max(M, vpre);\n\n        int Mid = -1, Mval = 0, mval = 0;\n        for(auto nxt : e[id])\n        {\n            if(nxt == pre)\n                continue;\n            \n            int t = (nxt % 2 == 1 ? 1 : 2) + val[nxt];\n            if(t > Mval)\n            {\n                Mid = nxt;\n                mval = Mval;\n                Mval = t;\n            }\n            else if(t > mval)\n                mval = t;\n        }\n        for(auto nxt : e[id])\n        {\n            if(nxt == pre)\n                continue;\n            \n            int M = (nxt != Mid ? Mval : mval);\n            M = max(M, vpre) + (id % 2 == 1 ? 1 : 2);\n            f(nxt, id, M, e, val, ans);\n        }\n    }\n\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size() + 1;\n        vector<vector<int> > e(n, vector<int>());\n        for(auto& ed : edges)\n        {\n            e[ed[0]].push_back(ed[1]);\n            e[ed[1]].push_back(ed[0]);\n        }\n\n        vector<int> val(n, 0);\n        dfs(0, -1, e, val);\n\n        vector<int> ans(n, 0);\n        ans[0] = val[0];\n        int Mid = -1, Mval = 0, mval = 0;\n        for(auto nxt : e[0])\n        {\n            int t = (nxt % 2 == 1 ? 1 : 2) + val[nxt];\n            if(t > Mval)\n            {\n                Mid = nxt;\n                mval = Mval;\n                Mval = t;\n            }\n            else if(t > mval)\n                mval = t;\n        }\n        for(auto nxt : e[0])\n        {\n            int M = (nxt != Mid ? Mval : mval);\n            f(nxt, 0, M + 2, e, val, ans);\n        }\n\n        return ans;\n    }\n};",
    "submit_ts": "1722698639",
    "subm_id": "552271775"
}