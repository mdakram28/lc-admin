{
    "username": "jys123",
    "submission": "#define x first\n#define y second \n\ntypedef pair<int,int> pii;\n\nclass Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int m = grid.size();\n        int n = grid[0].size();\n        int ans = 0;\n        \n        pii lu = {0,0}, ld = {m-1,0}, ru = {0,n-1}, rd = {m-1, n-1} ;\n        while(lu.x < ld.x){\n            while(lu.y < ru.y){\n                int f0 = 0, f1 = 0;\n                if(grid[lu.x][lu.y] == 1) f1++;\n                else f0++;\n                \n                if(grid[ru.x][ru.y] == 1) f1++;\n                else f0++;\n                \n                if(grid[ld.x][ld.y] == 1) f1++;\n                else f0++;\n                \n                if(grid[rd.x][rd.y] == 1) f1++;\n                else f0++;\n                \n                if(f0 >= f1) ans += f1;\n                else ans += f0;\n                \n                lu.y++, ld.y++, ru.y --, rd.y --;\n            }\n            lu = {lu.x+1, 0}, ld = {ld.x-1, 0}, ru = {ru.x+1, n-1}, rd = {rd.x-1, n-1};\n        }\n        \n        int cnt11 = 0, cnt01 = 0;\n        if(m % 2){\n            int row = m >> 1;\n            int l = 0, r = n-1;\n            while(l < r){\n                if(grid[row][l] != grid[row][r]){\n                    ans ++;\n                    cnt01+=2;\n                }\n                else if(grid[row][l] == 1) cnt11 +=2;\n                \n                l++,r--;\n            }\n            \n        }\n        if(n%2){\n            int col = n >> 1;\n            int l = 0, r = m-1;\n            while(l < r){\n                if(grid[l][col] != grid[r][col]){\n                    ans ++;\n                    cnt01+=2;\n                }\n                else if(grid[l][col] == 1) cnt11 +=2;\n                \n                l ++, r--;\n            }\n        }\n        if(cnt11 % 4 != 0 && !cnt01){\n            ans += 2;\n        }\n        \n        if(m%2 && n %2){\n            int row = m >> 1;\n            int col = n >> 1;\n            if(grid[row][col] == 1) ans ++;\n        }\n        \n        return ans;\n    }\n};",
    "submit_ts": "1722698052",
    "subm_id": "552269086"
}