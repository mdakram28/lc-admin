{
    "username": "shivambhagat02",
    "submission": "from sortedcontainers import SortedList\n\n\nclass Solution:\n    def countOfPeaks(self, a: List[int], queries: List[List[int]]) -> List[int]:\n        \n        n = len(a)\n        sl = SortedList()\n        \n        for i in range(1, n - 1):\n            if a[i - 1] < a[i] > a[i + 1]:\n                sl.add(i)\n                    \n        ans = []\n        \n        for t, x, y in queries:\n            \n            if t == 1:\n                c = 0\n                \n                l, h = 0, len(sl) - 1\n                \n                while l <= h:\n                    m = (l + h) // 2\n                    \n                    if sl[m] > x:\n                        h = m - 1\n                    else:\n                        l = m + 1\n                \n                L = h + 1\n                \n                l, h = 0, len(sl) - 1\n                \n                while l <= h:\n                    m = (l + h) // 2\n                    \n                    if sl[m] < y:\n                        l = m + 1\n                    else:\n                        h = m - 1\n                \n                R = l - 1\n                \n\n                ans.append(max(R - L + 1, 0))\n                        \n            else:                \n                a[x] = y\n                \n                for i in range(x - 1, x + 2):\n                    if 1 <= i < n - 1:\n                        if i in sl:\n                            if not (a[i - 1] < a[i] > a[i + 1]):\n                                sl.discard(i)\n                        else:\n                            if a[i - 1] < a[i] > a[i + 1]:\n                                sl.add(i)\n                            \n        return ans\n",
    "submit_ts": 1718508042.0
}