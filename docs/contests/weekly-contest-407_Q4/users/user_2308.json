{
    "username": "parascoding",
    "submission": "class Solution {\n    public long minimumOperations(int[] nums, int[] target) {\n        long ans = 0;\n        int n = nums.length;\n        int a[] = new int[n];\n        for(int i = 0; i < n; i++)\n            a[i] = target[i] - nums[i];\n        List<List<int[]>> list = new ArrayList<>();\n        int i = 0;\n        TreeMap<Integer, Integer> tm = new TreeMap<>();\n        while(i < n){\n            if(a[i] == 0){\n                i++;\n                continue;\n            }\n            List<int[]> Temp = new ArrayList<>();\n            int j = i;\n            while(j < n && ((a[i] > 0 && a[j] > 0) || (a[i] < 0 && a[j] < 0))){\n                Temp.add(new int[]{Math.abs(a[j]), j++});\n            }\n            tm.put(i, j - 1);\n            i = j;\n            Collections.sort(Temp, \n                new Comparator<int[]>(){\n                    public int compare(int x[], int y[]){\n                        return x[0] - y[0];\n                    }\n                }\n            );\n            list.add(new ArrayList<>(Temp));\n            for(List<int[]> temp : list){\n                long mul = 1, last = 0;\n                for(int x[] : temp){\n\n                    long dif = x[0] - last;\n                    // System.out.println(x[0] +\" \"+x[1]+\" \"+tm+\" \"+dif+\" \"+mul);\n                    ans += tm.size() * dif;\n                    Integer start = tm.floorKey(x[1]);\n                    Integer end = tm.get(start);\n                    int sz = tm.size();\n                    if(start == end){\n                        tm.remove(start);\n                    } else{\n                        int ls = start, le = x[1] - 1;\n                        int rs = x[1] + 1, re = end;\n                        if(ls <= le)\n                            tm.put(ls, le);\n                        else\n                            tm.remove(ls);\n                        if(rs <= re)\n                            tm.put(rs, re);\n                    }\n                    if(tm.size() > sz)\n                        mul++;\n                    last = x[0];\n                }\n                // System.out.println();\n            }\n            tm = new TreeMap<>();\n            list = new ArrayList<>();\n        }\n        // for(List<int[]> al : list){\n        //     for(int x[] : al)\n        //         System.out.print(\"(\"+x[0]+\",\"+x[1]+\"), \");\n        //     System.out.println();\n        // }\n        \n        return ans;\n    }\n}",
    "submit_ts": "1721532726",
    "subm_id": "1327992610"
}