{
    "username": "Fkaiser7",
    "submission": "class Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int x) {\n        int n=nums.size();\n        vector<vector<int>>v(31,vector<int>(n));\n        vector<int>power(31);\n        int p=1;\n        for(int i=0;i<=30;i++){\n            power[i]=p;\n            if(i==30){\n                break;\n            }\n            p=p*2;\n        }\n        for(int i=0;i<n;i++){\n            for(int j=0;j<=30;j++){\n                int p=power[j];\n                if(p&nums[i]){\n                    v[j][i]++;\n                }\n            }\n        }\n        for(int i=0;i<=30;i++){\n            int s=0;\n            for(int j=0;j<n;j++){\n                s+=v[i][j];\n                v[i][j]=s;\n            }\n        }\n        int ma=INT_MAX;\n        for(int i=0;i<n;i++){\n            int lo=i,hi=n-1;\n            int ans=n;\n            while(lo<=hi){\n                int mid=(lo+hi)/2;\n                int c=0;\n                for(int k=0;k<=30;k++){\n                    int t=v[k][mid]-(i>0?v[k][i-1]:0);\n            if(t==mid-i+1){\n                c+=power[k];\n            }\n                }\n                if(c<=x){\n                    ans=mid;\n                    hi=mid-1;\n                }\n                else{\n                    lo=mid+1;\n                }\n            }\n            //cout<<i<<\" \"<<ans<<endl;\n            if(ans==n){\n                int c=0;\n                for(int k=0;k<=30;k++){\n                    int t=v[k][n-1]-(i>0?v[k][i-1]:0);\n            if(t==n-1-i+1){\n                c+=power[k];\n            }\n                }\n                ma=min(ma,c-x);\n            }\n            else if(ans==i){\n                ma=min(ma,x-nums[i]);\n            }\n            else{\n                int t1=0,t2=0;\n                for(int k=0;k<=30;k++){\n                    int t=v[k][ans-1]-(i>0?v[k][i-1]:0);\n            if(t==ans-1-i+1){\n                t1+=power[k];\n            }\n                }\n                for(int k=0;k<=30;k++){\n                    int t=v[k][ans]-(i>0?v[k][i-1]:0);\n            if(t==ans-i+1){\n                t2+=power[k];\n            }\n                }\n                ma=min(ma,t1-x);\n                ma=min(ma,x-t2);\n            }\n            //cout<<ma<<endl;\n        }\n        return ma;\n    }\n};",
    "submit_ts": 1717299203.0
}