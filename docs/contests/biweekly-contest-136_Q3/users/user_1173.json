{
    "username": "Meet_24",
    "submission": "class Solution {\npublic:\n    void dfs(int i, int j, int &ans,int &sp_pair,int &single,int &ones, vector<vector<int>>&grid, vector<vector<int>>&vis)\n    {\n        set<pair<int,int>>st;\n        int n = grid.size();\n        int m = grid[0].size();\n        st.insert({i,j});\n        st.insert({n-1-i,j});\n        st.insert({i,m-1-j});\n        st.insert({n-1-i,m-1-j});\n        for(auto it : st)\n        {\n            vis[it.first][it.second] = 1;\n        }\n        if(st.size()==1)\n        {\n            single += grid[i][j] == 1;\n            ones += grid[i][j] == 1;\n        }\n        if(st.size()==2)\n        {\n            int zero = 0;\n            int one = 0;\n            for(auto it : st)\n            {\n                zero += grid[it.first][it.second] == 0;\n                one +=  grid[it.first][it.second] == 1;\n            }\n            if(zero==one)\n            {\n                ans++;\n                sp_pair += 1;\n            }\n            else if(one==2) ones += 2;\n        }\n        if(st.size()==4)\n        {\n            int zero = 0;\n            int one = 0;\n            for(auto it : st)\n            {\n                zero += grid[it.first][it.second] == 0;\n                one +=  grid[it.first][it.second] == 1;\n            }\n            if(zero>one)\n            {\n                ans += st.size() - zero;\n            }\n            else\n            {\n                ans += st.size() - one;\n                ones += 4;\n            }\n        }\n        \n    }\n    int minFlips(vector<vector<int>>& grid) {\n        int ans = 0;\n        int sp_pair = 0;\n        int single = 0;\n        int ones = 0;\n        int n = grid.size();\n        int m = grid[0].size();\n        vector<vector<int>>vis(n,vector<int>(m,0));\n        for(int i=0;i<n;i++)\n        {\n            for(int j=0;j<m;j++)\n            {\n                if(!vis[i][j])\n                {\n                    dfs(i,j,ans,sp_pair,single,ones,grid,vis);\n                }\n            }\n        }\n        // cout<<ones<<\" \"<<sp_pair<<\" \"<<single<<endl;\n        if(ones%4==0) return ans;\n        if(ones%4==1)\n        {\n            return ans + 1;\n        }\n        if(ones%4==2)\n        {\n            if(sp_pair==0)\n            {\n                return ans + 2;\n            }\n            else return ans;\n        }\n        if(ones%4==3)\n        {\n            if(sp_pair==0) return ans + 3;\n            return ans + 1;\n        }\n        return -1;\n    }\n};",
    "submit_ts": "1722699254",
    "subm_id": "1343206119"
}