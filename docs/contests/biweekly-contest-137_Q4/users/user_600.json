{
    "username": "gcasd001",
    "submission": "#include <bits/stdc++.h>\nusing namespace std;\n#define ll long long\n#define ull unsigned long long int\n#define db double\n#define ldb long double\n#define int128 __int128_t\n#define fr(x) freopen(x,\"r\",stdin);\n#define fw(x) freopen(x,\"w\",stdout);\n#define mst(x,a) memset(x,a,sizeof(x));\n#define all(x) (x).begin(),(x).end()\n#define rall(x) (x).rbegin(),(x).rend()\n#define fi first\n#define se second\n#define IOS ios::sync_with_stdio(false);cin.tie(0);cout.tie(0);\n#define yes std::cout << \"Yes\\n\"\n#define no std::cout << \"No\\n\"\n#define rep(i,n) for(int i = 0; i < (int)(n); i++)\n#define rrep(i,n) for(int i = (int)(n) - 1; i >= 0; i--)\n#ifdef LOCAL\n#include \"leetcode.h\"\n#endif // LOCAL\ntemplate <typename T> int si(const T &x) { return x.size(); }\ntemplate <typename T, typename S> inline bool chmax(T &a, const S &b) { if (a < b) { a = b; return true; } return false; }\ntemplate <typename T, typename S> inline bool chmin(T &a, const S &b) { if (b < a) { a = b; return true; } return false; }\nconst int mod = 1000000007;\nconst int inf = 0x3f3f3f3f;\n      using A = array<ll, 4>;\n      vector<vector<A>> use(3), now(3);\n\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        rep(k, 3) use[k].clear();\n      int n = si(board), m = si(board[0]);\n      ll ans = -1e18;\n      rep(i, n) {\n          rep(k, 3) now[k].clear();\n        rep(j, m) {\n          int x = board[i][j];\n          now[1].push_back({x, j, -1, -1});\n          for (int k = 1; k < 3; k++) {\n            for (auto &v : use[k]) {\n              bool ok = true;\n              for (int t = 1; t < 4; t++) {\n                if (v[t] == j) ok = false;\n              }\n              if (ok && k < 2) {\n                now[k+1].push_back(v);\n                now[k+1].back()[0] += x;\n                now[k+1].back()[k+1] = j;\n              }\n              if (ok && k == 2) {\n                chmax(ans, x + v[0]);\n              }\n            }\n          }\n        }\n        rep(k, 3) {\n          for (auto &v : now[k]) use[k].push_back(v);\n          sort(rall(use[k]));\n          while (si(use[k]) > 15) use[k].pop_back();\n        }\n      }\n      return ans;\n    }\n};\n",
    "submit_ts": "1723908874",
    "subm_id": "556333324"
}