{
    "username": "reincarnation4",
    "submission": "class Solution {\npublic:\n    vector<int> mx;\n    \n    void modify(int o, int l, int r, int i, int val) {\n        if (l == r) {\n            mx[o] = val;\n            return;\n        }\n        int m = (l + r) / 2;\n        if (i <= m) modify(o * 2, l, m, i, val);\n        else modify(o * 2 + 1, m + 1, r, i, val);\n        mx[o] = std::max(mx[o * 2], mx[o * 2 + 1]);\n    }\n\n    int query1(int o, int l, int r, int L, int R) {\n        if (L <= l && r <= R) return mx[o];\n        int res = 0;\n        int m = (l + r) / 2;\n        if (L <= m) res = query1(o * 2, l, m, L, R);\n        if (R > m) res = std::max(res, query1(o * 2 + 1, m + 1, r, L, R));\n        return res;\n    }\n\n    vector<bool> getResults(vector<vector<int>>& q) {\n        int u = 50005;\n        mx.resize(u * 4);\n        modify(1, 1, u, 1, 50000);\n        std::set<int> obs;\n        std::vector<bool> res;\n\n        for (const auto& query : q) {\n            int t = query[0];\n            int x = query[1];\n\n            if (t == 1) {\n                obs.insert(x);\n                auto a = obs.upper_bound(x);\n                auto b = obs.lower_bound(x);\n                if(a == obs.end()){\n                    if(b == obs.begin()){\n                       modify(1, 1, u,1, 0);\n                        modify(1, 1, u,1, x);\n                        modify(1, 1, u,x+1, 50000-x);\n                    }else{\n                        b = prev(b);\n                        modify(1, 1, u,*b+1, 0);\n                        modify(1, 1, u,*b+1, x-*b);\n                        modify(1, 1, u,x+1, 50000-x);\n                    }\n                }else{\n                    if(b == obs.begin()){\n                        modify(1, 1, u,1, 0);\n                        modify(1, 1, u,1, x);\n                        modify(1, 1, u,x+1, *a-x);\n                    }else{\n                         b = prev(b);\n                        modify(1, 1, u,*b+1, 0);\n                        modify(1, 1, u,*b+1, x-*b);\n                        modify(1, 1, u,x+1, *a-x);\n                    }\n                }\n\n            } else if (t == 2) {\n                if(query[1] < query[2]){\n                res.push_back(false);\n                    \n                }else{\n                    int x = query1(1,1,u,1,query[1]-query[2]+1);\n                    bool can =  (x >= query[2]);\n                    res.push_back(can);\n                }\n            }\n        }\n        return res;\n    }\n};\n",
    "submit_ts": "1716652634",
    "subm_id": "1267668087"
}