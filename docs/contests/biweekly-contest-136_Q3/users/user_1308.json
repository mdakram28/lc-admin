{
    "username": "Phoenix-101",
    "submission": "class Solution {\npublic:\n    vector<vector<int>> flip1(vector<vector<int>> grid){\n        int n=grid.size(),m=grid[0].size();\n        for(int i=0,j=n-1;i<j;i++,j--){\n            for(int k=0;k<m;k++){\n                swap(grid[i][k],grid[j][k]);\n            }\n        }\n        return grid;\n    }\n    vector<vector<int>> flip2(vector<vector<int>> grid){\n        int n=grid.size(),m=grid[0].size();\n        for(int i=0,j=m-1;i<j;i++,j--){\n            for(int k=0;k<n;k++){\n                swap(grid[k][i],grid[k][j]);\n            }\n        }\n        return grid;\n    }\n    int minFlips(vector<vector<int>>& grid) {\n        int ans=0,n=grid.size(),m=grid[0].size();\n        auto buttom=flip1(grid); // row\n        auto right=flip2(grid); // column\n        auto left=flip1(right);\n        for(int i=0;i<n/2;i++){\n            for(int j=0;j<m/2;j++){\n                int ctr=grid[i][j]+buttom[i][j]+right[i][j]+left[i][j];\n                ans+=min(ctr,4-ctr);\n            }\n        }\n        int onesFlip=0,oneNotFlip=0,zeroNotFlip=0;\n        if(n%2==1&&m%2==1&&grid[n/2][m/2]) ans++,grid[n/2][m/2]=0;\n        if(n%2==1){\n            for(int i=0,j=m-1;i<j;i++,j--){\n                if(grid[n/2][i]!=grid[n/2][j]) onesFlip++,ans++,oneNotFlip++;\n                else if(grid[n/2][i]==grid[n/2][j]&&grid[n/2][i]) oneNotFlip++;\n                else zeroNotFlip++;\n            }\n        }\n        if(m%2==1){\n            for(int i=0,j=n-1;i<j;i++,j--){\n                if(grid[i][m/2]!=grid[j][m/2]) onesFlip++,ans++,oneNotFlip++;\n                else if(grid[i][m/2]==grid[j][m/2]&&grid[i][m/2]) oneNotFlip++;\n                else zeroNotFlip++;\n            }\n        }\n        // cout<<oneNotFlip<<' '<<onesFlip<<' '<<zeroNotFlip<<endl;\n        oneNotFlip%=2; // remove \n        int rem=2-oneNotFlip; // need \n        if(onesFlip>=min(oneNotFlip,rem)){\n            return ans;\n        }\n        oneNotFlip-=onesFlip,rem-=onesFlip;\n\n        if(oneNotFlip<rem) {\n            return ans+oneNotFlip*2;\n        }\n        if(zeroNotFlip>=rem) return ans+rem*2;\n\n        return ans+oneNotFlip*2;\n    }\n};",
    "submit_ts": "1722699162",
    "subm_id": "1343203302"
}