{
    "username": "skullhole",
    "submission": "func minFlips(grid [][]int) int {\n    n := len(grid)\n    m := len(grid[0])\n    \n    count := 0\n    for i := 0; i < n; i++ {\n        for j := 0; j < m; j++ {\n            count += grid[i][j]\n        }\n    }\n    \n    ones := 0\n    \n    res := 0\n    \n    for i := 0; i < n / 2; i++ {\n        for j := 0; j < m / 2; j++ {\n            // 4 cells\n            // grid[i][j]\n            // grid[i][m-1-j]\n            // grid[n-1-1i][j]\n            // grid[n-1-i][m-1-j]\n            sm := grid[i][j] + grid[i][m-1-j] + grid[n-1-i][j] + grid[n-1-i][m-1-j]\n            \n            // 1 or 3 - flip one to 0 or to 4 same \n            if sm == 1 {\n                res += 1\n                count -= 1\n                // ones += 1\n            } else if sm == 3 {\n                res += 1\n                count += 1\n                // ones += 1\n            } else if sm == 2 {\n                res += 2\n                count += 2\n            }\n        }\n    }\n    \n    if n % 2 == 1 {\n        i := n / 2\n        for j := 0; j < m / 2; j++ {\n            if grid[i][j] != grid[i][m-1-j] {\n                res += 1\n                count += 1\n                ones += 1\n            }\n        }\n    }\n    \n    if m % 2 == 1 {\n        j := m / 2 \n        for i := 0; i < n / 2; i++ {\n            if grid[i][j] != grid[n-1-i][j] {\n                res += 1\n                count += 1\n                ones += 1\n            }\n        }\n    }\n    \n    // could flip other way around\n    if count % 4 >= 2 && ones >= 1 {\n        count -= 2\n    }\n    \n    // odd, center toggle\n    if count % 4 == 1 {\n        res += 1\n        count -= 1\n    } else if count % 4 == 3 {\n        if count+1 <= n*m && grid[n/2][m/2] == 0 {\n            count += 1\n            res += 1\n        } else {\n            count -= 3\n            res += 3\n        }\n    } else if count % 4 == 2 {\n        if ones == 0 {\n            res += 2\n        }\n    }\n    \n    \n    return res\n}",
    "submit_ts": "1722698126",
    "subm_id": "1343170517"
}