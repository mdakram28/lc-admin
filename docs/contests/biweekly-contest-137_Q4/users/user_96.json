{
    "username": "Milesian",
    "submission": "long long f[502][502];\nclass Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size();\n        int m = board[0].size();\n        f[m][m] = 0;\n        for(int i=0;i<m;++i){\n            f[i][m] = max(board[0][i], board[1][i]);\n        }\n        \n        for(int i=0;i<m;++i)for(int j=i+1;j<m;++j){\n            f[i][j] = board[0][i];\n            f[i][j] += board[1][j];\n            long long aug = board[1][i];\n            aug += board[0][j];\n            f[i][j] = max(f[i][j], aug);\n        }\n        long long ans = board[0][0];\n        ans += board[1][1];\n        ans += board[2][2];\n        \n        for(int i=2;i<n;++i){\n            int t1,t2,t3;\n            t1 = t2 = t3 = -1;\n            for(int j=0;j<m;++j){\n                if(t1 == -1 || board[i][j] > board[i][t1]){\n                    t3 = t2;\n                    t2 = t1;\n                    t1 = j;\n                }else if(t2 == -1 || board[i][j] > board[i][t2]){\n                    t3 = t2;\n                    t2 = j;\n                }else if(t3 == -1 || board[i][j] > board[i][t3]){\n                    t3 = j;\n                }\n            }\n            for(int j=0;j<m;++j)for(int k=j+1;k<m;++k){\n                if(t1 == j || t1 == k){\n                    if(t2 == j || t2 == k){\n                        ans = max(ans, f[j][k] + board[i][t3]);    \n                    }else{\n                        ans = max(ans, f[j][k] + board[i][t2]);   \n                    }\n                }else {\n                    ans = max(ans, f[j][k] + board[i][t1]);   \n                }\n            }\n            \n            \n            for(int j=0;j<m;++j){\n                \n                for(int k=0;k<j;++k){\n                    f[k][j] = max(f[k][j], f[j][m] + board[i][k]);\n                }\n                for(int k=j+1;k<m;++k){\n                    f[j][k] = max(f[j][k], f[j][m] + board[i][k]);\n                }\n                \n            }\n            for(int j=0;j<m;++j){\n                f[j][m] = max(f[j][m], (long long) board[i][j]);\n            }\n       //     printf(\"Test: %lld\\n\", ans);\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723907373",
    "subm_id": "556325149"
}