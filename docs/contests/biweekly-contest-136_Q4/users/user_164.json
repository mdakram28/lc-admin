{
    "username": "tepamid",
    "submission": "class Solution {\npublic:\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size()+1;\n        vector<vector<int>> g(n);\n        for(auto& e : edges) {\n            auto u = e[0];\n            auto v = e[1];\n            g[u].push_back(v);\n            g[v].push_back(u);\n        }\n        \n        vector<int> a(n);\n        // vector<multiset<int>> all(n);\n        vector<int> ans(n);\n        \n        function<void(int,int)> dfs = [&](int u, int pu) {\n            int cntch=0;\n            for(auto v:g[u]) {\n                if (v==pu) continue;\n                \n                dfs(v,u);\n                a[u] = max(a[u], a[v]+1);\n                // all[u].insert(a[v]);\n                cntch++;\n            }\n            \n            // if (!cntch) \n            {\n                if (u%2==0) a[u]++;\n            }\n        };\n        \n        dfs(0, 0);\n        // ans[0] = a[0];\n        \n        function<void(int,int,int)> dfs2 = [&](int u, int pu, int pcost) {\n            int cntch=0;\n            multiset<int> se;\n            for(auto v:g[u]) {\n                if (v==pu) continue;\n                \n                se.insert(a[v]);\n                // dfs2(v, u);\n                \n                cntch++;\n            }\n            \n            for(auto v:g[u]) {\n                if (v==pu) continue;\n                \n                se.erase(se.find(a[v]));\n                \n                auto pcost2 = pcost;\n                if (!se.empty()) {\n                    auto semax = *se.rbegin();\n                    pcost2 = max(pcost2, 1+semax);\n                }\n                if (u%2==0) pcost2++;\n                pcost2++; // move from v to u\n                \n                dfs2(v, u, pcost2);\n                se.insert(a[v]);\n                \n                cntch++;\n            }\n            \n            auto costToVisitAllkids = a[u];\n            if (u%2==0) costToVisitAllkids --;\n            \n            ans[u] = max({pcost, costToVisitAllkids});\n            \n        };\n            \n        dfs2(0,0,0);\n    \n        return ans;\n    }\n};",
    "submit_ts": "1722698862",
    "subm_id": "1343194167"
}