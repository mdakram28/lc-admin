{
    "username": "lddlinan",
    "submission": "class Solution(object):\n    def getResults(self, queries):\n        \"\"\"\n        :type queries: List[List[int]]\n        :rtype: List[bool]\n        \"\"\"\n        n =len(queries)\n        xs = [queries[i][1] for i in range(n)]\n        maxx = max(xs)\n        mx=1\n        while mx<=maxx: mx<<=1\n        ix = [0]*(mx+mx)\n        lx = [0]*(mx+mx)\n        rx = [0]*(mx+mx)\n        dd = [1]*(mx+mx)\n        i = mx-1\n        while i:\n            dd[i]=dd[i*2]+dd[i*2+1]\n            i-=1\n        for i in range(maxx):\n            lx[i+mx]=rx[i+mx]=ix[i+mx]=1\n        def update(i, d):\n            i1=i*2\n            i2 =i*2+1\n            d = dd[i1]\n            ix[i]=max(ix[i1],ix[i2])\n            ix[i]=max(ix[i], rx[i1]+lx[i2])\n            lx[i]=lx[i1]\n            if rx[i1]==d and lx[i1]==d:\n                lx[i]=lx[i1]+lx[i2]\n            rx[i]=rx[i2]\n            if lx[i2]==d and rx[i2]==d:\n                rx[i]=rx[i2]+rx[i1]\n        i = mx-1\n        d = 1\n        while i:\n            update(i, d)\n            # print i, ix[i], lx[i], rx[i]\n            # d<<=1\n            i-=1\n        def addl(k, d, s):\n            if d==1:\n                lx[k]=0\n                return\n            k1=k*2\n            k2=k1+1\n            d>>=1\n            if s<d:\n                addl(k, d, s)\n            else:\n                addl(k, d, s-d)\n            update(k, d)\n        def addr(k, d, s):\n            if d==1:\n                rx[k]=0\n                return\n            k1=k*2\n            k2=k1+1\n            d>>=1\n            if s<d:\n                addr(k1, d, s)\n            else:\n                addr(k2, d, s-d)\n            update(k, d)\n        def count(k, d, e):\n            if e==d-1:\n                return lx[k], ix[k], rx[k]\n            d>>=1\n            k1=k*2\n            k2=k1+1\n            if  e<d:\n                return count(k1, d, e)\n            v1, v2, v3 = count(k1, d, d-1)\n            v4, v5, v6 = count(k2, d, e-d)\n            v2 = max(v2, v5, v3+v4)\n            if v1==d and v3:\n                v1+=v4\n            if v6==e-d+1 and v4:\n                v6+=v3\n            return v1, v2, v6\n        r = []\n        for i in range(n):\n            if queries[i][0]==1:\n                x = queries[i][1]\n                addr(1, mx, x-1)\n                addl(1, mx, x) \n            else:\n                x, z = queries[i][1], queries[i][2]\n                # print ix[1]\n                v1, v2, v3 = count(1, mx, x-1)\n                # print v1, v2, v3\n                if z<=v2: r.append(True)\n                else: r.append(False)\n        return r\n                \n        ",
    "submit_ts": 1716651022.0
}