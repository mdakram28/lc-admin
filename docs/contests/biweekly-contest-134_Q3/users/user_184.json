{
    "username": "JavOliva",
    "submission": "typedef long long ll;\ntemplate<class T, T m_(T, T)> struct IterativeSegmentTree{\n  int n; vector<T> ST;\n  IterativeSegmentTree(){}\n  IterativeSegmentTree(vector<T> &a){\n    n = a.size(); ST.resize(n << 1);\n    for (int i=n;i<(n<<1);i++)ST[i]=a[i-n];\n    for (int i=n-1;i>0;i--)ST[i]=m_(ST[i<<1],ST[i<<1|1]);\n  }\n  void update(int pos, T val){ // replace with val\n    ST[pos += n] = val;\n    for (pos >>= 1; pos > 0; pos >>= 1)\n      ST[pos] = m_(ST[pos<<1], ST[pos<<1|1]);\n  }\n  T query(int l, int r){ // [l, r]\n    T ansL, ansR; bool hasL = 0, hasR = 0;\n    for (l += n, r += n + 1; l < r; l >>= 1, r >>= 1) {\n      if (l & 1) \n        ansL=(hasL?m_(ansL,ST[l++]):ST[l++]),hasL=1;\n      if (r & 1) \n        ansR=(hasR?m_(ST[--r],ansR):ST[--r]),hasR=1;\n    }\n    if (!hasL) return ansR; if (!hasR) return ansL;\n    return m_(ansL, ansR);\n  }\n  T query2(int l, int r){\n    if (l > r){\n        return m_(query(l, n - 1), query(0, r));\n    }\n    return query(l, r);\n  }\n}; // Give vector of leaves and merge function\n\ntemplate<class T>\nT merge(T a, T b){\n    int a1 = get<0>(a);\n    int a2 = get<1>(a);\n    int b1 = get<0>(b);\n    int b2 = get<1>(b);\n    if (a1 == -1){\n        return a;\n    }\n    if (b1 == -1){\n        return b;\n    }\n    if (a2 % 2 == 0){\n        if (b1 == a1){\n            return {a1, a2 + b2};\n        }\n        else\n            return {-1, 0};\n    }\n    \n    if (b1 != a1){\n        return {a1, a2 + b2};\n    }\n    else\n        return {-1, 0};\n}\n\nclass Solution {\npublic:\n    int numberOfAlternatingGroups(vector<int>& colors, int k) {\n        vector<tuple<int, int> > v(colors.size());\n        int n = colors.size();\n        for (int i = 0; i < n; i ++){\n            v[i] = {colors[i], 1};\n        }\n        IterativeSegmentTree<tuple<int, int>, merge<tuple<int, int> > > ST(v);\n        int ans = 0;\n        for (int i = 0; i < n; i ++){\n            int last = (i + k - 1) % n;\n            tuple<int, int> A = ST.query2(i, last);\n            if (get<0>(A) != -1)\n                ans ++;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720277338",
    "subm_id": "1311659025"
}