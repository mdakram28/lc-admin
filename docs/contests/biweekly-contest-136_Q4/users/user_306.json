{
    "username": "pranshu177012",
    "submission": "vector<int> v[100003];\nint dp[100003][2];\nmap<int,int> M;\nclass Solution {\npublic:\n    \n    void compare(int l,int x,int i){\n        if(l+dp[i][0]>dp[x][1])dp[x][1]=l+dp[i][0];\n        if(dp[x][1]>dp[x][0])swap(dp[x][1],dp[x][0]);\n        return ;\n    }\n    \n    void compare2(int l,int x,int i){\n        if(l+dp[i][1]>dp[x][1])dp[x][1]=l+dp[i][1];\n        if(dp[x][1]>dp[x][0])swap(dp[x][1],dp[x][0]);\n        return ;\n    }    \n    \n    void dfs(int x,int p=-1){\n        for(auto i:v[x]){\n            if(i==p)continue;\n            dfs(i,x);\n            if(i%2)compare(1,x,i);\n            else compare(2,x,i);\n        }\n        return ;\n    }\n    \n    void dfs1(int x,int p=-1){\n        if(p==-1){\n            for(auto i:v[x])dfs1(i,x);\n            return ;\n        }\n        int killer=dp[x][0],miller=dp[x][1];\n        if(p%2==0){\n            if(dp[x][0]+(x%2?1:2)!=dp[p][0]){\n                compare(2,x,p);\n            }\n            else{\n                compare2(2,x,p);\n            }\n        }\n        else{\n            if(dp[x][0]+(x%2?1:2)!=dp[p][0]){\n                compare(1,x,p);\n            }\n            else{\n                compare2(1,x,p);\n            }\n        }\n        M[x]=dp[x][0];\n        for(auto i:v[x]){\n            if(i==p) continue;\n            dfs1(i,x);\n        }\n        dp[x][0]=killer,dp[x][1]=miller;\n        return ;\n    }\n    \n    vector<int> timeTaken(vector<vector<int> >& edges) {\n        memset(dp,0,sizeof(dp));\n        for(auto i:edges){\n            v[i[0]].push_back(i[1]);\n            v[i[1]].push_back(i[0]);\n        }\n        dfs(0);\n        //cout<<dp[2][0]<<\" \"<<dp[2][1];\n        M[0]=dp[0][0];\n        dfs1(0);\n        vector<int> ans;\n        for(auto i:M){\n            ans.push_back(i.second);\n            v[i.first].clear();\n            dp[i.first][0]=dp[i.first][1]=0;\n        }\n        M.clear();\n        return ans;\n    }\n};",
    "submit_ts": "1722700360",
    "subm_id": "1343239497"
}