{
    "username": "rsha256",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        const int MOD = 1000000007;\n        int n = nums.size();\n        int max_val = *max_element(nums.begin(), nums.end()) + 1;\n\n        vector<int> dp(max_val, 0);\n        vector<int> next_dp(max_val, 0);\n        vector<int> prefix_sum(max_val + 1, 0);\n        \n        for (int v1 = 0; v1 <= nums[0]; ++v1) {\n            dp[v1] = 1;\n        }\n\n        for (int j = 0; j < max_val; ++j) {\n            prefix_sum[j + 1] = (prefix_sum[j] + dp[j]) % MOD;\n        }\n\n        for (int i = 1; i < n; ++i) {\n            fill(next_dp.begin(), next_dp.end(), 0);\n            for (int v1 = 0; v1 <= nums[i]; ++v1) {\n                int v2 = nums[i] - v1;\n                if (nums[i-1] >= v2) {\n                    int sum_valid = (prefix_sum[min(v1+1, nums[i-1]-v2+1)] - prefix_sum[0] + MOD) % MOD;\n                    next_dp[v1] = sum_valid;\n                }\n            }\n            dp.swap(next_dp);\n\n            for (int j = 0; j < max_val; ++j) {\n                prefix_sum[j + 1] = (prefix_sum[j] + dp[j]) % MOD;\n            }\n        }\n\n        int result = 0;\n        for (int val : dp) {\n            result = (result + val) % MOD;\n        }\n\n        return result;\n    }\n};\n",
    "submit_ts": "1723346963",
    "subm_id": "1351588982"
}