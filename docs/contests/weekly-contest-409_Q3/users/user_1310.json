{
    "username": "wei-ji-1",
    "submission": "class Solution:\n    def shortestDistanceAfterQueries(self, n: int, queries: List[List[int]]) -> List[int]:\n        ans = []\n        d = dict()\n        import sortedcontainers\n        a = sortedcontainers.SortedList([])\n        aa = 0\n        for x,y in queries:\n            if len(a) == 0:\n                d[x] = y\n                a.add(x)\n                aa += y - x - 1\n            else:\n                l_idx = a.bisect_left(x)\n                # print(l_idx)\n                if l_idx < len(a) and a[l_idx] == x:\n                    if y > d[x]:\n                        r_idx = a.bisect_left(y)\n                        rs = set()\n                        for i in range(l_idx, r_idx):\n                            yy = d.pop(a[i])\n                            rs.add(a[i])\n                            aa -= yy - a[i] -1\n                        for ss in rs:\n                            a.remove(ss)\n                        d[x] = y\n                        a.add(x)\n                        aa += y - x - 1\n                elif l_idx == 0:\n                    r_idx = a.bisect_left(y)\n                    rs = set()\n                    for i in range(l_idx, r_idx):\n                        yy = d.pop(a[i])\n                        rs.add(a[i])\n                        aa -= yy - a[i] -1\n                    for ss in rs:\n                        a.remove(ss)\n                    d[x] = y\n                    a.add(x)\n                    aa += y - x - 1\n                else:\n                    py = d[a[l_idx-1]]\n                    if py <= x:\n                        r_idx = a.bisect_left(y)\n                        rs = set()\n                        for i in range(l_idx, r_idx):\n                            yy = d.pop(a[i])\n                            rs.add(a[i])\n                            aa -= yy - a[i] -1\n                        for ss in rs:\n                            a.remove(ss)\n                        d[x] = y\n                        a.add(x)\n                        aa += y - x - 1\n                \n            # print(a)\n            # print(d)\n            # print(aa)\n            ans.append(n - 1 - aa)\n        return ans\n                \n                \n            \n            ",
    "submit_ts": "1722743823",
    "subm_id": "552353025"
}