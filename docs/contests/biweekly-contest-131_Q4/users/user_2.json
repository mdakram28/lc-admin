{
    "username": "paigulong",
    "submission": "const int N = 60000 + 10;\nint mx[N<<2];\nvoid update(int l,int r,int rt,int pos,int x){\n    if(l==r){\n        mx[rt]=x; return;\n    }\n    int mid=(l+r)>>1;\n    if(pos<=mid) update(l,mid,rt<<1,pos,x);\n    else update(mid+1,r,rt<<1|1,pos,x);\n    mx[rt]=max(mx[rt<<1],mx[rt<<1|1]);\n}\nint query(int l,int r,int rt,int L,int R){\n    if(L<=l&&r<=R) return mx[rt];\n    int mid=(l+r)>>1;\n    int ans=0;\n    if(L<=mid) ans=max(ans,query(l,mid,rt<<1,L,R));\n    if(R >mid) ans=max(ans,query(mid+1,r,rt<<1|1,L,R));\n    return ans;\n}\n\nclass Solution {\npublic:\n    vector<bool> getResults(vector<vector<int>>& queries) {\n        vector<bool> ans; \n        int n=min(50000, (int)queries.size() * 3);\n        for(int i=0;i<=4*(n+10);i++) mx[i]=0;\n        \n        set<int> pos;\n        \n        int las=1e9;\n        pos.insert(0);\n        pos.insert(las);\n        update(0,n,1,0,las);\n        \n        for(auto q: queries) {\n            if (q[0] == 1) {\n                int x = q[1];\n                auto it = pos.lower_bound(x);\n                int gap = (*it) - x;\n                update(0,n,1,x,gap);\n                //cout<<\"upd \"<<x<<\" \"<<gap<<\"\\n\";\n                it --;\n                gap = x - (*it);\n                //cout<<\"upd \"<<(*it)<<\" \"<<gap<<\"\\n\";\n                update(0,n,1,(*it),gap);\n                pos.insert(x);\n            }else{\n                int x=q[1], sz=q[2];\n                auto it=pos.upper_bound(x);\n                it--;\n                int gap=x-(*it);\n                //cout<<\"gap \"<<gap<<\" \"<<(*it)<<\" \"<<x<<\"\\n\";\n                if(gap>=sz) ans.push_back(true);\n                else {\n                    int p=(*it)-1;\n                    if(p>=0 and query(0,n,1,0,p) >= sz) {\n                        //cout<<\"Q \"<<p<<\" \"<<query(0,n,1,0,p)<<\"\\n\";\n                        ans.push_back(true);\n                    }\n                    else ans.push_back(false);\n                }\n            }\n        }\n        return ans;\n        \n    }\n};",
    "submit_ts": 1716648734.0
}