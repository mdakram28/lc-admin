{
    "username": "temirulan",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& nums) {\n        // dp[i][x]\n        // dp[n][x] = 1\n        // arr1[i] == x\n        // arr2[i] == nums[i] - x\n        // nums[i + 1] >= y >= x\n        // nums[i + 1] - y <= nums[i] - x\n        // nums[i + 1] >= y >= max(x, nums[i + 1] - nums[i] + x)\n        // dp[i][x] += dp[i + 1][y];\n        int n = nums.size();\n        vector<vector<int>> dp(n + 1, vector<int>(1010, 0));\n        vector<vector<int>> pr = dp;\n        const int mod = (int)1e9 + 7;\n        for (int x = 0; x <= nums[n - 1]; x++) {\n            dp[n - 1][x] = 1;\n        }\n        for (int i = 0; i <= 1000; i++) {\n            pr[n - 1][i] = dp[n - 1][i];\n            if (i) pr[n - 1][i] += pr[n - 1][i - 1];\n            if (pr[n - 1][i] >= mod) pr[n - 1][i] -= mod;\n        }\n        for (int i = n - 2; i >= 0; i--) {\n            for (int x = 0; x <= nums[i]; x++) {\n                int &res = dp[i][x];\n                int R = nums[i + 1];\n                int L = max(x, nums[i + 1] - nums[i] + x);\n                if (L <= R) {\n                    res = pr[i + 1][R];\n                    if (L) res -= pr[i + 1][L - 1];\n                    if (res < 0) res += mod;\n                }\n            }\n            for (int x = 0; x <= 1000; x++) {\n                int &cur = pr[i][x];\n                cur = dp[i][x];\n                if (x) cur = (cur + pr[i][x - 1]) % mod;\n            }\n        }\n        int ans = 0;\n        for (int x = 0; x <= nums[0]; x++) ans = (ans + dp[0][x]) % mod;\n        return ans;\n    }\n};",
    "submit_ts": "1723344511",
    "subm_id": "1351536133"
}