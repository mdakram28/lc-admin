{
    "username": "\u84dd\u94f6\u8349\u62a4\u5154\u5b50",
    "submission": "class Solution {\npublic:\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n=board.size(),m=board.front().size();\n        using LL=long long;\n        vector<int>colMaxVal=board.back();\n        vector<LL>maxval0(m,LLONG_MIN/2);\n        LL res=LLONG_MIN;\n        auto Help=[&]()->tuple<int,int,int>{\n            int j0=-1,j1=-1,j2=-1;\n            for(int i=0;i<m;++i)\n            {\n                auto val=colMaxVal[i];\n                if(j0==-1||val>=colMaxVal[j0])\n                {\n                    j2=j1;\n                    j1=j0;\n                    j0=i;\n                }\n                else if(j1==-1||val>=colMaxVal[j1])\n                {\n                    j2=j1;\n                    j1=i;\n                }\n                else if(j2==-1||val>colMaxVal[j2])j2=i;\n            }\n            return {j0,j1,j2};\n        };\n        for(int i=n-3;i>=0;--i)\n        {\n             auto [j0,j1,j2]=Help();\n            for(int j=0;j<m;++j)\n            {\n                LL val0=board[i][j];\n                res=max(res,val0+maxval0[j]);\n                for(int k=0;k<m;++k)\n                {\n                    if(k==j)continue;\n                    LL val1=board[i+1][k];\n                    int tarcol;\n                    if(j0!=j&&j0!=k)tarcol=j0;\n                    else if(j1!=j&&j1!=k)tarcol=j1;\n                    else tarcol=j2;\n                    LL rr=val1+colMaxVal[tarcol];\n                    maxval0[j]=max(maxval0[j],rr);\n                    if(val0+rr>res){\n                    res=max(res,val0+rr);\n                   // cout<<i<<\" \"<<j<<\" \"<<k<<\" \"<<tarcol<<\" \"<<res<<endl;\n                    }\n                }               \n            }\n            for(int j=0;j<m;++j)\n                    colMaxVal[j]=max(colMaxVal[j],board[i+1][j]);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1723910310",
    "subm_id": "556340659"
}