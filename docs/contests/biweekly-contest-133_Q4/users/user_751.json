{
    "username": "prataps801",
    "submission": "class Solution {\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& r) {\n        int cmax=400*n+10,sz=r.size(),mod=1e9+7;\n        vector<int> dp(cmax);\n        sort(r.begin(),r.end());\n        if(r[0][0]==0 && r[0][1]) return 0;\n        dp[0]=1;\n        int idx=(r[0][0]==0);\n        for(int i=1;i<n;++i){\n            int x=0,y=cmax;\n            if(idx<sz && r[idx][0]==i){\n                x=r[idx][1];\n                y=x+1;\n                ++idx;\n            }\n            vector<int> pref(cmax+1);\n            for(int j=0;j<cmax;++j) pref[j+1]=(dp[j]+pref[j])%mod;\n            vector<int> nxt(cmax);\n            for(int c=x;c<y;++c){\n                nxt[c]=(pref[c+1]-pref[max(0,c-i)]+mod)%mod;\n                // for(int j=i;j>=0;--j){\n                //     if(c-(i-j)<0) break;\n                //     dp[i][c]+=dp[i-1][c-(i-j)];\n                //     if(dp[i][c]>=mod) dp[i][c]-=mod;\n                // }\n            }\n            swap(nxt,dp);\n        }\n        // for(auto &v:dp){\n        //     for(auto x:v) cout<< x << \" \"; cout<< \"\\n\" ;\n        // }\n        int ans=0;\n        if(r.back()[0]==n-1) return dp[r.back()[1]];\n        for(int i=0;i<cmax;++i) ans=(ans+dp[i])%mod;\n        return ans;\n    }\n};",
    "submit_ts": "1719069344",
    "subm_id": "1296793881"
}