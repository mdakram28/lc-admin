{
    "username": "log1",
    "submission": "const int MOD=1e9+7;\nclass Solution {\npublic:\n    int numberOfPermutations(int n,vector<vector<int>>& requirements)\n    {\n        unordered_map<int,int>mp=recur(requirements);\n        vector<vector<long long>>dp=sol(n, mp);\n        return calculateResult(dp,n);\n    }\n\nprivate:\n    unordered_map<int,int>recur(vector<vector<int>>& requirements)\n    {\n        unordered_map<int,int>mp;\n        for(auto& it:requirements)\n        {\n            mp[it[0]+1]=it[1];\n        }\n        return mp;\n    }\n\n    vector<vector<long long>>sol(int n,unordered_map<int,int>& mp)\n    {\n        vector<vector<long long>>dp(n+1,vector<long long>(405,0));\n        dp[0][0]=1;\n        for(int i=1;i<=n;++i)\n        {\n            calculate(i,dp),inversions(i,dp,mp);\n        }\n        return dp;\n    }\n    void calculate(int len,vector<vector<long long>>& arr_checker)\n    {\n        for(int i=0;i<405;++i)\n        {\n            for(int j=0;j<len;++j)\n            {\n                int comp=i-j;\n                if(comp>=0)\n                {\n                    arr_checker[len][i]=(arr_checker[len][i]+arr_checker[len-1][comp])%MOD;\n                }\n            }\n        }\n    }\n\n    void inversions(int i,vector<vector<long long>>& dp,unordered_map<int, int>& mp)\n    {\n        if (mp.count(i))\n        {\n            int tmp=mp[i];\n            for(int j=0;j<405;++j)\n            {\n                if(j!=tmp)dp[i][j]=0;\n            }\n        }\n    }\n\n    int calculateResult(vector<vector<long long>>& dp,int n)\n    {\n        long long ans=0;\n        for (auto& it:dp[n])\n        {\n            ans=(ans+it)%MOD;\n        }\n        return (long long)(ans);\n    }\n};",
    "submit_ts": 1719071762.0
}