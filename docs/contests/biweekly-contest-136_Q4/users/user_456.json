{
    "username": "deng-feng-de-gua-niu",
    "submission": "class Solution:\n    def timeTaken(self, edges: List[List[int]]) -> List[int]:\n        # 1 -> 1    0 -> 2\n        # \u6362\u6839 DP\n        n = len(edges) + 1\n        g = [[] for _ in range(n)]\n        for x, y in edges:\n            g[x].append(y)\n            g[y].append(x)\n        \n        times = [0] * n\n        max_time = [None] * n \n        def dfs(x: int, fa: int) -> int:\n            mx = sec = 0\n            for y in g[x]:\n                if y != fa:\n                    t = dfs(y, x) + (1 if y % 2 else 2)\n                    if t > mx:\n                        mx, sec = t, mx\n                    elif t > sec:\n                        sec = t\n            max_time[x] = [mx, sec]\n            return mx\n        times[0] = dfs(0, -1)\n        print(times[0])\n\n        # \u6362\u6839\n        def reroot(x: int, fa: int, time: int) -> None:\n            for y in g[x]:\n                if y != fa:\n                    # \u6839\u8282\u70b9\uff1ax -> y\n                    # y \u5230 x \u7684\u5176\u4ed6\u5b50\u8282\u70b9\u7684\u65f6\u95f4\u90fd\u5ef6\u957f\u4e86 (1 if x % 2 else 2)\n                    # y \u5230 \u9664 x \u4e4b\u5916\u7684\u5b50\u8282\u70b9\u7684\u65f6\u95f4\u90fd\u4e0d\u53d8\n                    tz = max_time[x][0] if max_time[y][0] + (1 if y % 2 else 2) != max_time[x][0] else max_time[x][1]\n                    ty = max(time, tz) + (1 if x % 2 else 2)\n                    times[y] = max(ty, max_time[y][0])\n                    reroot(y, x, ty)\n        reroot(0, -1, 0)\n        return times",
    "submit_ts": "1722699460",
    "subm_id": "552275721"
}