{
    "username": "gamer37",
    "submission": "#define ll long long int\nvector<ll> tree1(400005);\n\nvoid build(ll node,ll s,ll e, vector<int> &nums)\n{\n    if(s==e)\n    {\n        tree1[node]=nums[s];\n    }\n    else\n    {\n        ll mid=(s+e)/2;\n        build(2*node,s,mid,nums);\n        build(2*node+1,mid+1,e,nums);\n\n        tree1[node]=tree1[2*node] & tree1[2*node+1];\n    }\n}\n\nll query(ll node,ll s,ll e,ll l,ll r)\n{\n    if(r<s || e<l)\n    {\n        return (1<<30)-1;\n    }\n    if(l<=s && e<=r)\n    {\n        return tree1[node];\n    }\n    ll mid=(s+e)/2;\n    ll p1=query(2*node,s,mid,l,r);\n    ll p2=query(2*node+1,mid+1,e,l,r);\n    return p1&p2;\n}\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long n=nums.size(),i,low,mid,high,ans=0,poss,mark;\n        for(i=0;i<4*n+3;i++)\n            tree1[i]=(1<<30)-1;\n        build(1,0,n-1,nums);\n        for(i=0;i<n;i++)\n        {\n            low=0,high=i,mid=(low+high)/2,poss=-1;\n            while(low<=high)\n            {\n                int j=query(1,0,n-1,mid,i);\n                if(j>=k)\n                {\n                    poss=mid;\n                    high=mid-1;\n                }\n                else\n                {\n                    low=mid+1;\n                }\n                mid=(low+high)/2;\n            }\n            \n            //cout<<i<<\" \"<<poss<<endl;\n            if(poss!=-1)\n            {\n                low=poss,high=i,mid=(low+high)/2,mark=-1;\n                while(low<=high)\n                {\n                    int j=query(1,0,n-1,mid,i);\n                    if(j==k)\n                    {\n                        low=mid+1;\n                        mark=mid;\n                    }\n                    else\n                    {\n                        high=mid-1;\n                    }\n                    mid=(low+high)/2;\n                }\n                //cout<<\" w\"<<\" \"<<i<<\" \"<<mark<<endl;\n                if(mark!=-1)\n                    ans+=mark-poss+1;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279512",
    "subm_id": "1311754175"
}