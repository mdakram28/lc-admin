{
    "username": "anupam_ghosh",
    "submission": "int ANDD(vector<int> &f,int len){\n    int x=0;\n    for(int i=0;i<31;i++){\n        if(f[i]==len){\n            x|=(1<<i);\n        }\n    }\n    return x;\n}\nvoid add(vector<int> &f,int x){\n    for(int i=0;i<31;i++){\n        if((1<<i)&x){\n            f[i]++;\n        }\n    }\n}\nvoid sub(vector<int> &f,int x){\n    for(int i=0;i<31;i++){\n        if((1<<i)&x){\n            f[i]--;\n        }\n    }\n}\nconst int N=1e5+1;\nint  Seg_Tree[4*N];\n\nvoid build(vector<int> &arr,int x,int l,int r){\n    if(r-l==1){\n        Seg_Tree[x]=arr[l];\n        return ;\n    }\n    int mid=l+(r-l)/2;\n    build(arr,2*x+1,l,mid);\n    build(arr,2*x+2,mid,r);\n    Seg_Tree[x]=(Seg_Tree[2*x+1]&Seg_Tree[2*x+2]);\n}\nint query(int x,int a,int b,int l,int r){\n   \n    if(a>=r || b<=l){\n        return -1;\n    }\n    else if(a<=l && b>=r){\n        return Seg_Tree[x];\n    }\n    int mid=l+(r-l)/2;\n    auto left=query(2*x+1,a,b,l,mid);\n    auto right=query(2*x+2,a,b,mid,r);\n    return (left&right);\n}\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& arr, int k) {\n        long long res=0;\n        int n=arr.size();\n        build(arr,0,0,n);\n        for(int i=0;i<n;i++){\n            // if((arr[i]&k)!=k)continue ;\n            int l=i,h=n-1,m;\n            while(l<=h){\n                m=(l+h)/2;\n                int x=query(0,i,m+1,0,n);\n                // cout<<i<<\"\\t\"<<m<<'\\t'<<x<<'\\n';\n                if(x>k){\n                    l=m+1;\n                }\n                else{\n                    h=m-1;\n                }\n            }\n        \n            int L=l;\n            h=n-1;\n            while(l<=h){\n                m=(l+h)/2;\n                int x=query(0,i,m+1,0,n);\n                if(x>=k){\n                    l=m+1;\n                }\n                else{\n                    h=m-1;\n                }\n            }\n            // cout<<i<<'\\t'<<l<<'\\t'<<L<<'\\n';\n            res+=(l-L);\n        }\n        return res;\n        \n        \n       \n    }\n};\n//[0,2,8,7,6]\n//5\n// [0,0,4,6,2]\n// 6",
    "submit_ts": "1720280997",
    "subm_id": "1311809506"
}