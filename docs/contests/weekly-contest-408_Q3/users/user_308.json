{
    "username": "MaxFeldman1",
    "submission": "class Solution {\npublic:\n    int numberOfSubstrings(string s) {\n        uint t0 = 0;\n        uint t1 = 0;\n        vector<uint> tally_zeroes(s.length()+1, 0);\n        vector<uint> tally_ones(s.length()+1, 0);\n        for(int i = 0; i < s.length(); ++i) {\n            if (s[i] == '0') {\n                t0++;\n            }\n            else if (s[i] == '1') {\n                t1++;\n            }\n            tally_zeroes[i+1] = t0;\n            tally_ones[i+1] = t1;\n        }\n        int ret = 0;\n        \n        for (int i = 0; i < s.length(); ++i) {\n            for (\n                int j = i+1;\n                j < s.length()+1;\n            ) {\n                \n                uint ones = tally_ones[j]-tally_ones[i];\n                uint zeroes = tally_zeroes[j]-tally_zeroes[i];\n                if (ones >= zeroes*zeroes) {\n                    // ones >= zeroes**2\n\n                    // min x s.t.\n                    // ones < (zeroes+x)**2\n                    // sqrt(ones) < zeroes+x\n                    // sqrt(ones)-zeroes < x\n                    int x = floor(sqrt(ones))-zeroes;\n                    x = x < 1 ? 1 : x;\n                    if (j+x > s.length()) {\n                        // j+x == s.length()+1\n                        x = s.length()+1-j;\n                    }\n                    ret += x;\n                    j += x;\n                }\n                else {\n                    j += zeroes*zeroes-ones;\n                }\n            }\n        }\n        return ret;\n    }\n};",
    "submit_ts": "1722138345",
    "subm_id": "1335788391"
}