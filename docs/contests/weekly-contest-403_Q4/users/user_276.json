{
    "username": "audience-ne",
    "submission": "class Solution {\npublic:\n    int f[31][31][31][31];\n    int minimumSum(vector<vector<int>>& grid) {\n        int n=grid.size(),m=grid[0].size();\n        memset(f,0x3f,sizeof(f));\n        auto fun=[&](int x1,int y1,int x2,int y2)->int{\n            if(f[x1][y1][x2][y2]<1000) return f[x1][y1][x1][y2];\n            int min_val[2]={1000000,10000000};\n            int max_val[2]={0,0};\n            bool tag=0;\n            for(int i=x1;i<=x2;i++){\n                for(int j=y1;j<=y2;j++){\n                    if(grid[i][j]){\n                        tag=1; \n                        min_val[0]=min(min_val[0],i);\n                        min_val[1]=min(min_val[1],j);\n                        max_val[0]=max(max_val[0],i);\n                        max_val[1]=max(max_val[1],j);\n                    }\n                }\n            }\n            if(!tag) return f[x1][y1][x1][y2]=1e7;\n            return f[x1][y1][x1][y2]=(max_val[0]-min_val[0]+1)*(max_val[1]-min_val[1]+1);\n        };\n        int ans=1e9;\n        for(int i=0;i<n-1;i++){\n            for(int j=0;j<m-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,n-1,j)+fun(i+1,j+1,n-1,m-1));\n            }\n            for(int j=i+1;j<n-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,j,m-1)+fun(j+1,0,n-1,m-1));\n            }\n        }\n        for(int i=0;i<m-1;i++){\n            for(int j=0;j<n-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,j,m-1)+fun(j+1,i+1,n-1,m-1));\n            }\n            for(int j=i+1;j<m-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,n-1,j)+fun(0,j+1,n-1,m-1));\n            }\n            \n        }\n        reverse(grid.begin(),grid.end());\n        memset(f,0x3f,sizeof(f));\n        for(int i=0;i<n-1;i++){\n            for(int j=0;j<m-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,n-1,j)+fun(i+1,j+1,n-1,m-1));\n            }\n            for(int j=i+1;j<n-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,j,m-1)+fun(j+1,0,n-1,m-1));\n            }\n        }\n        for(int i=0;i<m-1;i++){\n            for(int j=0;j<n-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,j,m-1)+fun(j+1,i+1,n-1,m-1));\n            }\n            for(int j=i+1;j<m-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,n-1,j)+fun(0,j+1,n-1,m-1));\n            }\n            \n        }reverse(grid.begin(),grid.end());\n        memset(f,0x3f,sizeof(f));\n        for(auto&it:grid) reverse(it.begin(),it.end());\n        for(int i=0;i<n-1;i++){\n            for(int j=0;j<m-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,n-1,j)+fun(i+1,j+1,n-1,m-1));\n            }\n            for(int j=i+1;j<n-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,j,m-1)+fun(j+1,0,n-1,m-1));\n            }\n        }\n        for(int i=0;i<m-1;i++){\n            for(int j=0;j<n-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,j,m-1)+fun(j+1,i+1,n-1,m-1));\n            }\n            for(int j=i+1;j<m-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,n-1,j)+fun(0,j+1,n-1,m-1));\n            }\n        }\n        reverse(grid.begin(),grid.end());\n        memset(f,0x3f,sizeof(f));\n        for(auto&it:grid) reverse(it.begin(),it.end());\n                for(int i=0;i<n-1;i++){\n            for(int j=0;j<m-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,n-1,j)+fun(i+1,j+1,n-1,m-1));\n            }\n            for(int j=i+1;j<n-1;j++){\n                ans=min(ans,fun(0,0,i,m-1)+fun(i+1,0,j,m-1)+fun(j+1,0,n-1,m-1));\n            }\n        }\n        for(int i=0;i<m-1;i++){\n            for(int j=0;j<n-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,j,m-1)+fun(j+1,i+1,n-1,m-1));\n            }\n            for(int j=i+1;j<m-1;j++){\n                ans=min(ans,fun(0,0,n-1,i)+fun(0,i+1,n-1,j)+fun(0,j+1,n-1,m-1));\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1719112878",
    "subm_id": "541394726"
}