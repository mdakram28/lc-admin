{
    "username": "vitalbit",
    "submission": "public class Solution {\n    public int MinChanges(int[] nums, int k) {\n        Dictionary<int, int> dict = new Dictionary<int, int>();\n        for (int i = 0; i < nums.Length / 2; i++)\n        {\n            int diff = Math.Abs(nums[i] - nums[nums.Length - i - 1]);\n            if (!dict.ContainsKey(diff))\n            {\n                dict.Add(diff, 0);\n            }\n            dict[diff]++;\n        }\n        \n        KeyValuePair<int, int>[] sortedDiff = new KeyValuePair<int, int>[dict.Count];\n        int sIndex = 0;\n        foreach (var kvp in dict)\n        {\n            sortedDiff[sIndex] = kvp;\n            ++sIndex;\n        }\n        Array.Sort(sortedDiff, (x, y) => y.Value.CompareTo(x.Value));\n        \n        int answer = 0;\n        bool runOnce = false;\n        sIndex = 0;\n        for (; sIndex < sortedDiff.Length; sIndex++)\n        {\n            int posAnswer = nums.Length / 2 - sortedDiff[sIndex].Value;\n            //Console.WriteLine(answer + \" \" + posAnswer);\n            if (runOnce && answer <= posAnswer)\n            {\n                break;\n            }\n            \n            int maxDiff = sortedDiff[sIndex].Key;\n            int currAnswer = 0;\n            for (int i = 0; i < nums.Length / 2; i++)\n            {\n                int diff = Math.Abs(nums[i] - nums[nums.Length - i - 1]);\n                if (diff != maxDiff)\n                {\n                    int minVal = Math.Min(nums[i], nums[nums.Length - i - 1]);\n                    int maxVal = Math.Max(nums[i], nums[nums.Length - i - 1]);\n                    int toUpdate = maxDiff - diff;\n                    if (toUpdate > 0)\n                    {\n                        if (minVal - toUpdate >= 0 || maxVal + toUpdate <= k)\n                        {\n                            ++currAnswer;\n                        }\n                        else\n                        {\n                            currAnswer += 2;\n                        }\n                    }\n                    else\n                    {\n                        if (minVal - toUpdate <= k || maxVal + toUpdate >= 0)\n                        {\n                            ++currAnswer;\n                        }\n                        else\n                        {\n                            currAnswer += 2;\n                        }\n                    }\n                }\n            }\n            if (runOnce)\n            {\n                answer = Math.Min(answer, currAnswer);\n            }\n            else\n            {\n                answer = currAnswer;\n                runOnce = true;\n            }\n        }\n        return answer;\n    }\n}",
    "submit_ts": "1721489093",
    "subm_id": "1327442631"
}