{
    "username": "rony10",
    "submission": "class Solution {\npublic:\n\n\n    int binK(int i,int j,int n,vector<vector<int>>&bits){\n         \n\n         int low=i,high=n-1;\n         int val=0;\n         while(low<=high){\n            int mid=low+(high-low)/2;\n\n            if(bits[mid][j]-bits[i][j]==mid-i){\n                 val=max(val,mid-i+1);\n                 low=mid+1;\n            }\n            else{\n                high=mid-1;\n            }\n         }\n\n         return val;\n    }\n\n    int Kmx(int i,int j,int n,vector<vector<int>>&bits){\n         \n\n         int low=i,high=n-1;\n         int val=n;\n         while(low<=high){\n            int mid=low+(high-low)/2;\n\n            if(bits[mid][j]-bits[i][j]==mid-i){\n                 low=mid+1;\n            }\n            else{\n                val=min(val,mid-i);\n                high=mid-1;\n            }\n         }\n\n         return val;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n         \n         int n=nums.size();\n\n\n         vector<vector<int>> bits(n,vector<int>(32,0));\n\n         for(int i=0;i<n;i++){\n\n             for(int j=0;j<32;j++){\n                 int c=(1LL<<j);\n\n                 if((nums[i]&c)>0) bits[i][j]++;\n\n                 if(i>0) bits[i][j]+=bits[i-1][j];\n             }\n         }\n\n\n         long long sum=0;\n\n         for(int i=0;i<n;i++){\n\n             if((nums[i]&k)==k){\n                  int kMin=n;\n                  int lngMax=0;\n\n                  for(int j=0;j<32;j++){\n                      int c=(1LL<<j);\n\n                      if((k&c)>0){\n                          kMin=min(kMin,binK(i,j,n,bits));\n                      }\n                      else if((nums[i]&c)>0){\n                          lngMax=max(lngMax,Kmx(i,j,n,bits));\n                      }\n                  }\n\n                  \n\n                  if(kMin<lngMax && k!=0) continue;\n                  else if(k==0){\n                       int rem=n-i;\n                       if(lngMax==n) continue;\n                       sum+=rem-lngMax;\n                  }\n                  else sum+=(kMin-lngMax);\n             }\n         }\n\n         return sum;\n    }\n};",
    "submit_ts": "1720280180",
    "subm_id": "1311779787"
}