{
    "username": "shobhitsinghal123",
    "submission": "class Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long ans=0;\n        int n=nums.size();\n        vector<vector<int> > c(n,vector<int>(40,0));\n        int start=-1,end=-1;\n        for(int i=0;i<n;i++)\n        {\n            for(int j=0;j<40;j++)\n            {\n                if((1ll<<j)&nums[i])\n                    c[i][j]=1;\n                if(i>0)\n                    c[i][j]+=c[i-1][j];\n            }\n            if((nums[i]&k)==k)\n            {\n                if(start==-1)\n                {\n                    start=i;\n                    end=i;\n                }\n                else\n                    end++;\n            }else\n            {\n                if(start>-1)\n                func(start,end,c,k,ans);\n                start=-1;\n                end=-1;\n            }\n        }\n         if(start>-1)\n             \n             func(start,end,c,k,ans);\n        return ans;\n    }\n    void func(int start,int end,vector<vector<int> > &c,int k, long long &ans)\n    {\n        int mid;\n        for(int i=start;i<=end;i++)\n        {\n            int pos=-1;\n            int l=i,r=end;\n            while(l<=r)\n            {\n                mid=(l+r)/2;\n                int count=mid-i+1,num=0;\n                for(int j=0;j<40;j++)\n                {\n                    int x=c[mid][j];\n                    if(i>0)\n                        x-=c[i-1][j];\n                    if(x==count)\n                        num+=(1ll<<j);\n                    \n                }\n                if(num==k)\n                {\n                    pos=mid;\n                    r=mid-1;\n                }\n                else\n                    l=mid+1;\n                    \n            }\n            if(pos>-1)\n            ans+=end-pos+1;\n            //cout<<ans;\n        }\n    }\n};",
    "submit_ts": "1720278753",
    "subm_id": "1311722758"
}