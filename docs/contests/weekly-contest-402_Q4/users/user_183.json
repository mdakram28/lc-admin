{
    "username": "sumon_1212",
    "submission": "#include <bits/stdc++.h>\n#include <ext/pb_ds/assoc_container.hpp>\n#include <ext/pb_ds/tree_policy.hpp>\nusing namespace __gnu_pbds;\n#define ll long long int\ntypedef tree<ll, null_type, less<ll>, rb_tree_tag, tree_order_statistics_node_update> pbds;\nclass Solution {\npublic:\n    vector<int> countOfPeaks(vector<int>& nums, vector<vector<int>>& queries) {\n        pbds s;\n        for(int i=1;i<nums.size()-1;i++)\n        {\n            if(nums[i]>nums[i-1]&&nums[i]>nums[i+1])\n            {\n                s.insert(i);\n            }\n        }\n        vector<int>v;\n        for(auto a:queries)\n        {\n            if(a[0]==1)\n            {\n                if(a[2]-a[1]<=1)\n                {\n                    v.push_back(0);\n                    continue;\n                }\n                v.push_back(s.order_of_key(a[2])-s.order_of_key(a[1]+1));\n            }\n            else\n            {\n                nums[a[1]]=a[2];\n                for(int i=max(1,a[1]-1);i<=min((int)nums.size()-2,a[1]+1);i++)\n                {\n                    if(nums[i]>nums[i-1]&&nums[i]>nums[i+1])\n                    {\n                        s.insert(i);\n                    }\n                    else\n                    {\n                        s.erase(i);\n                    }\n                }\n            }\n        }\n        return v;\n    }\n};",
    "submit_ts": 1718506692.0
}