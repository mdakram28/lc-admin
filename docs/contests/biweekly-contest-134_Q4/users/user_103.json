{
    "username": "bitoy",
    "submission": "class Solution {\npublic:\n\t#define ls (o << 1)\n\t#define rs (o << 1 | 1)\n\t#define mid ((l + r) >> 1)\n\tint tr[400010];\n\tvoid build(int o, int l, int r, vector<int>& a) {\n\t\tif (l == r) {\n\t\t\ttr[o] = a[l];\n\t\t\treturn;\n\t\t}\n\t\tbuild(ls, l, mid, a);\n\t\tbuild(rs, mid + 1, r, a);\n\t\ttr[o] = tr[ls] & tr[rs];\n\t}\n\tint query(int o, int l, int r, int ql, int qr) {\n\t\tif (ql <= l && r <= qr) {\n\t\t\treturn tr[o];\n\t\t}\n\t\tint res = INT_MAX;\n\t\tif (ql <= mid)\n\t\t\tres &= query(ls, l, mid, ql, qr);\n\t\tif (qr > mid)\n\t\t\tres &= query(rs, mid + 1, r, ql, qr);\n\t\treturn res;\n\t}\n    long long countSubarrays(vector<int>& a, int k) {\n\t\tint n = a.size();\n\t\tbuild(1, 0, n - 1, a);\n\t\tlong long res = 0;\n\t\tfor(int i=0;i<n;++i) {\n\t\t\tint l = i, r = n;\n\t\t\twhile(l < r) {\n\t\t\t\tint m = (l + r) >> 1;\t\n\t\t\t\tif (query(1, 0, n - 1, i, m) < k) {\n\t\t\t\t\tr = m;\n\t\t\t\t} else {\n\t\t\t\t\tl = m + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint rr = l;\n\t\t\tl = i, r = n;\n\t\t\twhile(l < r) {\n\t\t\t\tint m = (l + r) >> 1;\t\n\t\t\t\tif (query(1, 0, n - 1, i, m) <= k) {\n\t\t\t\t\tr = m;\n\t\t\t\t} else {\n\t\t\t\t\tl = m + 1;\n\t\t\t\t}\n\t\t\t}\n\t\t\tint ll = l;\n\t\t\tres += rr - ll;\n\t\t}\n\t\treturn res;\n    }\n};",
    "submit_ts": "1720277886",
    "subm_id": "544559377"
}