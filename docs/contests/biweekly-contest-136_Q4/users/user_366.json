{
    "username": "mananghetia",
    "submission": "class Solution {\npublic:\n    vector<int> sub,ans;\n    vector<vector<int>> g;\n    int n;\n    void fn(int x=0,int par=-1)\n    {\n        sub[x]=0;\n        for(int u:g[x])\n        {\n            if(u!=par)\n            {\n                fn(u,x);\n                if(u%2==0)\n                    sub[x]=max(sub[x],sub[u]+2);\n                else \n                    sub[x]=max(sub[x],sub[u]+1);\n            }\n        }\n    }\n    void reroot(int x=0,int par=-1)\n    {\n        // cout<<x<<endl;\n        // for(int i=0;i<n;i++)\n        //     cout<<sub[i]<<\" \";cout<<endl;\n        ans[x]=sub[x];\n        set<pair<int,int>> s;\n        for(int u:g[x])\n        {\n            if(u!=par)\n            {\n                int temp=sub[u]+((u%2==1)?1:2);\n                s.insert({-temp,u});\n            }\n        }\n        for(int u:g[x])\n        {\n            if(u!=par)\n            {\n                int tempu=sub[u]+((u%2==1)?1:2),tempsubx=sub[x],tempsubu=sub[u];\n                s.erase(s.find({-tempu,u}));\n                if(s.empty())\n                    sub[x]=0;\n                else \n                {\n                    sub[x]=-s.begin()->first;\n                }\n                if(par!=-1)\n                {\n                    sub[x]=max(sub[x],sub[par]+((par%2==1)?1:2));\n                }\n                sub[u]=max(sub[u],sub[x]+((x%2==1)?1:2));\n                reroot(u,x);\n                sub[x]=tempsubx;\n                sub[u]=tempsubu;\n                s.insert({-tempu,u});\n            }\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        n=edges.size()+1;\n        sub.resize(n,0);\n        ans.resize(n,0);\n        g.resize(n,vector<int>());\n        for(auto it:edges)\n        {\n            int u=it[0],v=it[1];\n            g[u].push_back(v);\n            g[v].push_back(u);\n        }\n        fn();\n        \n        reroot();\n        return ans;\n    }\n};",
    "submit_ts": "1722700685",
    "subm_id": "1343249566"
}