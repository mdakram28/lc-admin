{
    "username": "Bhaskara_XD",
    "submission": "#define ll long long\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& nums, int k) {\n        ll n=nums.size();\n        vector<vector<int>> dp(n+5,vector<int>(35));\n        for(int i=0; i<33; i++){ dp[n][i]=-1;}\n        for(int i=n-1; i>=0; i--){\n            for(int j=0; j<32; j++){\n                if(nums[i]&(1<<j)){\n                    dp[i][j]=dp[i+1][j];\n                }else{\n                    dp[i][j]=i;\n                }\n            }\n        }\n        ll ans=0;\n        vector<int> req(33);\n        for(int i=0; i<32; i++){\n            req[i]=k&(1<<i);\n        }\n        int left,right;\n        int curleft,curright;\n        for(int i=0; i<n; i++){\n            curleft=i;\n            curright=n-1;\n            int j;\n            for(j=0; j<32 && (curleft<=curright); j++){\n                if(req[j]){\n                    if((nums[i]&(1<<j)) == 0) break;\n                    left=i;\n                    if(dp[i][j]==-1) right=n-1;\n                    else right=dp[i][j]-1;\n                }else{\n                    if(dp[i][j]==-1) break;\n                    left=dp[i][j];\n                    right=n-1;\n                }\n                curleft=max(curleft,left);\n                curright=min(curright,right);\n            }\n            // cout<<j<<\"\\n\";\n            if(j!=32) continue;\n            if(curleft<=curright){\n                // cout<<i<<\"-\"<<curleft<<\";\"<<curright<<\"\\n\";\n                ans+=((1LL*curright)-(1LL*curleft)+1);\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279542",
    "subm_id": "1311755348"
}