{
    "username": "Jashwanth Reddy",
    "submission": "class Solution {\npublic:\n    typedef long long ll;\n    typedef pair<int,int> pii;\n    ll solve(int ind,int prev1,int prev2,int num,vector<vector<pii>>& arr,vector<vector<vector<ll>>> &dp){\n        if(num==0) return 0;\n        if(ind>=arr.size()){\n            return -4e9;\n        }\n        if(dp[ind][prev1+1][prev2+1]!=-1){\n            return dp[ind][prev1+1][prev2+1];\n        }\n        ll ans = -4e9;\n        for(int i=0;i<3;i++){\n            if(arr[ind][i].second!=prev1 && arr[ind][i].second!=prev2){\n                if(prev1==-1){\n                    ans = max(ans,arr[ind][i].first + solve(ind+1,arr[ind][i].second,prev2,num-1,arr,dp));\n                }else{\n                    ans = max(ans,arr[ind][i].first + solve(ind+1,prev1,arr[ind][i].second,num-1,arr,dp));\n                }\n            }\n        }\n        ans = max(ans,solve(ind+1,prev1,prev2,num,arr,dp));\n        return dp[ind][prev1+1][prev2+1] = ans;\n    }\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size();\n        int m = board[0].size();\n        // vector<vector<vector<ll>>> dp(n,vector<vector<ll>>(m+1,vector<ll>(m+1,-1)));\n        vector<vector<pii>> arr(n);\n        priority_queue<pii,vector<pii>,greater<pii>> pq;\n        for(int i=0;i<n;i++){\n            for(int j=0;j<m;j++){\n                pq.push({board[i][j],j});\n                if(pq.size()>3){\n                    pq.pop();\n                }\n            }\n            while(!pq.empty()){\n                auto top = pq.top();\n                pq.pop();\n                arr[i].push_back({top.first,top.second});\n            }\n        }\n        ll ans = -4e9;\n        for(int i=0;i<n-2;i++){\n            for(int c1 = 0;c1<3;c1++){\n                int col1 = arr[i][c1].second;\n                int num1 = arr[i][c1].first;\n                for(int j=i+1;j<n-1;j++){\n                    for(int c2 = 0;c2 < 3;c2++){\n                        if(arr[j][c2].second!=col1){\n                            int col2 = arr[j][c2].second;\n                            int num2 = arr[j][c2].first;\n                            for(int k=j+1;k<n;k++){\n                                for(int c3=0;c3<3;c3++){\n                                    int col3 = arr[k][c3].second;\n                                    int num3 = arr[k][c3].first;\n                                    if(col3!=col1 && col3!=col2){\n                                        ans = max(ans,1LL*num1+1LL*num2+1LL*num3);\n                                    }\n                                }\n                            }\n                        }\n                    }\n                }\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723910110",
    "subm_id": "1359217766"
}