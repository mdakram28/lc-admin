{
    "username": "_nyaruko",
    "submission": "class Solution {\npublic:\n    using pii = pair<int, int>;\n    long long maximumValueSum(vector<vector<int>>& board) {\n        int n = board.size();\n        int m = board[0].size();\n        set<pair<long long, vector<pii> > > sol1, sol2;\n        long long ans = -1e16;\n\n        auto intersect = [](vector<pii> &a, vector<pii> &b) {\n            for (pii i : a) {\n                for (pii j : b) {\n                    if (i.first == j.first || i.second == j.second) {\n                        return 1;\n                    }\n                }\n            }\n            return 0;\n        };\n\n        for (int i = 0; i < n; ++i) {\n            set<pair<long long, vector<pii> > > tosol2;\n            set<pair<long long, vector<pii> > > tosol1;\n            for (int j = 0; j < m; ++j) {\n                vector<pii> z = {{i, j}};\n                for (auto k : sol2) {\n                    if (!intersect(k.second, z)) {\n                        ans = max(ans, board[i][j] + k.first);\n                    }                     \n                }\n                for (auto k : sol1) {\n                    if (!intersect(k.second, z)) {\n                        auto f = k.second;\n                        f.push_back({i, j});\n                        tosol2.insert({k.first + board[i][j], f});\n                    }\n                }    \n                while (tosol2.size() > 10) {\n                    tosol2.erase(tosol2.begin());\n                }\n                tosol1.insert({board[i][j], z});\n                while (tosol1.size() > 6) {\n                    tosol1.erase(tosol1.begin());\n                }\n            }\n            sol1.insert(tosol1.begin(), tosol1.end());\n            sol2.insert(tosol2.begin(), tosol2.end());\n            while (sol1.size() > 15) {\n                sol1.erase(sol1.begin());\n            }\n            while (sol2.size() > 30) {\n                sol2.erase(sol2.begin());\n            }\n\n            \n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723907421",
    "subm_id": "1359106792"
}