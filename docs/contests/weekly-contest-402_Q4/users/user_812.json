{
    "username": "AminFahiminia",
    "submission": "from sortedcontainers import SortedList\nclass Solution:\n    def countOfPeaks(self, nums: List[int], queries: List[List[int]]) -> List[int]:\n        sl = SortedList()\n        ret = []\n        N = len(nums)\n        for i in range(1,N-1):\n            if nums[i] > nums[i-1] and nums[i] > nums[i+1]:\n                sl.add(i)\n        \n        for o,l,r in queries:\n            if o == 1:\n                if r - l <= 1:\n                    ret.append(0)\n                else:\n                    ret.append(sl.bisect_left(r) - sl.bisect_right(l))\n            else:\n                nums[l] = r\n                for d in [-1,0,1]:\n                    if d + l in sl:\n                        sl.remove(l+d)\n                for d in [-1,0,1]:\n                    if 1 <= d + l < N - 1:\n                        if nums[d+l] > nums[d+l+1] and nums[d+l] > nums[d+l-1]:\n                            sl.add(l+d)\n        return ret",
    "submit_ts": 1718507632.0
}