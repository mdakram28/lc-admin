{
    "username": "ayush_2800",
    "submission": "\nclass Solution {\npublic:\n    unordered_map<int,vector<int>>ma;\n    unordered_map<int,int>ml;\n    int dfs(vector<vector<int>>&a,vector<int>&vis,int cur,vector<int>&v){\n        // v[cur]=time;\n        vis[cur]=1;\n        vector<int>z;\n        \n        for(int i:a[cur]){\n            if(vis[i]==0){\n                if(i%2)\n                z.push_back(dfs(a,vis,i,v)+1);\n                else\n                z.push_back(dfs(a,vis,i,v)+2);\n            }\n        }\n        vector<int>u=z;\n        if(z.size()==0) return ml[cur]=0;\n        vector<int>pre;\n        pre.push_back(0);\n        for(int i=1;i<z.size();i++){\n            pre.push_back(max(pre[i-1],z[i-1]));\n        }\n        vector<int>post(z.size());\n        post[z.size()-1]=0;\n        for(int i=z.size()-2;i>=0;i--){\n            post[i]=max(post[i+1],z[i+1]);\n        }\n        for(int i=0;i<u.size();i++){\n            u[i]=max(post[i],pre[i]);\n        }\n        ma[cur]=u;\n        return ml[cur]=*max_element(z.begin(),z.end());\n    }\n    void dff(vector<vector<int>>&a,vector<int>&vis,vector<int>&dp,int cur,int m,int par){\n        vis[cur]=1;\n        vector<int>u=ma[cur];\n        if(par==-1){\n            dp[cur]=ml[cur];\n        }\n        else\n        dp[cur]=max(ml[cur],m+((par%2)?1:2));\n        int k=0;\n        for(int i:a[cur]){\n            if(vis[i]==0){\n                if(par==-1){\n                    dff(a,vis,dp,i,u[k],cur);\n                }\n                else\n                dff(a,vis,dp,i,max(u[k],m+((par%2)?1:2)),cur);\n                 k++;\n            }\n           \n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& e) {\n        vector<vector<int>>a(e.size()+1);\n        for(int i=0;i<e.size();i++){\n            a[e[i][0]].push_back(e[i][1]);\n            a[e[i][1]].push_back(e[i][0]);\n        }\n        vector<int>vis(a.size());\n        vector<int>v(a.size());\n        int u=dfs(a,vis,0,v);\n        vector<int>dp(a.size());\n        fill(vis.begin(),vis.end(),0);\n        dff(a,vis,dp,0,0,-1);\n        return dp;\n    }\n};",
    "submit_ts": "1722700312",
    "subm_id": "1343238037"
}