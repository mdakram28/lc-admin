{
    "username": "anand1239",
    "submission": "#include<bits/stdc++.h>\n#include<ext/pb_ds/tree_policy.hpp>\n#include<ext/pb_ds/assoc_container.hpp>\nusing namespace std;\nusing namespace __gnu_pbds;\n\n#define ll long long int\n#define vll vector<ll>\n#define vii vector<int>\n#define vbb vector<bool>\n// #define mod 1000000007 // 998244353 //\n#define mod 998244353 \n\n#define pb emplace_back\n#define desend(x) greater<x>()\n#define srt(v) sort(v.begin(),v.end())\n#define all(x) x.begin(),x.end()\n#define rvs(x) reverse(x.begin(),x.end())\n#define Input(x) for(auto &n:x) cin>>n; \n#define Output(x) { for(auto &n:x) cout<<n<<\" \"; cout<<\"\\n\"; }\n#define to_number(x) stoi(x)\n#define isnumber(s) { for(auto it:s){ if(!isdigit(it))return false; } return true; }\n#define yes {cout<<\"YES\\n\";return;}\n#define no {cout<<\"NO\\n\";return;}\n#define ret(n) {cout<<n<<'\\n';return;}\n#define trueFalse(x) { if(x)yes else no }\n#define sz(x) (x).size()\n#define len(s) (s).size()\n#define vt vector\n#define mp make_pair\n#define mt make_tuple\n#define gcd(x,y) __gcd(x,y)\nusing pii = pair<int, int>;\nusing pli = pair<ll, int>;\nusing pll = pair<ll, ll>;\n#define set_bit_count(n) __builtin_popcount(n)\n#define lcm(x,y) ((x*y)/gcd(x,y))\n#define MSB(n) {int ans=0; while(n)ans++,n>>=1; return ans;}\n\nll powm(ll x,ll y){\n\tx%=mod;\n\tif(y==0)return 1ll;\n\tll ans=powm(x,y/2);\n\tans*=ans;\n\tif(ans>=mod)ans%=mod;\n\tif(y%2)ans*=x;\n\treturn (ans%mod);\n}\n\ntypedef tree<\n  int,\n  null_type,\n  less<int>,\n  rb_tree_tag,\n  tree_order_statistics_node_update>ordered_set;\n\n\nclass Modified_segTree{\n\tpublic:\n\t\tvector<int> sTree;\n\t\tvii a;\n\t\tint n;\n\n\t\tModified_segTree(vii a){\n\t\t\tthis->a=a;\n\t\t\tn=a.size();\n\t\t}\n\t\tstring combine(string s1,string s2){\n\t\t\tfor(auto ch:s2){\n\t\t\t\tif(s1.find(ch)==string::npos)s1+=ch;\n\t\t\t}\n\t\t\treturn s1;\n\t\t}\n\t\tvoid make_tree(int v,int l,int r){\n\t\t\tif(l==r){\n\t\t\t\tsTree[v]=a[l];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tint mid=(l+r)/2;\n\t\t\tmake_tree(2*v+1,l,mid);\n\t\t\tmake_tree(2*v+2,mid+1,r);\n\t\t\tsTree[v]=sTree[2*v+1]&sTree[2*v+2];\n\t\t}\n\t\tvoid build(){\n\t\t\tsTree.clear();\n\t\t\tsTree.resize(4*n);\n\t\t\tmake_tree(0,0,n-1);\n\t\t}\n\t\tvoid modify(int v,int l,int r,int pos){\n\t\t\tif(l==r){\n\t\t\t\tsTree[v]=a[l];\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tint mid=(l+r)/2;\n\t\t\tif(pos<=mid)modify(2*v+1,l,mid,pos);\n\t\t\telse modify(2*v+2,mid+1,r,pos);\n\t\t\tsTree[v]=sTree[2*v+1]&sTree[2*v+2];\n\t\t}\n\t\tvoid update(int pos,char val){\n\t\t\ta[pos]=val;\n\t\t\tmodify(0,0,n-1,pos);\n\t\t}\n\t\tint find_value(int v,int l,int r,int st,int ed){\n\t\t\tif((l==st)&&(r==ed))return sTree[v];\n\t\t\tint mid=(l+r)/2;\n\t\t\tif(ed<=mid)return find_value(2*v+1,l,mid,st,ed);\n\t\t\tif(st>mid)return find_value(2*v+2,mid+1,r,st,ed);\n\t\t\treturn (find_value(2*v+1,l,mid,st,mid)&find_value(2*v+2,mid+1,r,mid+1,ed));\n\t\t}\n\t\tint get_value(int l,int r){\n\t\t\treturn find_value(0,0,n-1,l,r);\n\t\t}\n};\n\n\n\nclass Solution {\npublic:\n    int maximumLength(vector<int>& a, int k) {\n        int n=sz(a),i,j,kk;\n\t\tunordered_map<int,int> p;\n\t\tvt<vt<vii>> dp(n,vt<vii>(k+1,vii(2,0)));\n\t\tfor(j=0;j<=k;j++)dp[0][j][1]=1;\n\t\tp[a[0]]=0;\n\t\tfor(i=1;i<n;i++){\n\t\t\tint ind=-1;\n\t\t\tif(p.count(a[i]))ind=p[a[i]];\n\t\t\tdp[i][0][1]=1+(ind==-1?0:dp[ind][0][1]);\n\t\t\tfor(j=0;j<=k;j++){\n\t\t\t\tdp[i][j][0]=max(dp[i-1][j][0],dp[i-1][j][1]);\n\t\t\t\tif(j)dp[i][j][1]=1+max({dp[i-1][j-1][0],dp[i-1][j-1][1],(int)(ind==-1?0:dp[ind][j][1])});\n\t\t\t}\n\t\t\tp[a[i]]=i;\n\t\t}\n\t\tint ans=0;\n\t\tfor(i=0;i<n;i++)for(j=0;j<=k;j++)for(kk=0;kk<2;kk++)ans=max(ans,dp[i][j][kk]);\n\t\treturn ans;\n\n    }\n};",
    "submit_ts": 1717859143.0
}