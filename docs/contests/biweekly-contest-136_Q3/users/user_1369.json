{
    "username": "mew",
    "submission": "class Solution {\npublic:\n    int minFlips(vector<vector<int>>& grid) {\n        int ans = 0;\n        int m = grid.size(), n = grid[0].size();\n        for (int i = 0; i < m/2; i++) {\n            for (int j = 0; j < n/2; j++) {\n                int a = grid[i][j], b = grid[m-1-i][j], c = grid[i][n-1-j], d = grid[m-1-i][n-1-j];\n                int one = 0, zero = 0;\n                if (a == 0)\n                    zero++;\n                else\n                    one++;\n\n                if (b == 0)\n                    zero++;\n                else\n                    one++;\n                \n                if (c == 0)\n                    zero++;\n                else\n                    one++;\n\n                if (d == 0)\n                    zero++;\n                else\n                    one++;\n                // cout << i << \" \" << j << \" \" << zero << \" \" << one << endl;\n                ans += min(zero, one);\n            }\n        }    \n\n        // cout << ans << endl;\n        int diff = 0;\n        int one = 0;\n        int space = 0;\n        if (m % 2) {\n            for (int i = 0; i < n/2; i++) {\n                if (grid[m/2][i] != grid[m/2][n-1-i])\n                    diff++;\n                if (grid[m/2][i] == 1)\n                    one++;\n                if (grid[m/2][n-1-i] == 1)\n                    one++;\n                space += 2;\n            }\n        }\n        if (n % 2) {\n            for (int i = 0; i < m/2; i++) {\n                if (grid[i][n/2] != grid[m-1-i][n/2])\n                    diff++;\n                if (grid[i][n/2] == 1)\n                    one++;\n                if (grid[m-1-i][n/2] == 1)\n                    one++;\n                space += 2;\n            }\n        }\n        if (n % 2 && m % 2) {\n            if (grid[m/2][n/2])\n                one++;\n            space++;\n        }\n        // cout << diff << \" \" << one << \" \" << space << endl;\n\n        int cur_ans = INT_MAX;\n        if (diff == 0) {\n            if (one % 4 == 3)\n                return ans + 3;\n            if (one % 4 == 2)\n                return ans + 2;\n            if (one % 4 == 1)\n                return ans + 1;\n            return ans;\n        }\n        for (int i = 0; i <= diff; i++) {\n            int tmp = diff;\n            int cur_one = one;\n            cur_one += i;\n            cur_one -= diff - i;\n            if (space >= 4)\n                tmp += min(cur_one % 4, 4 - cur_one % 4);\n            else\n                tmp += cur_one % 4;\n            cout << i << \" \" << cur_one << \" \" << tmp << endl;\n            cur_ans = min(cur_ans, tmp);\n        }\n        return ans + cur_ans;\n\n        if (space >= 4)\n            one = min(one%4, 4 - one % 4);\n        else\n            one = one % 4;\n        ans += max(one, diff);\n        return ans;\n    }\n};",
    "submit_ts": "1722698337",
    "subm_id": "552270413"
}