{
    "username": "nameless-chessfoot",
    "submission": "class Solution {\npublic:\n    long long minimumOperations(vector<int>& nums, vector<int>& target) {\n        long long ans=0, n=nums.size();\n        vector<int> diff;\n        for(int i=0;i<n;++i){\n            diff.push_back(nums[i]-target[i]);\n        }\n        // for(int i:diff) cout<<i<<\" \";\n        // cout<<endl;\n        for(int l=0;l<n;){\n            if(diff[l]==0){\n                ++l;\n                continue;\n            }\n            int r=l;\n            map<int, set<int>> mp;\n            while(r<n&&((diff[l]>0&&diff[r]>0)||(diff[l]<0&&diff[r]<0))){\n                mp[abs(diff[r])].insert(r);\n                ++r;\n            }\n            int cut=0;\n            vector<pair<int,int>> vct;\n            vct.push_back({l, r-1});\n            for(const auto &[hei, st]:mp){\n                long long delta = hei-cut;\n                cut=hei;\n                vector<pair<int,int>> tmp;\n                auto it = st.begin();\n                for(auto [f, t]:vct){\n                    // cout<<\"from \"<<f<<\" to \"<<t<<\" add \"<<delta<<endl;\n                    ans+=delta;\n                    vector<int> cts;\n                    while(it!=st.end()&&   ((f<=*it) && (*it<=t))){\n                        long val = *it;\n                        // cout<<\"val = \"<<val<<endl;\n                        if(f<=val-1){\n                            // cout<<\"New range \"<<f<<\" \"<<(val-1)<<endl;\n                            tmp.push_back({f, val-1});\n                        }\n                        f=val+1;\n                        ++it;\n                    }\n                    if(f<=t){\n                        tmp.push_back({f, t});\n                    }\n                }\n                swap(vct, tmp);\n            }\n            l=r;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1721532139",
    "subm_id": "548390650"
}