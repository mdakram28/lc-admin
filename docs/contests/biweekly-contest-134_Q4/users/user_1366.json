{
    "username": "ansh_iet_22",
    "submission": "#define ff first\n#define ss second\n#define all(x) (x).begin(), (x).end()\ntypedef long long ll;\ntypedef unsigned long long ull;\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& vec, int k) {\n        int n = vec.size();\n        vector<vector<int>> prefix(n+1,vector<int> (32,0));\n        for(int i = 0 ; i < n ; i++){\n            for(int j = 0 ; j < 32 ; j++){\n                if((1LL<<j)&vec[i]){\n                    prefix[i+1][j] = 1;\n                }\n            }\n        }\n        for(int i = 1; i <= n;i++){\n            for(int j = 0 ; j < 32 ;j++){\n                prefix[i][j]+=prefix[i-1][j];\n            }\n        }\n        ll ans = 0;\n        for(int i = 1 ; i <= n ;i++){\n            long long low = i , high = n , idx1 = i-1 , idx2 = n+1;\n            while(low<=high){\n                int mid = (low+high)/2;\n                long long me = 0;\n                for(int j = 0 ; j < 32; j++){\n                    if(mid-i+1 == prefix[mid][j] - prefix[i-1][j]){\n                        me += (1LL<<j);\n                    }\n                }\n                if(me > k){\n                    low = mid+1;\n                    idx1 = mid;\n                }\n                else{\n                    high = mid-1;\n                }\n            }\n            // cout << \"check\\n\";\n            low = i , high = n;\n            while(low<=high){\n                int mid = (low+high)/2;\n                long long me = 0;\n                for(int j = 0 ; j < 32; j++){\n                    if(mid-i+1 == prefix[mid][j] - prefix[i-1][j]){\n                        me += (1LL<<j);\n                    }\n                }\n                // cout << me << \" \";\n                if(me < k){\n                    high = mid-1;\n                    idx2 = mid;\n                }\n                else{\n                    low = mid+1;\n                }\n            }\n            // cout << idx1 << \" \" << idx2 << \"\\n\";\n            if(idx1 <= idx2){\n                // cout << \"hi\\n\";\n                ans = ans + idx2 - idx1 - 1;\n            }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279175",
    "subm_id": "1311740619"
}