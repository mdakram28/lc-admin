{
    "username": "alianyu",
    "submission": "class Solution:\n\n    def calc(self, cntZero: int, onesLeft: List[int], s: str) -> int:\n        res = 0\n        left = 0\n        right = -1\n\n        minLength = max(1, cntZero * (cntZero + 1))\n        n = len(s)\n        curZero = 0\n        while right <= n - 1:\n            currLength = right - left + 1\n            if currLength < minLength or curZero < cntZero:\n                right += 1\n                if right > n - 1:\n                    break\n                if s[right] == \"0\":\n                    curZero += 1\n            elif curZero > cntZero:\n                if s[left] == \"0\":\n                    curZero -= 1\n                left += 1\n            elif curZero == cntZero:\n                res += 1\n                if right < n - 1 and s[right + 1] == \"1\":\n                    res += onesLeft[right+1]\n                if s[left] == \"0\":\n                    curZero -= 1\n                left += 1\n\n        return res\n\n    def numberOfSubstrings(self, s: str) -> int:\n        res = 0\n        n = len(s)\n        onesLeft = [0] * n\n        cnt1 = 0\n        for i in range(n-1, -1, -1):\n            if s[i] == \"0\":\n                onesLeft[i] = 0\n            else:\n                cnt1 += 1\n                onesLeft[i] = 1\n                if i+1 <= n-1:\n                    onesLeft[i] += onesLeft[i+1]\n        if cnt1 == n:\n            return (n + 1) * n // 2\n        elif cnt1 == 0:\n            return 0\n        cntZero = 0\n        while cntZero * (cntZero + 1) <= len(s):\n            res += self.calc(cntZero, onesLeft, s)\n            cntZero += 1\n        #res = self.calc(2, onesLeft, s)\n\n\n            \n        return res\n        \n\n\n        '''\n        zeros^2 <= ones\n        0 zeros -> any 1\n        1 zeros -> >= 1 ones\n        001111, 2 zeros -> >= 4 ones\n        0001111111, 3 zeros -> >= 9 ones\n\n\n            101101\n     \n\n        10\n        101\n        1011\n        10110-\n        101101\n\n        2* 10 ^2 \n\n\n\n\n        '''",
    "submit_ts": "1722139084",
    "subm_id": "1335807403"
}