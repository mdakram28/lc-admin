{
    "username": "WORTH_IT",
    "submission": "// import java.util.*;\n// import java.util.function.*;\n\n// public class Main {\n//     public static void main(String[] args) throws Exception {\n//         int[][] e = {{0, 1}};\n//         System.out.println(Arrays.toString(new Solution().timeTaken(e)));\n//     }\n// }\n\nclass Solution {\n    @SuppressWarnings(\"unchecked\")\n    public int[] timeTaken(int[][] edges) {\n        int n = edges.length + 1;\n        ArrayList<Integer>[] adj = new ArrayList[n];\n        Arrays.setAll(adj, asd -> new ArrayList<>());\n        for (int[] e : edges) {\n            adj[e[0]].add(e[1]);\n            adj[e[1]].add(e[0]);\n        }\n\n        int[] fir = new int[n];\n        int[] sec = new int[n];\n        BiFunction<Integer, Integer, Void> dfs = new BiFunction<Integer, Integer, Void>() {\n            @Override\n            public Void apply(Integer u, Integer parent) {\n                for (int v : adj[u]) {\n                    if (v == parent)\n                        continue;\n\n                    apply(v, u);\n                    int[] dist = {fir[v] + 2 - (v & 1), fir[u], sec[u]};\n                    Arrays.sort(dist);\n                    fir[u] = dist[2];\n                    sec[u] = dist[1];\n                }\n\n                return null;\n            }\n        };\n\n        int[] ans = new int[n];\n        BiFunction<Integer, Integer, Void> dfsReroot = new BiFunction<Integer, Integer, Void>() {\n            @Override\n            public Void apply(Integer u, Integer parent) {\n                ans[u] = fir[u];\n                for (int v : adj[u]) {\n                    if (v == parent)\n                        continue;\n\n                    int firV = fir[v];\n                    int secV = sec[v];\n\n                    int[] dist = {(fir[u] == fir[v] + 2 - (v & 1) ? sec[u] : fir[u]) + 2 - (u & 1), fir[v], sec[v]};\n                    Arrays.sort(dist);\n                    fir[v] = dist[2];\n                    sec[v] = dist[1];\n                    apply(v, u);\n\n                    fir[v] = firV;\n                    sec[v] = secV;\n                }\n\n                return null;\n            }\n        };\n\n        dfs.apply(0, -1);\n        dfsReroot.apply(0, -1);\n        return ans;\n    }\n}",
    "submit_ts": "1722699975",
    "subm_id": "1343227888"
}