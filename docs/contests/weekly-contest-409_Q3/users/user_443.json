{
    "username": "Harshkriplani",
    "submission": "class Solution {\npublic:\n    vector<int> shortestDistanceAfterQueries(int n, vector<vector<int>>& q) {\n        set<pair<int,int>>s;\n        int ans=0;\n        vector<int>cans;\n        for(auto i:q)\n        {\n            if(s.size()==0)\n            {\n                s.insert({i[0],i[1]});\n                ans+=(i[1]-i[0]-1);\n                \n                \n            }\n            else\n            {\n                auto it=s.lower_bound({i[0],-1});\n                if(it==s.end())\n                {\n                    it--;\n                    if(it->second<=i[0])\n                    {\n                     s.insert({i[0],i[1]});\n                ans+=(i[1]-i[0]-1);\n                    }\n                    \n                }\n                else if(it->first==i[0])\n                {\n                    set<pair<int,int>>y;\n                    while(it!=s.end()&&it->second<=i[1])\n                    {\n                        ans-=((it->second)-(it->first)-1);\n                        y.insert(*it);\n                        it++;\n                        \n                    }\n                    if(y.size())\n                    {\n                        for(auto i:y)\n                        {\n                            s.erase(i);\n                        }\n                        s.insert({i[0],i[1]});\n                        ans+=(i[1]-i[0]-1);\n                    }\n                    \n                    \n                }\n                else\n                {\n                    if(it!=s.begin())\n                    {\n                        it--;\n                        if(it->second>i[0])\n                        {\n                            ;\n                            \n                        }\n                        else\n                        {\n                            it++;\n                            \n                            \n                            set<pair<int,int>>y;\n                    while(it!=s.end()&&it->second<=i[1])\n                    {\n                        ans-=((it->second)-(it->first)-1);\n                        y.insert(*it);\n                        it++;\n                        \n                    }\n                    if(y.size())\n                    {\n                        for(auto i:y)\n                        {\n                            s.erase(i);\n                        }\n                        \n                    }\n                    s.insert({i[0],i[1]});\n                        ans+=(i[1]-i[0]-1);\n                            \n                            \n                            \n                        }\n                    }\n                    else\n                    {\n                        set<pair<int,int>>y;\n                    while(it!=s.end()&&it->second<=i[1])\n                    {\n                        ans-=((it->second)-(it->first)-1);\n                        y.insert(*it);\n                        it++;\n                        \n                    }\n                    if(y.size())\n                    {\n                        for(auto i:y)\n                        {\n                            s.erase(i);\n                        }\n                        \n                    }\n                    s.insert({i[0],i[1]});\n                        ans+=(i[1]-i[0]-1);\n                    }\n    \n                    \n                    \n                }\n               \n            }\n            cans.push_back(n-1-ans);\n            \n            \n        }\n        return cans;\n        \n    }\n};",
    "submit_ts": "1722741487",
    "subm_id": "1343746199"
}