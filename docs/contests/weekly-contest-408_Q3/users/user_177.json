{
    "username": "octaneal",
    "submission": "class Solution:\n    def numberOfSubstrings(self, s: str) -> int:\n        n = len(s)\n        \n        res = 0\n\n        z = []\n        o = []\n\n        for i in range(n):\n            if s[i] == '1':\n                o.append(i)\n            else:\n                z.append(i)\n        z.append(n)\n        for i in range(n):\n            x = 1\n            s1 = s2 = 0\n\n            y = bisect_left(z, i)\n            if y == len(z):\n                break\n            cnt = z[y] - i\n            # print()\n            # print('-----')\n            # print('i =', i)\n            # print('+', cnt)\n            res += cnt\n\n            s1 += cnt\n            s2 += x\n            x += 2\n\n            if s1 >= s2 and z[y] != n:\n                # print('.+', 1)\n                res += 1\n            \n            last = z[y]\n            ind = y\n            while True:\n                y = ind + 1\n                if y == len(z):\n                    break\n                cnt = z[y] - last - 1\n\n                # print(i, '|', z[y], last, cnt, '|', s1, s2)\n\n                if s1 >= s2:\n                    res += cnt\n                    # print('2+', cnt)\n                elif (s1 + cnt) >= s2:\n                    res += max(s1 + cnt - s2 + 1, 0)\n                    # print('1+', max(s1 + cnt - s2 + 1, 0))\n\n                s1 += cnt\n                s2 += x\n                x += 2\n                # print('kurwa', s1, s2)\n                if s1 >= s2 and z[y] != n:\n                    \n                    # print('.+', 1)\n                    res += 1\n                \n                if s2 >= (s1 + n - z[y]):\n                    break\n\n                last = z[y]\n\n                ind += 1\n\n        return res",
    "submit_ts": "1722137807",
    "subm_id": "1335774285"
}