{
    "username": "q1w2e3r4-3",
    "submission": "class Solution {\npublic:\n    vector<int> adj[100005];\n    vector<int> mx[100005];\n    int tm[100005];\n\n    void dfs2(int r,int fa, vector<int>& ans, int ttt){\n        ans[r] = max(tm[r], ttt);\n        int fst = ttt, snd = 0;\n        int sz = adj[r].size();\n        for(int i=0;i<sz;i++){\n            int p = adj[r][i];\n            if(p == fa) continue;\n\n            int x = mx[r][i];\n            if(x > fst){\n                snd = fst, fst = x;\n            }\n            else if(x > snd){\n                snd = x;\n            }\n        }\n\n        // cout << r << \" \" << fst << \" \" << snd << endl;\n        for(int i=0;i<sz;i++){\n            int x = adj[r][i];\n            if(x == fa) continue;\n            int p = mx[r][i];\n            // cout << x << \"!\" << p << endl;\n            if(p == fst) p = snd;\n             else p = fst;\n            // cout << x << \" \" << p << endl;\n\n            p += (r % 2 == 0? 2: 1);\n            dfs2(x,r,ans,p);\n        }\n    }\n\n    void dfs1(int r,int fa){\n        int ret = 0;\n\n        int sz = adj[r].size();\n        mx[r].resize(sz);\n        for(int i = 0;i<sz;i++){\n            int x = adj[r][i];\n            if(x == fa) continue;\n            dfs1(x,r);\n            mx[r][i] = tm[x] + (x % 2 == 0? 2: 1);\n            ret = max(ret, mx[r][i]);\n        }\n        tm[r] = ret;\n    }\n\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n = edges.size() + 1;\n        for(auto e: edges){\n            int x = e[0], y = e[1];\n            adj[x].push_back(y);\n            adj[y].push_back(x);\n        }\n        vector<int> ans(n,0);\n        dfs1(0,-1);\n        // for(int i=0;i<n;i++){\n        //     cout << tm[i] << \" \";\n        // }\n        \n        dfs2(0,-1,ans,0);\n        return ans;\n    }\n};",
    "submit_ts": "1722698180",
    "subm_id": "552269720"
}