{
    "username": "u_wot_m8",
    "submission": "typedef long long int li;\nclass Solution {\n    li mod = 1e9+7;\n    li comp(li start, li end, li tar) {\n        li n = end-start+1;\n        vector<vector<li> > dp(n+1, vector<li> (tar+1, 0));\n        dp[0][0] = 1;\n        for(int i=0; i<n; i++) {\n            li x = start+i;\n            li ind = i+1;\n            li l=0, r=0, sum=0;\n            for(int j=0; j<=tar; j++) {\n                sum = (sum+dp[ind-1][r])%mod;\n                if(r-l+1>x+1) {\n                    sum = (sum-dp[ind-1][l]+mod)%mod;\n                    l++;\n                }\n                dp[ind][j] = sum;\n                r++;\n            }\n        }\n        // for(int i=0; i<=n; i++) {\n        //     for(int j=0; j<=tar; j++) {\n        //         cout << dp[i][j] << \" \";\n        //     }\n        //     cout << endl;\n        // }\n        \n        return dp[n][tar];\n    }\npublic:\n    int numberOfPermutations(int n, vector<vector<int>>& ar) {\n        sort(ar.begin(), ar.end());\n        li ans = comp(0, ar[0][0], ar[0][1]);\n        int ind = ar[0][0], inv=ar[0][1];\n        for(int i=1; i<ar.size(); i++) {\n            if(ar[i][1]<inv) {\n                ans = 0;\n                break;\n            }\n            ans = (ans*comp(ind+1, ar[i][0], ar[i][1]-inv))%mod;\n            ind = ar[i][0]; inv = ar[i][1];\n        }\n        return ans;\n    }\n};",
    "submit_ts": 1719071802.0
}