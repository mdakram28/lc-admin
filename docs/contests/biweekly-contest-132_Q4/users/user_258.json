{
    "username": "123GJWEQ2",
    "submission": "from sortedcontainers import SortedList\n\nclass Solution:\n    def maximumLength(self, nums: List[int], k: int) -> int:\n        val_to_ind = {}\n        res = 0\n        \n        for ind, x in enumerate(sorted(list(set(nums)))):\n            val_to_ind[x] = ind\n            \n        dp = [[0 for i in val_to_ind] for x in range(k + 3)]\n        lists = [SortedList([0 for i in val_to_ind]) for x in range(k + 3)]\n\n\n        for i in range(len(nums) - 1, -1, -1):\n            for x in range(k + 1, 0, -1):\n                lists[x].remove(dp[x][val_to_ind[nums[i]]])\n                dp[x][val_to_ind[nums[i]]] = max(dp[x][val_to_ind[nums[i]]], lists[x - 1][-1]) + 1\n                lists[x].add(dp[x][val_to_ind[nums[i]]])\n        \n        return max(dp[k + 1])",
    "submit_ts": 1717861308.0
}