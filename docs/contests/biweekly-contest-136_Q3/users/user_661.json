{
    "username": "6allant-curied9q",
    "submission": "class Solution {\npublic:\n    int fun(int&a,int &b,int&c,int &d){\n        int cnt0=0,cnt1=0;\n        if(a==0)cnt0++;\n        if(b==0)cnt0++;\n        if(c==0)cnt0++;\n        if(d==0)cnt0++;\n        cnt1=4-cnt0;\n        if(cnt1<=cnt0){\n            return 4-cnt0;\n        }else{\n            return 4-cnt1;\n        }\n    }\n    int minFlips(vector<vector<int>>& grid) {\n        int n=grid.size(),m=grid[0].size();\n        if(n%2==1&&m%2==1){\n            int ans=0,cnt1=0;\n            for(int i=0;i<n/2;i++){\n                int l=0,r=m-1;\n                while(l<r){\n                    ans+=fun(grid[i][l],grid[i][r],grid[n-1-i][l],grid[n-1-i][r]);\n                    l++,r--;\n                }\n            }\n            int l=0,r=m-1,cnt=0;\n            while(l<r){\n                if(grid[n/2][l]!=grid[n/2][r]){\n                    ans++;\n                    cnt++;\n                }else{\n                    if(grid[n/2][l]==1){\n                        cnt1+=2;\n                    }\n                }\n                l++,r--;\n            }\n            l=0,r=n-1;\n            while(l<r){\n                if(grid[l][m/2]!=grid[r][m/2]){\n                    ans++;\n                    cnt++;\n                }else{\n                    if(grid[l][m/2]==1){\n                        cnt1+=2;\n                    }\n                }\n                l++,r--;\n            }\n            if(cnt1%4==2&&cnt==0)ans+=2;\n            if(grid[n/2][m/2]==1)ans++;\n            return ans;\n        }else if(n%2==1){\n            int ans=0,cnt1=0;\n            for(int i=0;i<n/2;i++){\n                int l=0,r=m-1;\n                while(l<r){\n                    ans+=fun(grid[i][l],grid[i][r],grid[n-1-i][l],grid[n-1-i][r]);\n                    l++,r--;\n                }\n            }\n            int l=0,r=m-1,cnt=0;\n            while(l<r){\n                if(grid[n/2][l]!=grid[n/2][r]){\n                    ans++;\n                    cnt++;\n                }else{\n                    if(grid[n/2][l]==1){\n                        cnt1+=2;\n                    }\n                }\n                l++,r--;\n            }\n            if(cnt==0&&cnt1%4==2){\n                ans+=2;\n            }\n            return ans;\n        }else if(m%2==1){\n            int ans=0,cnt1=0;\n            for(int i=0;i<n/2;i++){\n                int l=0,r=m-1;\n                while(l<r){\n                    ans+=fun(grid[i][l],grid[i][r],grid[n-1-i][l],grid[n-1-i][r]);\n                    l++,r--;\n                }\n            }\n            int l=0,r=n-1,cnt=0;\n            while(l<r){\n                if(grid[l][m/2]!=grid[r][m/2]){\n                    ans++;\n                    cnt++;\n                }else{\n                    if(grid[l][m/2]==1){\n                        cnt1+=2;\n                    }\n                }\n                l++,r--;\n            }\n            if(cnt==0&&cnt1%4==2){\n                ans+=2;\n            }\n            return ans;\n        }else{\n            int ans=0;\n            for(int i=0;i<n/2;i++){\n                int l=0,r=m-1;\n                while(l<r){\n                    ans+=fun(grid[i][l],grid[i][r],grid[n-1-i][l],grid[n-1-i][r]);\n                    l++,r--;\n                }\n            }\n            return ans;\n        }\n    }\n};",
    "submit_ts": "1722698094",
    "subm_id": "552269306"
}