{
    "username": "Ujimatsu_Chiya",
    "submission": "# include <bits/stdc++.h>\n# define mem(a,b) memset(a,b,sizeof(a))\n# define lb(x) ((x) & -(x))\n# define pi pair<int,int>\n# define X first\n# define Y second\n# ifdef LOCAL\n# include \"leetcode.h\"\n# endif // LOCAL\nusing namespace std;\ntypedef long long ll;\ntypedef unsigned long long ull;\nint dx[4]={-1,1,0,0},dy[4]={0,0,-1,1};\n\ntemplate<typename T>\nostream & operator << (ostream &out,const set<T>&obj){out<<\"set(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<*it;out<<\")\";return out;}\ntemplate<typename T>\nostream & operator << (ostream &out,const unordered_set<T>&obj){out<<\"unordered_set(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<*it;out<<\")\";return out;}\ntemplate<typename T1,typename T2>\nostream & operator << (ostream &out,const map<T1,T2>&obj){out<<\"map(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<it->first<<\": \"<<it->second;out<<\")\";return out;}\ntemplate<typename T1,typename T2>\nostream & operator << (ostream &out,const unordered_map<T1,T2>&obj){out<<\"unordered_map(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<it->first<<\": \"<<it->second;out<<\")\";return out;}\ntemplate<typename T1,typename T2>\nostream & operator << (ostream &out,const pair<T1,T2>&obj){out<<\"<\"<<obj.first<<\", \"<<obj.second<<\">\";return out;}\ntemplate<typename T>\nostream & operator << (ostream &out,const vector<T>&obj){out<<\"vector(\";for(auto it=obj.begin();it!=obj.end();it++) out<<(it==obj.begin()?\"\":\", \")<<*it;out<<\")\";return out;}\n\ntemplate <typename T>\nstruct HashTable {\n  vector<T> val;\n  void add(T x) { val.push_back(x); }\n  void init() {\n    sort(ALL(val));\n    val.erase(unique(ALL(val)), val.end());\n  }\n  int query(T x) { return lower_bound(ALL(val), x) - val.begin() + 1; }\n  T operator[](const int t) const { return val[t - 1]; }\n  int size() { return val.size(); }\n  void clear(){val.clear();}\n};\nll mod=1e9+7;\nvoid add(int &x, int y) {\n    (x += y) >= mod && (x -= mod);\n}\nvoid sub(int &x, int y) {\n    (x -= y) < 0 && (x += mod);\n}\n\nstruct RMQ{\n    static const int M=20;\n    static const int N=1e5+4;\n    static const int MAX=1,MIN=2,GCD=3,AND=4,OR=5;\n    static const int OP=OR;\n    int n;\n    ll a[N];\n    ll f[N][M];\n    int lg[N];\n    ll cal(ll x,ll y){\n        return x&y;\n    }\n    // init\u524d\u9700\u8981\u5148\u8d4b\u503ca\u548cn\u3002\n    void input(vector<int>&b){\n        n = b.size();\n        for(int i=1;i<=n;i++)\n            a[i]=b[i-1];\n\n    }\n    void init(){\n        lg[0]=-1;\n        for(int i=1;i<=n;i++)\n            lg[i]=lg[i-1]+(i==lb(i));\n        for(int i=1;i<=n;i++)\n            f[i][0]=a[i];\n        for(int j=1;(1<<j)<=n;j++){\n            for(int i=1;i+(1<<j)-1<=n;i++){\n                f[i][j]=cal(f[i][j-1],f[i+(1<<(j-1))][j-1]);\n            }\n        }\n    }\n    ll que(int l,int r){\n        int g = lg[r-l+1];\n        return cal(f[l][g],f[r-(1<<g)+1][g]);\n    }\n}st;\n\n\nclass Solution {\npublic:\n    long long countSubarrays(vector<int>& a, int k) {\n        st.input(a);\n        st.init();\n        ll ans=0;\n        int n=a.size();\n        for(int i=1;i<=n;i++){\n            int l=i,r=n+1;\n            while(l<r){\n                int mid=(l+r)>>1;\n                if(st.que(i,mid)<k) r=mid;\n                else l=mid+1;\n            }\n            int p=l;\n            l=i,r=n+1;\n            while(l<r){\n                int mid=(l+r)>>1;\n                if(st.que(i,mid)<=k) r=mid;\n                else l=mid+1;\n            }\n            int q=l;\n            ans+=p-q;\n        }\n        return ans;\n    }\n};\n",
    "submit_ts": "1720277127",
    "subm_id": "544554653"
}