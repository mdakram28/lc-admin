{
    "username": "gourabh09",
    "submission": "class Solution {\npublic:\nvoid build(int ind,int low,int high,vector<int>&arr,vector<int>&seg) {\nif(low==high) {\n    seg[ind]=arr[low];\n    return;\n}\nint mid = (low+high)/2;\nbuild(2*ind+1,low,mid,arr,seg);\nbuild(2*ind+2,mid+1,high,arr,seg);\nseg[ind] = (seg[2*ind+1]&seg[2*ind+2]);\n}\nint query(int ind,int low,int high,int l,int r,vector<int>&seg) {\nif(r<low || high<l) return INT_MAX;\n\nif(low>=l && high<=r) {\n    return seg[ind];\n}\nint mid = (low+high)>>1;\n\nint left = query(2*ind+1,low,mid,l,r,seg);\nint right = query(2*ind+2,mid+1,high,l,r,seg);\nreturn (left&right);\n}\n\n\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long finalans= 0;\n        \n        int n = nums.size();\n        vector<int>seg(4*n);\n        build(0,0,n-1,nums,seg);\n        for(int i = 0;i<nums.size();i++)\n        {\n            int start = i;\n            int end  = nums.size();\n            int ans = -1;\n            while(start<=end){\n                int mid = start+(end-start)/2;\n                int r = query(0,0,n-1,i,mid,seg);\n                if(r<=k){\n                    ans = mid;\n                    end = mid-1;\n                    \n                }else{\n                    start = mid+1;\n                }\n            }\n            if(ans==-1){\n                continue;\n            }\n            int r = query(0,0,n-1,i,ans,seg);\n            if(r!=k){\n                continue;\n            }\n            start = ans;\n            end = n-1;\n            int ans1 = ans;\n            while(start<=end){\n                int mid = start + (end-start)/2;\n                int r = query(0,0,n-1,i,mid,seg);\n                if(r>=k){\n                    ans1 = mid;\n                    start = mid+1;\n                    \n                }else{\n                    end = mid-1;\n                }\n            }\n            finalans += (ans1-ans+1);\n            \n        }\n        return finalans;\n    }\n};",
    "submit_ts": "1720279261",
    "subm_id": "1311744125"
}