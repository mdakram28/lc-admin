{
    "username": "\u518d\u5237\u4e00\u9898",
    "submission": "impl Solution {\n    \n    pub fn maximum_value_sum(board: Vec<Vec<i32>>) -> i64 {\n        let mut pos = vec![];\n        let m = board.len();\n        let n = board[0].len();\n        for i in 0..m {\n            let mut x: Vec<_> = (0..n).map(|j| (-board[i][j], j)).collect();\n            x.sort_unstable();\n            pos.push(x[..3].to_vec());\n        }\n        let mut nx = vec![vec![]; n];\n        for i in 0..m {\n            for p in &pos[i] {\n                nx[p.1].push((p.0, i));\n            }\n        }\n        for i in 0..n {\n            nx[i].sort_unstable();\n            for j in 3..nx[i].len() {\n                let k = pos[nx[i][j].1].iter().position(|k| k.1 == i).unwrap();\n                pos[nx[i][j].1].remove(k);\n            }\n        }\n        fn f(pos: &Vec<Vec<(i32, usize)>>, i: usize, v: &mut Vec<usize>, mut s: i64, ans: &mut i64) {\n            if i >= pos.len() {\n                return;\n            }\n            for j in 0..pos[i].len() {\n                if !v.contains(&pos[i][j].1) {\n                    v.push(pos[i][j].1);\n                    s -= pos[i][j].0 as i64;\n                    if v.len() == 3 {\n                        *ans = s.max(*ans);\n                    } else {\n                        f(pos, i + 1, v, s, ans);\n                    }\n                    s += pos[i][j].0 as i64;\n                    v.pop();\n                }\n            }\n            f(pos, i+1, v, s, ans);\n        }\n        // println!(\"{:?}\", pos);\n        let mut ans = i64::MIN;\n        f(&pos, 0, &mut vec![], 0, &mut ans);\n        ans\n    }\n\n\n}",
    "submit_ts": "1723908976",
    "subm_id": "556333846"
}