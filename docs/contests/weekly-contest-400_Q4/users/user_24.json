{
    "username": "U_U",
    "submission": "template <class T> class SparseTable { // 0-indexed\npublic:\n    T (*funcOp)(T, T); \n    int n;\n    vector<vector<T>> st;\n    \n    SparseTable() {}\n\n    SparseTable(vector<T> v, T (*inputOp)(T, T)) {\n        n = v.size();\n        st = vector<vector<T>>(__lg(n)+1, vector<T>(n));\n        st[0] = v;\n        this->funcOp = inputOp;\n        for (int i=1; i<st.size(); i++) {\n            for (int j=0; j+(1<<i)<=n; j++) st[i][j] = funcOp(st[i-1][j], st[i-1][j+(1<<(i-1))]);\n        }\n    } \n    \n    // Can't be used for sum operations. \n    T Query(int L, int R) { // inclusive range\n        int sz = __lg(R - L +1);\n        return funcOp(st[sz][L], st[sz][R-(1<<sz)+1]);\n    }\n\n    T QuerySum(int L, int R) {\n        long long sum = 0;\n        for (int i = st.size() - 1; i >= 0; i--) \n        {\n            if ((1 << i) <= R - L + 1) {\n                    sum += st[i][L];\n                    L += 1 << i;\n            }\n        }\n        return sum;\n    }\n};\n\nint AND(int a, int b) {\n            return a & b;\n}\n\nint MIN(int a, int b) {\n            return min(a, b);\n}\n\n\nclass Solution {\npublic:\n    int minimumDifference(vector<int>& nums, int k) {\n        int n = nums.size();\n        auto stAnd = SparseTable<int>(nums, AND);        \n        \n        int res = 0;\n        int minVal = INT_MAX;\n        for (int i = 0; i < n; ++i)\n        {\n            int lo = i;\n            int hi = n - 1;\n            while (lo < hi)\n            {\n                int mid = lo + (hi - lo + 1) / 2;\n                \n                int val = stAnd.Query(i, mid);\n                if (val >= k) lo = mid;\n                else hi = mid - 1;\n            }\n            \n            int val = abs(stAnd.Query(i, lo) - k);\n            if (val < minVal)\n            {\n                minVal = val;                \n            }\n            if (lo + 1 < n)\n            {\n                int val = abs(stAnd.Query(i, lo + 1) - k);\n                if (val < minVal)\n                {\n                    minVal = val;                \n                }   \n            }\n        }\n        \n        return minVal;\n    }\n};",
    "submit_ts": "1717296692",
    "subm_id": "1274714001"
}