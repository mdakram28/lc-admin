{
    "username": "sunrise1024",
    "submission": "class Solution {\npublic:\n    int n;\n    set<pair<int,int>> st;\n    vector<long long> countKConstraintSubstrings(string s, int k, vector<vector<int>>& queries) {\n        n=s.size();\n        long long r=-1;\n        vector<int> t(2);\n        st.clear();\n        vector<long long> ans;\n        vector<vector<int>> id;\n        id.resize(n);\n        int q=queries.size();\n        for(int i=0;i<q;++i){\n            id[queries[i][0]].push_back(i);\n        }\n        ans.resize(q);\n        long long sum=0;\n        for(int l=0;l<n;++l){\n            for(int i:id[l]){\n                ans[i]=-sum;\n                st.emplace(queries[i][1],i);\n            }\n            if(l){\n                t[s[l-1]-'0']--;\n            }\n            while(r!=n-1&&(t[s[r+1]-'0']<k||t[(s[r+1]-'0')^1]<=k)){\n                t[s[r+1]-'0']++;\n                ++r;\n            }\n            //cout<<l<<' '<<r<<'\\n';\n            while(!st.empty()&&st.begin()->first<=r){\n                int i=st.begin()->second;\n                st.erase(st.begin());\n                //cout<<l<<' '<<i<<'\\n';\n                ans[i]+=sum;\n                ans[i]+=1ll*(queries[i][1]-l+1)*queries[i][1]-1ll*(queries[i][1]-l+1)*(queries[i][1]-1+l-1)/2;\n            }\n            sum+=r-l+1;\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1723952115",
    "subm_id": "556409681"
}