{
    "username": "s1967",
    "submission": "class Solution {\npublic:\n    void dfs(int v,int p,vector<int>g[],vector<int>&ans){\n        int count=0;\n        for(auto &c:g[v]){\n            if(c==p)continue;\n            dfs(c,v,g,ans);\n            if(c%2)ans[v]=max(ans[v],1+ans[c]);\n            else ans[v]=max(ans[v],2+ans[c]);\n            count++;\n        }\n        if(count){\n              return;\n        }\n        else{\n            ans[v]=0;\n            return ;\n        }\n    }\n    void dfs(int v,int p,vector<int>g[],vector<int>&ans,vector<int>&res,int top){\n        res[v]=max(res[v],ans[v]);\n        res[v]=max(res[v],top);\n        vector<int>ch;\n        for(auto &c:g[v]){\n            if(c==p)continue;\n            ch.push_back(c);\n        }\n        int m=ch.size();\n        vector<int>pre(m),suff(m);\n        for(int i=0;i<m;i++){\n            if(ch[i]%2)pre[i]=max(ans[ch[i]]+1,i!=0?pre[i-1]:0);\n            else pre[i]=max(ans[ch[i]]+2,i!=0?pre[i-1]:0);\n        }\n        for(int i=m-1;i>=0;i--){\n              if(ch[i]%2)suff[i]=max(ans[ch[i]]+1,i!=m-1?suff[i+1]:0);\n            else suff[i]=max(ans[ch[i]]+2,i!=m-1?suff[i+1]:0);\n        }\n        for(int i=0;i<m;i++){\n            int maxi=max(i!=0?pre[i-1]:0,i!=m-1?suff[i+1]:0);\n            maxi=max(maxi,top);\n            if(v%2) dfs(ch[i],v,g,ans,res,maxi+1);\n            else  dfs(ch[i],v,g,ans,res,maxi+2);\n        }\n    }\n    vector<int> timeTaken(vector<vector<int>>& edges) {\n        int n=edges.size();\n        n++;\n        vector<int>g[n];\n        for(auto &val:edges){\n            int u=val[0];\n            int v=val[1];\n            g[u].push_back(v);\n            g[v].push_back(u);\n        }\n        vector<int>ans(n,-1);\n        dfs(0,-1,g,ans);\n        vector<int>res(n,-1);\n        int top=0;\n        dfs(0,-1,g,ans,res,top);\n        return res;\n    }\n};",
    "submit_ts": "1722698087",
    "subm_id": "1343169187"
}