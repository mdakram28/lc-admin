{
    "username": "Confused Cat",
    "submission": "class Solution:\n    def maximumValueSum(self, board: List[List[int]]) -> int:\n        m = len(board)\n        n = len(board[0])\n        SM = -1_000_000_000_000\n        \n        @cache\n        def solve(rooks, row, avc):\n            remRows = m - row\n            if rooks > remRows:\n                return SM\n\n            if rooks == 3:\n                ret = SM\n                ret = max(ret, solve(rooks, row + 1, -1))\n                for i in range(n):\n                    ret = max(ret, board[row][i] + solve(rooks - 1, row + 1, i))\n\n                return ret\n            elif rooks == 2:\n                ret = SM\n                ret = max(ret, solve(rooks, row + 1, avc))\n                for i in range(n):\n                    if i == avc:\n                        continue\n\n                    ans = solve(rooks - 1, row + 1, avc)\n\n                    ret = max(ret, board[row][i] + (ans[0][0] if ans[0][1] != i else ans[1][0]))\n\n                return ret\n            elif rooks == 1:\n                ret = ((SM, 0), (SM, 0))\n                ans = solve(rooks, row + 1, avc)\n                if ans != SM:\n                    ret = ans\n                \n                big1 = SM\n                idx1 = -1\n                big2 = SM\n                idx2 = -1\n\n                for i in range(n):\n                    if i == avc:\n                        continue\n                    \n                    if board[row][i] >= big1:\n                        big2 = big1\n                        idx2 = idx1\n                        idx1 = i\n                        big1 = board[row][i]\n                    elif board[row][i] > big2:\n                        big2 = board[row][i]\n                        idx2 = i\n\n                ret = list(sorted([(big1, idx1), (big2, idx2)] + list(ret)))\n                return [ret[-1], ret[-2]] if ret[-1][1] != ret[-2][1] else [ret[-1], ret[-3]]\n\n        return solve(3, 0, -1)\n            \n\n            \n\n",
    "submit_ts": "1723908702",
    "subm_id": "1359163667"
}