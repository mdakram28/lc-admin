{
    "username": "salyu",
    "submission": "using ll = long long;\n\nclass Solution {\npublic:\n    ll countSubarrays(vector<int>& nums, int k) {\n        using hist = array<int, 31>;\n        int n = nums.size();\n        ll res = 0;\n        int l = 0, r = 0, vl = 0x7FFFFFFF, vr = 0x7FFFFFFF;\n        hist ml{}, mr{};\n        for (int i = 0; i < n; ++i) {\n            for (int b = 0; b < 31; ++b) {\n                if ((nums[i] & (1 << b)) == 0) {\n                    ++ml[b]; ++mr[b];\n                }\n                vl &= nums[i]; vr &= nums[i];\n            }\n            while (l <= i && vl < k) {\n                int f = nums[l++];\n                for (int b = 0; b < 31; ++b) {\n                    if ((f & (1 << b)) == 0 && --ml[b] == 0) {\n                        vl |= 1 << b;\n                    }\n                }\n            }\n            while (r <= i && vr <= k) {\n                int f = nums[r++];\n                for (int b = 0; b < 31; ++b) {\n                    if ((f & (1 << b)) == 0 && --mr[b] == 0) {\n                        vr |= 1 << b;\n                    }\n                }\n            }\n            res += (r - l);\n        }\n        return res;\n    }\n};",
    "submit_ts": "1720279225",
    "subm_id": "1311742644"
}