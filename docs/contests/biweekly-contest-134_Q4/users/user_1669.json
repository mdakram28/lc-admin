{
    "username": "_neelytandel_",
    "submission": "class Solution {\npublic:\n    long long getright(int ind,int n,vector<vector<int>> &pref,int k)\n    {\n        long long mini=n;\n        for(int i=0;i<31;i++)\n        {\n            if(k&(1<<i))\n            {\n                int st=ind;\n                int end=mini;\n                long long yy=-1;\n                while(st<=end)\n                {\n                    int mid=(st+end)/2;\n                    if((pref[mid][i]-pref[ind-1][i])==(mid-ind+1))\n                    {\n                        yy=mid;\n                        st=mid+1;\n                    }\n                    else\n                        end=mid-1;\n                }\n                if(yy==-1) return -1;\n                mini=min(mini,yy);\n            }\n        }\n        int st=ind;\n        int end=mini;\n        long long ans=-1;\n        while(st<=end)\n        {\n            int mid=(st+end)/2;\n            bool f=1;\n            for(int i=0;i<31;i++)\n            {\n            if(!(k&(1<<i)))\n            {\n                 if((pref[mid][i]-pref[ind-1][i])==(mid-ind+1))\n                 {\n                    f=0;\n                    break;\n                 }\n            }\n            }\n            if(f)\n            {\n                ans=mini-mid+1;\n                end=mid-1;\n            }\n        else\n            st=mid+1;\n        }\n        \n        return ans;\n    }\n    long long countSubarrays(vector<int>& nums, int k) {\n        long long ans=0;\n        int n=nums.size();\n        vector<vector<int>> pref(n+1,vector<int> (31,0));\n        for(int i=0;i<n;i++)\n        {\n            for(int j=0;j<31;j++)\n            {\n                if(nums[i]&(1<<j))\n                {\n                    pref[i+1][j]=1;\n                }\n                pref[i+1][j]+=pref[i][j];\n            }\n        }\n        int prev=0;\n        long long mod=1e9+7;\n        for(int i=1;i<=n;i++)\n        {\n                long long right=getright(i,n,pref,k);\n                if(right!=-1)\n                {\n                    ans=ans+right;\n                }\n        }\n        return ans;\n    }\n};",
    "submit_ts": "1720279361",
    "subm_id": "1311748156"
}