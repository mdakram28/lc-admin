{
    "username": "Wibo",
    "submission": "class Solution {\npublic:\n    int countOfPairs(vector<int>& a) {\n        const int maxa = 1003, mod = 1e9+7;\n        int n = a.size();\n\n        vector<vector<int>> dp(n, vector<int>(maxa, 0));\n        for (int i=0; i<=a[0]; i++) dp[0][i] = 1;\n        \n        // for (int i=0; i<maxa; i++) cout << dp[0][i] << ' ';\n        // cout << '\\n';\n\n        auto modadd = [&](int x, int y) -> int {\n            return (x + y >= mod ? x + y - mod : x + y);\n        };\n\n        for (int i=1; i<n; i++) {\n            for (int j=1; j<maxa; j++) dp[i-1][j] = modadd(dp[i-1][j], dp[i-1][j-1]);\n            auto query = [&](int l, int r) -> int {\n                if (r < l) return 0;\n                int ret = dp[i-1][r] - (l == 0 ? 0 : dp[i-1][l-1]);\n                if (ret < 0) ret += mod;\n                return ret;\n            };\n\n            for (int j=0; j<=a[i]; j++) {\n                // dp[i][j] = sum[k=0..j](dp[i-1][k])\n                // tapi haruslah a[i] - j <= a[i-1] - k\n                // -> k <= a[i-1] - a[i] + j\n                dp[i][j] = query(0, min(j, a[i-1] - a[i] + j));\n                // cout << dp[i][j] << ' ';\n            }\n            // cout << '\\n';\n        }\n\n        int ans = 0;\n        for (int i=0; i<maxa; i++) ans = modadd(ans, dp[n-1][i]);\n\n        return ans;\n    }\n};",
    "submit_ts": "1723344533",
    "subm_id": "1351536614"
}